import{g as be,R as v,r as D}from"./vendor-dMISs24s.js";var ne={exports:{}},oe,ue;function Se(){if(ue)return oe;ue=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return oe=t,oe}var ae,le;function Oe(){if(le)return ae;le=1;var t=Se();function e(){}function r(){}return r.resetWarningCache=e,ae=function(){function o(p,y,u,f,S,O){if(O!==t){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}o.isRequired=o;function i(){return o}var s={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},ae}var fe;function Pe(){return fe||(fe=1,ne.exports=Oe()()),ne.exports}var Re=Pe();const m=be(Re);function pe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,o)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pe(Object(r),!0).forEach(function(o){Ee(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function V(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?V=function(e){return typeof e}:V=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(t)}function Ee(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function we(t,e){if(t==null)return{};var r={},o=Object.keys(t),i,s;for(s=0;s<o.length;s++)i=o[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Te(t,e){if(t==null)return{};var r=we(t,e),o,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)o=s[i],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}function _e(t,e){return ke(t)||xe(t,e)||Ae(t,e)||Ie()}function ke(t){if(Array.isArray(t))return t}function xe(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var o=[],i=!0,s=!1,p,y;try{for(r=r.call(t);!(i=(p=r.next()).done)&&(o.push(p.value),!(e&&o.length===e));i=!0);}catch(u){s=!0,y=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw y}}return o}}function Ae(t,e){if(t){if(typeof t=="string")return me(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(t,e)}}function me(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function Ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R=function(e,r,o){var i=!!o,s=v.useRef(o);v.useEffect(function(){s.current=o},[o]),v.useEffect(function(){if(!i||!e)return function(){};var p=function(){s.current&&s.current.apply(s,arguments)};return e.on(r,p),function(){e.off(r,p)}},[i,r,e,s])},Ne=function(e){var r=v.useRef(e);return v.useEffect(function(){r.current=e},[e]),r.current},G=function(e){return e!==null&&V(e)==="object"},ye="[object Object]",je=function t(e,r){if(!G(e)||!G(r))return e===r;var o=Array.isArray(e),i=Array.isArray(r);if(o!==i)return!1;var s=Object.prototype.toString.call(e)===ye,p=Object.prototype.toString.call(r)===ye;if(s!==p)return!1;if(!s&&!o)return e===r;var y=Object.keys(e),u=Object.keys(r);if(y.length!==u.length)return!1;for(var f={},S=0;S<y.length;S+=1)f[y[S]]=!0;for(var O=0;O<u.length;O+=1)f[u[O]]=!0;var d=Object.keys(f);if(d.length!==y.length)return!1;var A=e,k=r,j=function(L){return t(A[L],k[L])};return d.every(j)},Fe=function(e,r,o){return G(e)?Object.keys(e).reduce(function(i,s){var p=!G(r)||!je(e[s],r[s]);return o.includes(s)||!p?i:de(de({},i||{}),{},Ee({},s,e[s]))},null):null},ge=v.createContext(null);ge.displayName="ElementsContext";var De=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e};m.any,m.object;m.func.isRequired;var Ce=v.createContext(null);Ce.displayName="CheckoutSdkContext";var Le=function(e,r){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return e},Me=v.createContext(null);Me.displayName="CheckoutContext";m.any,m.shape({fetchClientSecret:m.func.isRequired,elementsOptions:m.object}).isRequired;var he=function(e){var r=v.useContext(Ce),o=v.useContext(ge);if(r&&o)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return r?Le(r,e):De(o,e)},Ue=["mode"],Ye=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},E=function(e,r){var o="".concat(Ye(e),"Element"),i=function(u){var f=u.id,S=u.className,O=u.options,d=O===void 0?{}:O,A=u.onBlur,k=u.onFocus,j=u.onReady,W=u.onChange,L=u.onEscape,Q=u.onClick,Z=u.onLoadError,I=u.onLoaderStart,H=u.onNetworksChange,X=u.onConfirm,ee=u.onCancel,te=u.onShippingAddressChange,re=u.onShippingRateChange,M=he("mounts <".concat(o,">")),U="elements"in M?M.elements:null,x="checkoutSdk"in M?M.checkoutSdk:null,Y=v.useState(null),K=_e(Y,2),b=K[0],J=K[1],w=v.useRef(null),q=v.useRef(null);R(b,"blur",A),R(b,"focus",k),R(b,"escape",L),R(b,"click",Q),R(b,"loaderror",Z),R(b,"loaderstart",I),R(b,"networkschange",H),R(b,"confirm",X),R(b,"cancel",ee),R(b,"shippingaddresschange",te),R(b,"shippingratechange",re),R(b,"change",W);var F;j&&(e==="expressCheckout"?F=j:F=function(){j(b)}),R(b,"ready",F),v.useLayoutEffect(function(){if(w.current===null&&q.current!==null&&(U||x)){var a=null;if(x)switch(e){case"payment":a=x.createPaymentElement(d);break;case"address":if("mode"in d){var c=d.mode,l=Te(d,Ue);if(c==="shipping")a=x.createShippingAddressElement(l);else if(c==="billing")a=x.createBillingAddressElement(l);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":a=x.createExpressCheckoutElement(d);break;case"currencySelector":a=x.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(o,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else U&&(a=U.create(e,d));w.current=a,J(a),a&&a.mount(q.current)}},[U,x,d]);var n=Ne(d);return v.useEffect(function(){if(w.current){var a=Fe(d,n,["paymentRequest"]);a&&"update"in w.current&&w.current.update(a)}},[d,n]),v.useLayoutEffect(function(){return function(){if(w.current&&typeof w.current.destroy=="function")try{w.current.destroy(),w.current=null}catch{}}},[]),v.createElement("div",{id:f,className:S,ref:q})},s=function(u){he("mounts <".concat(o,">"));var f=u.id,S=u.className;return v.createElement("div",{id:f,className:S})},p=r?s:i;return p.propTypes={id:m.string,className:m.string,onChange:m.func,onBlur:m.func,onFocus:m.func,onReady:m.func,onEscape:m.func,onClick:m.func,onLoadError:m.func,onLoaderStart:m.func,onNetworksChange:m.func,onConfirm:m.func,onCancel:m.func,onShippingAddressChange:m.func,onShippingRateChange:m.func,options:m.object},p.displayName=o,p.__elementType=e,p},g=typeof window>"u",$e=v.createContext(null);$e.displayName="EmbeddedCheckoutProviderContext";E("auBankAccount",g);var Be=E("card",g);E("cardNumber",g);E("cardExpiry",g);E("cardCvc",g);E("fpxBank",g);E("iban",g);E("idealBank",g);E("p24Bank",g);E("epsBank",g);E("payment",g);E("expressCheckout",g);E("currencySelector",g);E("paymentRequestButton",g);E("linkAuthentication",g);E("address",g);E("shippingAddress",g);E("paymentMethodMessaging",g);E("affirmMessage",g);E("afterpayClearpayMessage",g);var ie,ve;function qe(){if(ve)return ie;ve=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(n,a)=>{for(var c in a)t(n,c,{get:a[c],enumerable:!0})},s=(n,a,c,l)=>{if(a&&typeof a=="object"||typeof a=="function")for(let C of r(a))!o.call(n,C)&&C!==c&&t(n,C,{get:()=>a[C],enumerable:!(l=e(a,C))||l.enumerable});return n},p=n=>s(t({},"__esModule",{value:!0}),n),y=(n,a,c)=>new Promise((l,C)=>{var P=_=>{try{T(c.next(_))}catch($){C($)}},N=_=>{try{T(c.throw(_))}catch($){C($)}},T=_=>_.done?l(_.value):Promise.resolve(_.value).then(P,N);T((c=c.apply(n,a)).next())}),u={};i(u,{SubmissionError:()=>I,appendExtraData:()=>Y,createClient:()=>w,getDefaultClient:()=>q,isSubmissionError:()=>Z}),ie=p(u);var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",S=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;function O(n){n=String(n);for(var a,c,l,C,P="",N=0,T=n.length%3;N<n.length;){if((c=n.charCodeAt(N++))>255||(l=n.charCodeAt(N++))>255||(C=n.charCodeAt(N++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");a=c<<16|l<<8|C,P+=f.charAt(a>>18&63)+f.charAt(a>>12&63)+f.charAt(a>>6&63)+f.charAt(a&63)}return T?P.slice(0,T-3)+"===".substring(T):P}function d(n){if(n=String(n).replace(/[\t\n\f\r ]+/g,""),!S.test(n))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");n+="==".slice(2-(n.length&3));for(var a,c="",l,C,P=0;P<n.length;)a=f.indexOf(n.charAt(P++))<<18|f.indexOf(n.charAt(P++))<<12|(l=f.indexOf(n.charAt(P++)))<<6|(C=f.indexOf(n.charAt(P++))),c+=l===64?String.fromCharCode(a>>16&255):C===64?String.fromCharCode(a>>16&255,a>>8&255):String.fromCharCode(a>>16&255,a>>8&255,a&255);return c}var A=()=>navigator.webdriver||!!document.documentElement.getAttribute(d("d2ViZHJpdmVy"))||!!window.callPhantom||!!window._phantom,k=class{constructor(){this.loadedAt=Date.now(),this.webdriver=A()}data(){return{loadedAt:this.loadedAt,webdriver:this.webdriver}}},j=class{constructor(n){this.kind="success",this.next=n.next}};function W(n){return"next"in n&&typeof n.next=="string"}var L=class{constructor(n,a){this.paymentIntentClientSecret=n,this.resubmitKey=a,this.kind="stripePluginPending"}};function Q(n){if("stripe"in n&&"resubmitKey"in n&&typeof n.resubmitKey=="string"){let{stripe:a}=n;return typeof a=="object"&&a!=null&&"paymentIntentClientSecret"in a&&typeof a.paymentIntentClientSecret=="string"}return!1}function Z(n){return n.kind==="error"}var I=class{constructor(...n){this.kind="error",this.formErrors=[],this.fieldErrors=new Map;var a;for(let c of n){if(!c.field){this.formErrors.push({code:c.code&&H(c.code)?c.code:"UNSPECIFIED",message:c.message});continue}let l=(a=this.fieldErrors.get(c.field))!=null?a:[];l.push({code:c.code&&ee(c.code)?c.code:"UNSPECIFIED",message:c.message}),this.fieldErrors.set(c.field,l)}}getFormErrors(){return[...this.formErrors]}getFieldErrors(n){var a;return(a=this.fieldErrors.get(n))!=null?a:[]}getAllFieldErrors(){return Array.from(this.fieldErrors)}};function H(n){return n in X}var X={BLOCKED:"BLOCKED",EMPTY:"EMPTY",FILES_TOO_BIG:"FILES_TOO_BIG",FORM_NOT_FOUND:"FORM_NOT_FOUND",INACTIVE:"INACTIVE",NO_FILE_UPLOADS:"NO_FILE_UPLOADS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",TOO_MANY_FILES:"TOO_MANY_FILES"};function ee(n){return n in te}var te={REQUIRED_FIELD_EMPTY:"REQUIRED_FIELD_EMPTY",REQUIRED_FIELD_MISSING:"REQUIRED_FIELD_MISSING",STRIPE_CLIENT_ERROR:"STRIPE_CLIENT_ERROR",STRIPE_SCA_ERROR:"STRIPE_SCA_ERROR",TYPE_EMAIL:"TYPE_EMAIL",TYPE_NUMERIC:"TYPE_NUMERIC",TYPE_TEXT:"TYPE_TEXT"};function re(n){return"errors"in n&&Array.isArray(n.errors)&&n.errors.every(a=>typeof a.message=="string")||"error"in n&&typeof n.error=="string"}var M="4.0.0",U=n=>O(JSON.stringify(n)),x=n=>{let a=`@formspree/core@${M}`;return n?`${n} ${a}`:a};function Y(n,a,c){n instanceof FormData?n.append(a,c):n[a]=c}function K(n){return n!==null&&typeof n=="object"}var b=class{constructor(n={}){this.project=n.project,this.stripe=n.stripe,typeof window<"u"&&(this.session=new k)}submitForm(n,a){return y(this,arguments,function*(c,l,C={}){let P=C.endpoint||"https://formspree.io",N=this.project?`${P}/p/${this.project}/f/${c}`:`${P}/f/${c}`,T={Accept:"application/json","Formspree-Client":x(C.clientName)};this.session&&(T["Formspree-Session-Data"]=U(this.session.data())),l instanceof FormData||(T["Content-Type"]="application/json");function _(B){return y(this,null,function*(){try{let h=yield(yield fetch(N,{method:"POST",mode:"cors",body:B instanceof FormData?B:JSON.stringify(B),headers:T})).json();if(K(h)){if(re(h))return Array.isArray(h.errors)?new I(...h.errors):new I({message:h.error});if(Q(h))return new L(h.stripe.paymentIntentClientSecret,h.resubmitKey);if(W(h))return new j({next:h.next})}return new I({message:"Unexpected response format"})}catch(h){let z=h instanceof Error?h.message:`Unknown error while posting to Formspree: ${JSON.stringify(h)}`;return new I({message:z})}})}if(this.stripe&&C.createPaymentMethod){let B=yield C.createPaymentMethod();if(B.error)return new I({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Error creating payment method"});Y(l,"paymentMethod",B.paymentMethod.id);let h=yield _(l);if(h.kind==="error")return h;if(h.kind==="stripePluginPending"){let z=yield this.stripe.handleCardAction(h.paymentIntentClientSecret);if(z.error)return new I({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Stripe SCA error"});l instanceof FormData?l.delete("paymentMethod"):delete l.paymentMethod,Y(l,"paymentIntent",z.paymentIntent.id),Y(l,"resubmitKey",h.resubmitKey);let ce=yield _(l);return J(ce),ce}return h}let $=yield _(l);return J($),$})}};function J(n){let{kind:a}=n;if(a!=="success"&&a!=="error")throw new Error(`Unexpected submission result (kind: ${a})`)}var w=n=>new b(n),q=()=>(F||(F=w()),F),F;return ie}var se=qe();function rt(t){let{prefix:e,field:r,errors:o,...i}=t;if(o==null)return null;let s=r?o.getFieldErrors(r):o.getFormErrors();return s.length===0?null:v.createElement("div",{...i},e?`${e} `:null,s.map(p=>p.message).join(", "))}var We=D.createContext({elements:null});function Ke(){return D.useContext(We)}var Je=v.createContext(null);function ze(){return D.useContext(Je)??{client:se.getDefaultClient()}}var Ve="3.0.0",Ge=`@formspree/react@${Ve}`;function Qe(t,e={}){let r=ze(),{client:o=r.client,extraData:i,origin:s}=e,{elements:p}=Ke(),{stripe:y}=o;return async function(u){let f=Ze(u)?He(u):u;if(typeof i=="object")for(let[d,A]of Object.entries(i)){let k;typeof A=="function"?k=await A():k=A,k!==void 0&&se.appendExtraData(f,d,k)}let S=p?.getElement(Be),O=y&&S?()=>y.createPaymentMethod({type:"card",card:S,billing_details:Xe(f)}):void 0;return o.submitForm(t,f,{endpoint:s,clientName:Ge,createPaymentMethod:O})}}function Ze(t){return"preventDefault"in t&&typeof t.preventDefault=="function"}function He(t){t.preventDefault();let e=t.currentTarget;if(e.tagName!="FORM")throw new Error("submit was triggered for a non-form element");return new FormData(e)}function Xe(t){let e={address:et(t)};for(let r of["name","email","phone"]){let o=t instanceof FormData?t.get(r):t[r];o&&typeof o=="string"&&(e[r]=o)}return e}function et(t){let e={};for(let[r,o]of[["address_line1","line1"],["address_line2","line2"],["address_city","city"],["address_country","country"],["address_state","state"],["address_postal_code","postal_code"]]){let i=t instanceof FormData?t.get(r):t[r];i&&typeof i=="string"&&(e[o]=i)}return e}function nt(t,e={}){let[r,o]=D.useState(null),[i,s]=D.useState(null),[p,y]=D.useState(!1),[u,f]=D.useState(!1),S=Qe(t,{client:e.client,extraData:e.data,origin:e.endpoint});return[{errors:r,result:i,submitting:p,succeeded:u},async function(O){y(!0);let d=await S(O);y(!1),se.isSubmissionError(d)?(o(d),f(!1)):(o(null),s(d),f(!0))},function(){o(null),s(null),y(!1),f(!1)}]}export{nt as J,rt as V};
