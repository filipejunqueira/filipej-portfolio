import{u as Mb,j as b,m as $e,A as Vb}from"./motion-k91hhiCC.js";import{a as Pb,b as Ub,g as Lb,r as Qe,H as jb,R as zb,c as Bb}from"./vendor-dMISs24s.js";import{S as n0,M as i0,U as qb,L as Hb,H as lc,C as Tr,T as Lv,G as Jd,A as ld,a as wd,F as jv,B as xd,P as Wd,b as Fb,c as Gb,d as Qb,E as em,e as r0,f as Kb,g as s0,h as Yb,i as Xb,j as tm,k as zv,l as $b,m as Zb,n as Jb,I as Wb,X as e1,Z as t1,o as n1,p as Bv,q as i1,r as r1,s as s1}from"./icons-Tu-4RK0X.js";import{J as a1,V as ud}from"./forms-yLEunfUc.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var cd={exports:{}},sl={},hd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function o1(){return a0||(a0=1,function(r){function e(F,W){var ae=F.length;F.push(W);e:for(;0<ae;){var Ve=ae-1>>>1,je=F[Ve];if(0<l(je,W))F[Ve]=W,F[ae]=je,ae=Ve;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var W=F[0],ae=F.pop();if(ae!==W){F[0]=ae;e:for(var Ve=0,je=F.length,Rt=je>>>1;Ve<Rt;){var Ne=2*(Ve+1)-1,me=F[Ne],ot=Ne+1,Pt=F[ot];if(0>l(me,ae))ot<je&&0>l(Pt,me)?(F[Ve]=Pt,F[ot]=ae,Ve=ot):(F[Ve]=me,F[Ne]=ae,Ve=Ne);else if(ot<je&&0>l(Pt,ae))F[Ve]=Pt,F[ot]=ae,Ve=ot;else break e}}return W}function l(F,W){var ae=F.sortIndex-W.sortIndex;return ae!==0?ae:F.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,C=null,I=3,B=!1,Y=!1,J=!1,X=!1,se=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function Se(F){for(var W=n(_);W!==null;){if(W.callback===null)a(_);else if(W.startTime<=F)a(_),W.sortIndex=W.expirationTime,e(y,W);else break;W=n(_)}}function Ke(F){if(J=!1,Se(F),!Y)if(n(y)!==null)Y=!0,Ce||(Ce=!0,V());else{var W=n(_);W!==null&&Ft(Ke,W.startTime-F)}}var Ce=!1,O=-1,S=5,x=-1;function D(){return X?!0:!(r.unstable_now()-x<S)}function k(){if(X=!1,Ce){var F=r.unstable_now();x=F;var W=!0;try{e:{Y=!1,J&&(J=!1,ee(O),O=-1),B=!0;var ae=I;try{t:{for(Se(F),C=n(y);C!==null&&!(C.expirationTime>F&&D());){var Ve=C.callback;if(typeof Ve=="function"){C.callback=null,I=C.priorityLevel;var je=Ve(C.expirationTime<=F);if(F=r.unstable_now(),typeof je=="function"){C.callback=je,Se(F),W=!0;break t}C===n(y)&&a(y),Se(F)}else a(y);C=n(y)}if(C!==null)W=!0;else{var Rt=n(_);Rt!==null&&Ft(Ke,Rt.startTime-F),W=!1}}break e}finally{C=null,I=ae,B=!1}W=void 0}}finally{W?V():Ce=!1}}}var V;if(typeof ie=="function")V=function(){ie(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ht=R.port2;R.port1.onmessage=k,V=function(){Ht.postMessage(null)}}else V=function(){se(k,0)};function Ft(F,W){O=se(function(){F(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F||(S=0<F?Math.floor(1e3/F):5)},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(F){switch(I){case 1:case 2:case 3:var W=3;break;default:W=I}var ae=I;I=W;try{return F()}finally{I=ae}},r.unstable_requestPaint=function(){X=!0},r.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ae=I;I=F;try{return W()}finally{I=ae}},r.unstable_scheduleCallback=function(F,W,ae){var Ve=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ve+ae:Ve):ae=Ve,F){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ae+je,F={id:A++,callback:W,priorityLevel:F,startTime:ae,expirationTime:je,sortIndex:-1},ae>Ve?(F.sortIndex=ae,e(_,F),n(y)===null&&F===n(_)&&(J?(ee(O),O=-1):J=!0,Ft(Ke,ae-Ve))):(F.sortIndex=je,e(y,F),Y||B||(Y=!0,Ce||(Ce=!0,V()))),F},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(F){var W=I;return function(){var ae=I;I=W;try{return F.apply(this,arguments)}finally{I=ae}}}}(fd)),fd}var o0;function l1(){return o0||(o0=1,hd.exports=o1()),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function u1(){if(l0)return sl;l0=1;var r=l1(),e=Pb(),n=Ub();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,o=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),t;if(f===o)return g(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,o=f;break}if(T===o){v=!0,o=h,s=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===s){v=!0,s=f,o=h;break}if(T===o){v=!0,o=f,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case X:return"Profiler";case J:return"StrictMode";case Ke:return"Suspense";case Ce:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case ee:return(t._context.displayName||"Context")+".Consumer";case Se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:Ht(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return Ht(t(i))}catch{}}return null}var Ft=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Ve=[],je=-1;function Rt(t){return{current:t}}function Ne(t){0>je||(t.current=Ve[je],Ve[je]=null,je--)}function me(t,i){je++,Ve[je]=t.current,t.current=i}var ot=Rt(null),Pt=Rt(null),Vn=Rt(null),si=Rt(null);function ks(t,i){switch(me(Vn,i),me(Pt,t),me(ot,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ny(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ny(i),t=Dy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ne(ot),me(ot,t)}function Hi(){Ne(ot),Ne(Pt),Ne(Vn)}function Fi(t){t.memoizedState!==null&&me(si,t);var i=ot.current,s=Dy(i,t.type);i!==s&&(me(Pt,t),me(ot,s))}function ai(t){Pt.current===t&&(Ne(ot),Ne(Pt)),si.current===t&&(Ne(si),el._currentValue=ae)}var jr=Object.prototype.hasOwnProperty,zr=r.unstable_scheduleCallback,Br=r.unstable_cancelCallback,$a=r.unstable_shouldYield,Ll=r.unstable_requestPaint,cn=r.unstable_now,oh=r.unstable_getCurrentPriorityLevel,Za=r.unstable_ImmediatePriority,Ms=r.unstable_UserBlockingPriority,qr=r.unstable_NormalPriority,lh=r.unstable_LowPriority,Vs=r.unstable_IdlePriority,Ja=r.log,jl=r.unstable_setDisableYieldValue,We=null,Pe=null;function en(t){if(typeof Ja=="function"&&jl(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(We,t)}catch{}}var Ut=Math.clz32?Math.clz32:Hr,zl=Math.log,uh=Math.LN2;function Hr(t){return t>>>=0,t===0?32:31-(zl(t)/uh|0)|0}var Fr=256,Gr=4194304;function xn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ps(t,i,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=xn(o):(v&=T,v!==0?h=xn(v):s||(s=T&~t,s!==0&&(h=xn(s))))):(T=o&~f,T!==0?h=xn(T):v!==0?h=xn(v):s||(s=o&~t,s!==0&&(h=xn(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function Qr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Wa(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eo(){var t=Fr;return Fr<<=1,(Fr&4194048)===0&&(Fr=256),t}function to(){var t=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),t}function oi(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function li(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function no(t,i,s,o,h,f){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,L=t.hiddenUpdates;for(s=v&~s;0<s;){var H=31-Ut(s),Q=1<<H;T[H]=0,w[H]=-1;var j=L[H];if(j!==null)for(L[H]=null,H=0;H<j.length;H++){var z=j[H];z!==null&&(z.lane&=-536870913)}s&=~Q}o!==0&&Pn(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function Pn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Ut(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function io(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var o=31-Ut(s),h=1<<o;h&i|t[o]&i&&(t[o]|=i),s&=~h}}function Gi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Us(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qi(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:$y(t.type))}function Bl(t,i){var s=W.p;try{return W.p=t,i()}finally{W.p=s}}var Ye=Math.random().toString(36).slice(2),dt="__reactFiber$"+Ye,lt="__reactProps$"+Ye,hn="__reactContainer$"+Ye,ro="__reactEvents$"+Ye,ch="__reactListeners$"+Ye,Ki="__reactHandles$"+Ye,ql="__reactResources$"+Ye,Kr="__reactMarker$"+Ye;function Yi(t){delete t[dt],delete t[lt],delete t[ro],delete t[ch],delete t[Ki]}function ui(t){var i=t[dt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[hn]||s[dt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Vy(t);t!==null;){if(s=t[dt])return s;t=Vy(t)}return i}t=s,s=t.parentNode}return null}function Un(t){if(t=t[dt]||t[hn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ln(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Gt(t){var i=t[ql];return i||(i=t[ql]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function it(t){t[Kr]=!0}var so=new Set,Ls={};function Rn(t,i){ci(t,i),ci(t+"Capture",i)}function ci(t,i){for(Ls[t]=i,t=0;t<i.length;t++)so.add(i[t])}var Hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},Yr={};function Gl(t){return jr.call(Yr,t)?!0:jr.call(Fl,t)?!1:Hl.test(t)?Yr[t]=!0:(Fl[t]=!0,!1)}function Xi(t,i,s){if(Gl(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function jn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function It(t,i,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+o)}}var Xr,Ql;function hi(t){if(Xr===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Xr=i&&i[1]||"",Ql=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+t+Ql}var js=!1;function zs(t,i){if(!t||js)return"";js=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(z){var j=z}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(z){j=z}t.call(Q.prototype)}}else{try{throw Error()}catch(z){j=z}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(z){if(z&&j&&typeof z.stack=="string")return[z.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var w=v.split(`
`),L=T.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===L.length)for(o=w.length-1,h=L.length-1;1<=o&&0<=h&&w[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==L[h]){var H=`
`+w[o].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=o&&0<=h);break}}}finally{js=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?hi(s):""}function ao(t){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return zs(t.type,!1);case 11:return zs(t.type.render,!1);case 1:return zs(t.type,!0);case 31:return hi("Activity");default:return""}}function Bs(t){try{var i="";do i+=ao(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hh(t){var i=oo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function qs(t){t._valueTracker||(t._valueTracker=hh(t))}function lo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return t&&(o=oo(t)?t.checked?"true":"false":t.value),t=o,t!==s?(i.setValue(t),!0):!1}function $r(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fh=/[\n"\\]/g;function ut(t){return t.replace(fh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function tn(t,i,s,o,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Qt(i)):t.value!==""+Qt(i)&&(t.value=""+Qt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?$i(t,v,Qt(i)):s!=null?$i(t,v,Qt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Qt(T):t.removeAttribute("name")}function Zr(t,i,s,o,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;s=s!=null?""+Qt(s):"",i=i!=null?""+Qt(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function $i(t,i,s){i==="number"&&$r(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function fi(t,i,s,o){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Qt(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ze(t,i,s){if(i!=null&&(i=""+Qt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Qt(s):""}function Jr(t,i,s,o){if(i==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ft(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),i=s}s=Qt(i),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function fn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Wr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(t,i,s){var o=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,s):typeof s!="number"||s===0||Wr.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function uo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&s[h]!==o&&Kl(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Kl(t,f,i[f])}function co(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(t){return mh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var di=null;function dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function ho(t){var i=Un(t);if(i&&(t=i.stateNode)){var s=t[lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(tn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==t&&o.form===t.form){var h=o[lt]||null;if(!h)throw Error(a(90));tn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)o=s[i],o.form===t.form&&lo(o)}break e;case"textarea":ze(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&fi(t,!!s.multiple,i,!1)}}}var zn=!1;function Yl(t,i,s){if(zn)return t(i,s);zn=!0;try{var o=t(i);return o}finally{if(zn=!1,(mi!==null||gi!==null)&&(Bu(),mi&&(i=mi,t=gi,gi=mi=null,ho(i),t)))for(i=0;i<t.length;i++)ho(t[i])}}function es(t,i){var s=t.stateNode;if(s===null)return null;var o=s[lt]||null;if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(In)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){mn=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{mn=!1}var Bn=null,Zi=null,pi=null;function fo(){if(pi)return pi;var t,i=Zi,s=i.length,o,h="value"in Bn?Bn.value:Bn.textContent,f=h.length;for(t=0;t<s&&i[t]===h[t];t++);var v=s-t;for(o=1;o<=v&&i[s-o]===h[f-o];o++);return pi=h.slice(t,1<o?1-o:void 0)}function qn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function mo(){return!1}function Et(t){function i(s,o,h,f,v){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:mo,this.isPropagationStopped=mo,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),i}var ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=Et(ke),ns=A({},ke,{view:0,detail:0}),Xl=Et(ns),Gs,Qs,Fn,is=A({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Gs=t.screenX-Fn.screenX,Qs=t.screenY-Fn.screenY):Qs=Gs=0,Fn=t),Gs)},movementY:function(t){return"movementY"in t?t.movementY:Qs}}),gn=Et(is),$l=A({},is,{dataTransfer:0}),gh=Et($l),rs=A({},ns,{relatedTarget:0}),Ks=Et(rs),go=A({},ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Ys=Et(go),Zl=A({},ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xs=Et(Zl),ph=A({},ke,{data:0}),po=Et(ph),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Wl[t])?!!i[t]:!1}function as(){return yo}var eu=A({},ns,{key:function(t){if(t.key){var i=ss[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$s=Et(eu),tu=A({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vo=Et(tu),yi=A({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),nu=Et(yi),iu=A({},ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=Et(iu),su=A({},is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zs=Et(su),Kt=A({},ke,{newState:0,oldState:0}),au=Et(Kt),ou=[9,13,27,32],Gn=In&&"CompositionEvent"in window,u=null;In&&"documentMode"in document&&(u=document.documentMode);var m=In&&"TextEvent"in window&&!u,p=In&&(!Gn||u&&8<u&&11>=u),E=" ",P=!1;function q(t,i){switch(t){case"keyup":return ou.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var we=!1;function mt(t,i){switch(t){case"compositionend":return Z(i);case"keypress":return i.which!==32?null:(P=!0,E);case"textInput":return t=i.data,t===E&&P?null:t;default:return null}}function xe(t,i){if(we)return t==="compositionend"||!Gn&&q(t,i)?(t=fo(),pi=Zi=Bn=null,we=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return p&&i.locale!=="ko"?null:i.data;default:return null}}var bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!bt[t.type]:i==="textarea"}function vi(t,i,s,o){mi?gi?gi.push(o):gi=[o]:mi=o,i=Ku(i,"onChange"),0<i.length&&(s=new Fs("onChange","change",null,s,o),t.push({event:s,listeners:i}))}var Ct=null,Qn=null;function _o(t){wy(t,0)}function lu(t){var i=Ln(t);if(lo(i))return t}function Qm(t,i){if(t==="change")return i}var Km=!1;if(In){var yh;if(In){var vh="oninput"in document;if(!vh){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),vh=typeof Ym.oninput=="function"}yh=vh}else yh=!1;Km=yh&&(!document.documentMode||9<document.documentMode)}function Xm(){Ct&&(Ct.detachEvent("onpropertychange",$m),Qn=Ct=null)}function $m(t){if(t.propertyName==="value"&&lu(Qn)){var i=[];vi(i,Qn,t,dn(t)),Yl(_o,i)}}function cE(t,i,s){t==="focusin"?(Xm(),Ct=i,Qn=s,Ct.attachEvent("onpropertychange",$m)):t==="focusout"&&Xm()}function hE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lu(Qn)}function fE(t,i){if(t==="click")return lu(i)}function dE(t,i){if(t==="input"||t==="change")return lu(i)}function mE(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var nn=typeof Object.is=="function"?Object.is:mE;function To(t,i){if(nn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!jr.call(i,h)||!nn(t[h],i[h]))return!1}return!0}function Zm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jm(t,i){var s=Zm(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=i&&o>=i)return{node:s,offset:i-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zm(s)}}function Wm(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Wm(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function eg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=$r(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=$r(t.document)}return i}function _h(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var gE=In&&"documentMode"in document&&11>=document.documentMode,Js=null,Th=null,Eo=null,Eh=!1;function tg(t,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Eh||Js==null||Js!==$r(o)||(o=Js,"selectionStart"in o&&_h(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Eo&&To(Eo,o)||(Eo=o,o=Ku(Th,"onSelect"),0<o.length&&(i=new Fs("onSelect","select",null,i,s),t.push({event:i,listeners:o}),i.target=Js)))}function os(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Ws={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},bh={},ng={};In&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function ls(t){if(bh[t])return bh[t];if(!Ws[t])return t;var i=Ws[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in ng)return bh[t]=i[s];return t}var ig=ls("animationend"),rg=ls("animationiteration"),sg=ls("animationstart"),pE=ls("transitionrun"),yE=ls("transitionstart"),vE=ls("transitioncancel"),ag=ls("transitionend"),og=new Map,Ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ah.push("scrollEnd");function Cn(t,i){og.set(t,i),Rn(i,[t])}var lg=new WeakMap;function pn(t,i){if(typeof t=="object"&&t!==null){var s=lg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Bs(i)},lg.set(t,i),i)}return{value:t,source:i,stack:Bs(i)}}var yn=[],ea=0,Sh=0;function uu(){for(var t=ea,i=Sh=ea=0;i<t;){var s=yn[i];yn[i++]=null;var o=yn[i];yn[i++]=null;var h=yn[i];yn[i++]=null;var f=yn[i];if(yn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&ug(s,h,f)}}function cu(t,i,s,o){yn[ea++]=t,yn[ea++]=i,yn[ea++]=s,yn[ea++]=o,Sh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function wh(t,i,s,o){return cu(t,i,s,o),hu(t)}function ta(t,i){return cu(t,null,null,i),hu(t)}function ug(t,i,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-Ut(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=s|536870912),f):null}function hu(t){if(50<Qo)throw Qo=0,Of=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var na={};function _E(t,i,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,i,s,o){return new _E(t,i,s,o)}function xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,i){var s=t.alternate;return s===null?(s=rn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function cg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function fu(t,i,s,o,h,f){var v=0;if(o=t,typeof t=="function")xh(t)&&(v=1);else if(typeof t=="string")v=Eb(t,s,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=rn(31,s,i,h),t.elementType=x,t.lanes=f,t;case Y:return us(s.children,h,f,i);case J:v=8,h|=24;break;case X:return t=rn(12,s,i,h|2),t.elementType=X,t.lanes=f,t;case Ke:return t=rn(13,s,i,h),t.elementType=Ke,t.lanes=f,t;case Ce:return t=rn(19,s,i,h),t.elementType=Ce,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:case ie:v=10;break e;case ee:v=9;break e;case Se:v=11;break e;case O:v=14;break e;case S:v=16,o=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=rn(v,s,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function us(t,i,s,o){return t=rn(7,t,o,i),t.lanes=s,t}function Rh(t,i,s){return t=rn(6,t,null,i),t.lanes=s,t}function Ih(t,i,s){return i=rn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ia=[],ra=0,du=null,mu=0,vn=[],_n=0,cs=null,Ti=1,Ei="";function hs(t,i){ia[ra++]=mu,ia[ra++]=du,du=t,mu=i}function hg(t,i,s){vn[_n++]=Ti,vn[_n++]=Ei,vn[_n++]=cs,cs=t;var o=Ti;t=Ei;var h=32-Ut(o)-1;o&=~(1<<h),s+=1;var f=32-Ut(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ti=1<<32-Ut(i)+h|s<<h|o,Ei=f+t}else Ti=1<<f|s<<h|o,Ei=t}function Ch(t){t.return!==null&&(hs(t,1),hg(t,1,0))}function Nh(t){for(;t===du;)du=ia[--ra],ia[ra]=null,mu=ia[--ra],ia[ra]=null;for(;t===cs;)cs=vn[--_n],vn[_n]=null,Ei=vn[--_n],vn[_n]=null,Ti=vn[--_n],vn[_n]=null}var Yt=null,et=null,Oe=!1,fs=null,Kn=!1,Dh=Error(a(519));function ds(t){var i=Error(a(418,""));throw So(pn(i,t)),Dh}function fg(t){var i=t.stateNode,s=t.type,o=t.memoizedProps;switch(i[dt]=t,i[lt]=o,s){case"dialog":Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":case"embed":Ee("load",i);break;case"video":case"audio":for(s=0;s<Yo.length;s++)Ee(Yo[s],i);break;case"source":Ee("error",i);break;case"img":case"image":case"link":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"input":Ee("invalid",i),Zr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),qs(i);break;case"select":Ee("invalid",i);break;case"textarea":Ee("invalid",i),Jr(i,o.value,o.defaultValue,o.children),qs(i)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||o.suppressHydrationWarning===!0||Cy(i.textContent,s)?(o.popover!=null&&(Ee("beforetoggle",i),Ee("toggle",i)),o.onScroll!=null&&Ee("scroll",i),o.onScrollEnd!=null&&Ee("scrollend",i),o.onClick!=null&&(i.onclick=Yu),i=!0):i=!1,i||ds(t)}function dg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Yt=Yt.return}}function bo(t){if(t!==Yt)return!1;if(!Oe)return dg(t),Oe=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Yf(t.type,t.memoizedProps)),s=!s),s&&et&&ds(t),dg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){et=Dn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}et=null}}else i===27?(i=et,dr(t.type)?(t=Jf,Jf=null,et=t):et=i):et=Yt?Dn(t.stateNode.nextSibling):null;return!0}function Ao(){et=Yt=null,Oe=!1}function mg(){var t=fs;return t!==null&&(Jt===null?Jt=t:Jt.push.apply(Jt,t),fs=null),t}function So(t){fs===null?fs=[t]:fs.push(t)}var Oh=Rt(null),ms=null,bi=null;function Ji(t,i,s){me(Oh,i._currentValue),i._currentValue=s}function Ai(t){t._currentValue=Oh.current,Ne(Oh)}function kh(t,i,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===s)break;t=t.return}}function Mh(t,i,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var w=0;w<i.length;w++)if(T.context===i[w]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),kh(f.return,s,t),o||(v=null);break e}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),kh(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function wo(t,i,s,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;nn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===si.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(el):t=[el])}h=h.return}t!==null&&Mh(i,t,s,o),i.flags|=262144}function gu(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function gs(t){ms=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Lt(t){return gg(ms,t)}function pu(t,i){return ms===null&&gs(t),gg(t,i)}function gg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},bi===null){if(t===null)throw Error(a(308));bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else bi=bi.next=i;return s}var TE=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},EE=r.unstable_scheduleCallback,bE=r.unstable_NormalPriority,pt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new TE,data:new Map,refCount:0}}function xo(t){t.refCount--,t.refCount===0&&EE(bE,function(){t.controller.abort()})}var Ro=null,Ph=0,sa=0,aa=null;function AE(t,i){if(Ro===null){var s=Ro=[];Ph=0,sa=jf(),aa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Ph++,i.then(pg,pg),i}function pg(){if(--Ph===0&&Ro!==null){aa!==null&&(aa.status="fulfilled");var t=Ro;Ro=null,sa=0,aa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function SE(t,i){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var yg=F.S;F.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&AE(t,i),yg!==null&&yg(t,i)};var ps=Rt(null);function Uh(){var t=ps.current;return t!==null?t:Ge.pooledCache}function yu(t,i){i===null?me(ps,ps.current):me(ps,i.pool)}function vg(){var t=Uh();return t===null?null:{parent:pt._currentValue,pool:t}}var Io=Error(a(460)),_g=Error(a(474)),vu=Error(a(542)),Lh={then:function(){}};function Tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _u(){}function Eg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(_u,_u),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ag(t),t;default:if(typeof i.status=="string")i.then(_u,_u);else{if(t=Ge,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ag(t),t}throw Co=i,Io}}var Co=null;function bg(){if(Co===null)throw Error(a(459));var t=Co;return Co=null,t}function Ag(t){if(t===Io||t===vu)throw Error(a(483))}var Wi=!1;function jh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tr(t,i,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ue&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=hu(t),ug(t,null,s),i}return cu(t,o,i,s),hu(t)}function No(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,io(t,s)}}function Bh(t,i){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var qh=!1;function Do(){if(qh){var t=aa;if(t!==null)throw t}}function Oo(t,i,s,o){qh=!1;var h=t.updateQueue;Wi=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,L=w.next;w.next=null,v===null?f=L:v.next=L,v=w;var H=t.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==v&&(T===null?H.firstBaseUpdate=L:T.next=L,H.lastBaseUpdate=w))}if(f!==null){var Q=h.baseState;v=0,H=L=w=null,T=f;do{var j=T.lane&-536870913,z=j!==T.lane;if(z?(Re&j)===j:(o&j)===j){j!==0&&j===sa&&(qh=!0),H!==null&&(H=H.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,oe=T;j=i;var He=s;switch(oe.tag){case 1:if(he=oe.payload,typeof he=="function"){Q=he.call(He,Q,j);break e}Q=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=oe.payload,j=typeof he=="function"?he.call(He,Q,j):he,j==null)break e;Q=A({},Q,j);break e;case 2:Wi=!0}}j=T.callback,j!==null&&(t.flags|=64,z&&(t.flags|=8192),z=h.callbacks,z===null?h.callbacks=[j]:z.push(j))}else z={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(L=H=z,w=Q):H=H.next=z,v|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;z=T,T=z.next,z.next=null,h.lastBaseUpdate=z,h.shared.pending=null}}while(!0);H===null&&(w=Q),h.baseState=w,h.firstBaseUpdate=L,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),ur|=v,t.lanes=v,t.memoizedState=Q}}function Sg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function wg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Sg(s[t],i)}var oa=Rt(null),Tu=Rt(0);function xg(t,i){t=Ni,me(Tu,t),me(oa,i),Ni=t|i.baseLanes}function Hh(){me(Tu,Ni),me(oa,oa.current)}function Fh(){Ni=Tu.current,Ne(oa),Ne(Tu)}var nr=0,ye=null,Be=null,ct=null,Eu=!1,la=!1,ys=!1,bu=0,ko=0,ua=null,wE=0;function rt(){throw Error(a(321))}function Gh(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!nn(t[s],i[s]))return!1;return!0}function Qh(t,i,s,o,h,f){return nr=f,ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?up:cp,ys=!1,f=s(o,h),ys=!1,la&&(f=Ig(i,s,o,h)),Rg(t),f}function Rg(t){F.H=Iu;var i=Be!==null&&Be.next!==null;if(nr=0,ct=Be=ye=null,Eu=!1,ko=0,ua=null,i)throw Error(a(300));t===null||At||(t=t.dependencies,t!==null&&gu(t)&&(At=!0))}function Ig(t,i,s,o){ye=t;var h=0;do{if(la&&(ua=null),ko=0,la=!1,25<=h)throw Error(a(301));if(h+=1,ct=Be=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=OE,f=i(s,o)}while(la);return f}function xE(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?Mo(i):i,t=t.useState()[0],(Be!==null?Be.memoizedState:null)!==t&&(ye.flags|=1024),i}function Kh(){var t=bu!==0;return bu=0,t}function Yh(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Xh(t){if(Eu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Eu=!1}nr=0,ct=Be=ye=null,la=!1,ko=bu=0,ua=null}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?ye.memoizedState=ct=t:ct=ct.next=t,ct}function ht(){if(Be===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var i=ct===null?ye.memoizedState:ct.next;if(i!==null)ct=i,Be=t;else{if(t===null)throw ye.alternate===null?Error(a(467)):Error(a(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},ct===null?ye.memoizedState=ct=t:ct=ct.next=t}return ct}function $h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(t){var i=ko;return ko+=1,ua===null&&(ua=[]),t=Eg(ua,t,i),i=ye,(ct===null?i.memoizedState:ct.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?up:cp),t}function Au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Mo(t);if(t.$$typeof===ie)return Lt(t)}throw Error(a(438,String(t)))}function Zh(t){var i=null,s=ye.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var o=ye.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=$h(),ye.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),o=0;o<t;o++)s[o]=D;return i.index++,s}function Si(t,i){return typeof i=="function"?i(t):i}function Su(t){var i=ht();return Jh(i,Be,t)}function Jh(t,i,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var T=v=null,w=null,L=i,H=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Re&Q)===Q:(nr&Q)===Q){var j=L.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===sa&&(H=!0);else if((nr&j)===j){L=L.next,j===sa&&(H=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(T=w=Q,v=f):w=w.next=Q,ye.lanes|=j,ur|=j;Q=L.action,ys&&s(f,Q),f=L.hasEagerState?L.eagerState:s(f,Q)}else j={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(T=w=j,v=f):w=w.next=j,ye.lanes|=Q,ur|=Q;L=L.next}while(L!==null&&L!==i);if(w===null?v=f:w.next=T,!nn(f,t.memoizedState)&&(At=!0,H&&(s=aa,s!==null)))throw s;t.memoizedState=f,t.baseState=v,t.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Wh(t){var i=ht(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);nn(f,i.memoizedState)||(At=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,o]}function Cg(t,i,s){var o=ye,h=ht(),f=Oe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!nn((Be||h).memoizedState,s);v&&(h.memoizedState=s,At=!0),h=h.queue;var T=Og.bind(null,o,h,t);if(Vo(2048,8,T,[t]),h.getSnapshot!==i||v||ct!==null&&ct.memoizedState.tag&1){if(o.flags|=2048,ca(9,wu(),Dg.bind(null,o,h,s,i),null),Ge===null)throw Error(a(349));f||(nr&124)!==0||Ng(o,i,s)}return s}function Ng(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=ye.updateQueue,i===null?(i=$h(),ye.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Dg(t,i,s,o){i.value=s,i.getSnapshot=o,kg(i)&&Mg(t)}function Og(t,i,s){return s(function(){kg(i)&&Mg(t)})}function kg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!nn(t,s)}catch{return!0}}function Mg(t){var i=ta(t,2);i!==null&&un(i,t,2)}function ef(t){var i=$t();if(typeof t=="function"){var s=t;if(t=s(),ys){en(!0);try{s()}finally{en(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},i}function Vg(t,i,s,o){return t.baseState=s,Jh(t,Be,typeof o=="function"?o:Si)}function RE(t,i,s,o,h){if(Ru(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=i.pending,s===null?(f.next=i.pending=f,Pg(i,f)):(f.next=s.next,i.pending=s.next=f)}}function Pg(t,i){var s=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=F.T,v={};F.T=v;try{var T=s(h,o),w=F.S;w!==null&&w(v,T),Ug(t,i,T)}catch(L){tf(t,i,L)}finally{F.T=f}}else try{f=s(h,o),Ug(t,i,f)}catch(L){tf(t,i,L)}}function Ug(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Lg(t,i,o)},function(o){return tf(t,i,o)}):Lg(t,i,s)}function Lg(t,i,s){i.status="fulfilled",i.value=s,jg(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Pg(t,s)))}function tf(t,i,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=s,jg(i),i=i.next;while(i!==o)}t.action=null}function jg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function zg(t,i){return i}function Bg(t,i){if(Oe){var s=Ge.formState;if(s!==null){e:{var o=ye;if(Oe){if(et){t:{for(var h=et,f=Kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Dn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){et=Dn(h.nextSibling),o=h.data==="F!";break e}}ds(o)}o=!1}o&&(i=s[0])}}return s=$t(),s.memoizedState=s.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:i},s.queue=o,s=ap.bind(null,ye,o),o.dispatch=s,o=ef(!1),f=of.bind(null,ye,!1,o.queue),o=$t(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,s=RE.bind(null,ye,h,f,s),h.dispatch=s,o.memoizedState=t,[i,s,!1]}function qg(t){var i=ht();return Hg(i,Be,t)}function Hg(t,i,s){if(i=Jh(t,i,zg)[0],t=Su(Si)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Mo(i)}catch(v){throw v===Io?vu:v}else o=i;i=ht();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(ye.flags|=2048,ca(9,wu(),IE.bind(null,h,s),null)),[o,f,t]}function IE(t,i){t.action=i}function Fg(t){var i=ht(),s=Be;if(s!==null)return Hg(i,s,t);ht(),i=i.memoizedState,s=ht();var o=s.queue.dispatch;return s.memoizedState=t,[i,o,!1]}function ca(t,i,s,o){return t={tag:t,create:s,deps:o,inst:i,next:null},i=ye.updateQueue,i===null&&(i=$h(),ye.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,i.lastEffect=t),t}function wu(){return{destroy:void 0,resource:void 0}}function Gg(){return ht().memoizedState}function xu(t,i,s,o){var h=$t();o=o===void 0?null:o,ye.flags|=t,h.memoizedState=ca(1|i,wu(),s,o)}function Vo(t,i,s,o){var h=ht();o=o===void 0?null:o;var f=h.memoizedState.inst;Be!==null&&o!==null&&Gh(o,Be.memoizedState.deps)?h.memoizedState=ca(i,f,s,o):(ye.flags|=t,h.memoizedState=ca(1|i,f,s,o))}function Qg(t,i){xu(8390656,8,t,i)}function Kg(t,i){Vo(2048,8,t,i)}function Yg(t,i){return Vo(4,2,t,i)}function Xg(t,i){return Vo(4,4,t,i)}function $g(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Zg(t,i,s){s=s!=null?s.concat([t]):null,Vo(4,4,$g.bind(null,i,t),s)}function nf(){}function Jg(t,i){var s=ht();i=i===void 0?null:i;var o=s.memoizedState;return i!==null&&Gh(i,o[1])?o[0]:(s.memoizedState=[t,i],t)}function Wg(t,i){var s=ht();i=i===void 0?null:i;var o=s.memoizedState;if(i!==null&&Gh(i,o[1]))return o[0];if(o=t(),ys){en(!0);try{t()}finally{en(!1)}}return s.memoizedState=[o,i],o}function rf(t,i,s){return s===void 0||(nr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=ny(),ye.lanes|=t,ur|=t,s)}function ep(t,i,s,o){return nn(s,i)?s:oa.current!==null?(t=rf(t,s,o),nn(t,i)||(At=!0),t):(nr&42)===0?(At=!0,t.memoizedState=s):(t=ny(),ye.lanes|=t,ur|=t,i)}function tp(t,i,s,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var v=F.T,T={};F.T=T,of(t,!1,i,s);try{var w=h(),L=F.S;if(L!==null&&L(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=SE(w,o);Po(t,i,H,ln(t))}else Po(t,i,o,ln(t))}catch(Q){Po(t,i,{then:function(){},status:"rejected",reason:Q},ln())}finally{W.p=f,F.T=v}}function CE(){}function sf(t,i,s,o){if(t.tag!==5)throw Error(a(476));var h=np(t).queue;tp(t,h,i,ae,s===null?CE:function(){return ip(t),s(o)})}function np(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ae},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ip(t){var i=np(t).next.queue;Po(t,i,{},ln())}function af(){return Lt(el)}function rp(){return ht().memoizedState}function sp(){return ht().memoizedState}function NE(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=ln();t=er(s);var o=tr(i,t,s);o!==null&&(un(o,i,s),No(o,i,s)),i={cache:Vh()},t.payload=i;return}i=i.return}}function DE(t,i,s){var o=ln();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ru(t)?op(i,s):(s=wh(t,i,s,o),s!==null&&(un(s,t,o),lp(s,i,o)))}function ap(t,i,s){var o=ln();Po(t,i,s,o)}function Po(t,i,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))op(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,T=f(v,s);if(h.hasEagerState=!0,h.eagerState=T,nn(T,v))return cu(t,i,h,0),Ge===null&&uu(),!1}catch{}finally{}if(s=wh(t,i,h,o),s!==null)return un(s,t,o),lp(s,i,o),!0}return!1}function of(t,i,s,o){if(o={lane:2,revertLane:jf(),action:o,hasEagerState:!1,eagerState:null,next:null},Ru(t)){if(i)throw Error(a(479))}else i=wh(t,s,o,2),i!==null&&un(i,t,2)}function Ru(t){var i=t.alternate;return t===ye||i!==null&&i===ye}function op(t,i){la=Eu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function lp(t,i,s){if((s&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,io(t,s)}}var Iu={readContext:Lt,use:Au,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt},up={readContext:Lt,use:Au,useCallback:function(t,i){return $t().memoizedState=[t,i===void 0?null:i],t},useContext:Lt,useEffect:Qg,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,xu(4194308,4,$g.bind(null,i,t),s)},useLayoutEffect:function(t,i){return xu(4194308,4,t,i)},useInsertionEffect:function(t,i){xu(4,2,t,i)},useMemo:function(t,i){var s=$t();i=i===void 0?null:i;var o=t();if(ys){en(!0);try{t()}finally{en(!1)}}return s.memoizedState=[o,i],o},useReducer:function(t,i,s){var o=$t();if(s!==void 0){var h=s(i);if(ys){en(!0);try{s(i)}finally{en(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=DE.bind(null,ye,t),[o.memoizedState,t]},useRef:function(t){var i=$t();return t={current:t},i.memoizedState=t},useState:function(t){t=ef(t);var i=t.queue,s=ap.bind(null,ye,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:nf,useDeferredValue:function(t,i){var s=$t();return rf(s,t,i)},useTransition:function(){var t=ef(!1);return t=tp.bind(null,ye,t.queue,!0,!1),$t().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var o=ye,h=$t();if(Oe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Ge===null)throw Error(a(349));(Re&124)!==0||Ng(o,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,Qg(Og.bind(null,o,f,t),[t]),o.flags|=2048,ca(9,wu(),Dg.bind(null,o,f,s,i),null),s},useId:function(){var t=$t(),i=Ge.identifierPrefix;if(Oe){var s=Ei,o=Ti;s=(o&~(1<<32-Ut(o)-1)).toString(32)+s,i="«"+i+"R"+s,s=bu++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=wE++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:af,useFormState:Bg,useActionState:Bg,useOptimistic:function(t){var i=$t();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=of.bind(null,ye,!0,s),s.dispatch=i,[t,i]},useMemoCache:Zh,useCacheRefresh:function(){return $t().memoizedState=NE.bind(null,ye)}},cp={readContext:Lt,use:Au,useCallback:Jg,useContext:Lt,useEffect:Kg,useImperativeHandle:Zg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:Wg,useReducer:Su,useRef:Gg,useState:function(){return Su(Si)},useDebugValue:nf,useDeferredValue:function(t,i){var s=ht();return ep(s,Be.memoizedState,t,i)},useTransition:function(){var t=Su(Si)[0],i=ht().memoizedState;return[typeof t=="boolean"?t:Mo(t),i]},useSyncExternalStore:Cg,useId:rp,useHostTransitionStatus:af,useFormState:qg,useActionState:qg,useOptimistic:function(t,i){var s=ht();return Vg(s,Be,t,i)},useMemoCache:Zh,useCacheRefresh:sp},OE={readContext:Lt,use:Au,useCallback:Jg,useContext:Lt,useEffect:Kg,useImperativeHandle:Zg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:Wg,useReducer:Wh,useRef:Gg,useState:function(){return Wh(Si)},useDebugValue:nf,useDeferredValue:function(t,i){var s=ht();return Be===null?rf(s,t,i):ep(s,Be.memoizedState,t,i)},useTransition:function(){var t=Wh(Si)[0],i=ht().memoizedState;return[typeof t=="boolean"?t:Mo(t),i]},useSyncExternalStore:Cg,useId:rp,useHostTransitionStatus:af,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,i){var s=ht();return Be!==null?Vg(s,Be,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Zh,useCacheRefresh:sp},ha=null,Uo=0;function Cu(t){var i=Uo;return Uo+=1,ha===null&&(ha=[]),Eg(ha,t,i)}function Lo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Nu(t,i){throw i.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function hp(t){var i=t._init;return i(t._payload)}function fp(t){function i(M,N){if(t){var U=M.deletions;U===null?(M.deletions=[N],M.flags|=16):U.push(N)}}function s(M,N){if(!t)return null;for(;N!==null;)i(M,N),N=N.sibling;return null}function o(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function h(M,N){return M=_i(M,N),M.index=0,M.sibling=null,M}function f(M,N,U){return M.index=U,t?(U=M.alternate,U!==null?(U=U.index,U<N?(M.flags|=67108866,N):U):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function v(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function T(M,N,U,G){return N===null||N.tag!==6?(N=Rh(U,M.mode,G),N.return=M,N):(N=h(N,U),N.return=M,N)}function w(M,N,U,G){var ne=U.type;return ne===Y?H(M,N,U.props.children,G,U.key):N!==null&&(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===S&&hp(ne)===N.type)?(N=h(N,U.props),Lo(N,U),N.return=M,N):(N=fu(U.type,U.key,U.props,null,M.mode,G),Lo(N,U),N.return=M,N)}function L(M,N,U,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Ih(U,M.mode,G),N.return=M,N):(N=h(N,U.children||[]),N.return=M,N)}function H(M,N,U,G,ne){return N===null||N.tag!==7?(N=us(U,M.mode,G,ne),N.return=M,N):(N=h(N,U),N.return=M,N)}function Q(M,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Rh(""+N,M.mode,U),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case I:return U=fu(N.type,N.key,N.props,null,M.mode,U),Lo(U,N),U.return=M,U;case B:return N=Ih(N,M.mode,U),N.return=M,N;case S:var G=N._init;return N=G(N._payload),Q(M,N,U)}if(Ft(N)||V(N))return N=us(N,M.mode,U,null),N.return=M,N;if(typeof N.then=="function")return Q(M,Cu(N),U);if(N.$$typeof===ie)return Q(M,pu(M,N),U);Nu(M,N)}return null}function j(M,N,U,G){var ne=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ne!==null?null:T(M,N,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case I:return U.key===ne?w(M,N,U,G):null;case B:return U.key===ne?L(M,N,U,G):null;case S:return ne=U._init,U=ne(U._payload),j(M,N,U,G)}if(Ft(U)||V(U))return ne!==null?null:H(M,N,U,G,null);if(typeof U.then=="function")return j(M,N,Cu(U),G);if(U.$$typeof===ie)return j(M,N,pu(M,U),G);Nu(M,U)}return null}function z(M,N,U,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(U)||null,T(N,M,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case I:return M=M.get(G.key===null?U:G.key)||null,w(N,M,G,ne);case B:return M=M.get(G.key===null?U:G.key)||null,L(N,M,G,ne);case S:var _e=G._init;return G=_e(G._payload),z(M,N,U,G,ne)}if(Ft(G)||V(G))return M=M.get(U)||null,H(N,M,G,ne,null);if(typeof G.then=="function")return z(M,N,U,Cu(G),ne);if(G.$$typeof===ie)return z(M,N,U,pu(N,G),ne);Nu(N,G)}return null}function he(M,N,U,G){for(var ne=null,_e=null,re=N,ce=N=0,wt=null;re!==null&&ce<U.length;ce++){re.index>ce?(wt=re,re=null):wt=re.sibling;var De=j(M,re,U[ce],G);if(De===null){re===null&&(re=wt);break}t&&re&&De.alternate===null&&i(M,re),N=f(De,N,ce),_e===null?ne=De:_e.sibling=De,_e=De,re=wt}if(ce===U.length)return s(M,re),Oe&&hs(M,ce),ne;if(re===null){for(;ce<U.length;ce++)re=Q(M,U[ce],G),re!==null&&(N=f(re,N,ce),_e===null?ne=re:_e.sibling=re,_e=re);return Oe&&hs(M,ce),ne}for(re=o(re);ce<U.length;ce++)wt=z(re,M,ce,U[ce],G),wt!==null&&(t&&wt.alternate!==null&&re.delete(wt.key===null?ce:wt.key),N=f(wt,N,ce),_e===null?ne=wt:_e.sibling=wt,_e=wt);return t&&re.forEach(function(vr){return i(M,vr)}),Oe&&hs(M,ce),ne}function oe(M,N,U,G){if(U==null)throw Error(a(151));for(var ne=null,_e=null,re=N,ce=N=0,wt=null,De=U.next();re!==null&&!De.done;ce++,De=U.next()){re.index>ce?(wt=re,re=null):wt=re.sibling;var vr=j(M,re,De.value,G);if(vr===null){re===null&&(re=wt);break}t&&re&&vr.alternate===null&&i(M,re),N=f(vr,N,ce),_e===null?ne=vr:_e.sibling=vr,_e=vr,re=wt}if(De.done)return s(M,re),Oe&&hs(M,ce),ne;if(re===null){for(;!De.done;ce++,De=U.next())De=Q(M,De.value,G),De!==null&&(N=f(De,N,ce),_e===null?ne=De:_e.sibling=De,_e=De);return Oe&&hs(M,ce),ne}for(re=o(re);!De.done;ce++,De=U.next())De=z(re,M,ce,De.value,G),De!==null&&(t&&De.alternate!==null&&re.delete(De.key===null?ce:De.key),N=f(De,N,ce),_e===null?ne=De:_e.sibling=De,_e=De);return t&&re.forEach(function(kb){return i(M,kb)}),Oe&&hs(M,ce),ne}function He(M,N,U,G){if(typeof U=="object"&&U!==null&&U.type===Y&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case I:e:{for(var ne=U.key;N!==null;){if(N.key===ne){if(ne=U.type,ne===Y){if(N.tag===7){s(M,N.sibling),G=h(N,U.props.children),G.return=M,M=G;break e}}else if(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===S&&hp(ne)===N.type){s(M,N.sibling),G=h(N,U.props),Lo(G,U),G.return=M,M=G;break e}s(M,N);break}else i(M,N);N=N.sibling}U.type===Y?(G=us(U.props.children,M.mode,G,U.key),G.return=M,M=G):(G=fu(U.type,U.key,U.props,null,M.mode,G),Lo(G,U),G.return=M,M=G)}return v(M);case B:e:{for(ne=U.key;N!==null;){if(N.key===ne)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){s(M,N.sibling),G=h(N,U.children||[]),G.return=M,M=G;break e}else{s(M,N);break}else i(M,N);N=N.sibling}G=Ih(U,M.mode,G),G.return=M,M=G}return v(M);case S:return ne=U._init,U=ne(U._payload),He(M,N,U,G)}if(Ft(U))return he(M,N,U,G);if(V(U)){if(ne=V(U),typeof ne!="function")throw Error(a(150));return U=ne.call(U),oe(M,N,U,G)}if(typeof U.then=="function")return He(M,N,Cu(U),G);if(U.$$typeof===ie)return He(M,N,pu(M,U),G);Nu(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(s(M,N.sibling),G=h(N,U),G.return=M,M=G):(s(M,N),G=Rh(U,M.mode,G),G.return=M,M=G),v(M)):s(M,N)}return function(M,N,U,G){try{Uo=0;var ne=He(M,N,U,G);return ha=null,ne}catch(re){if(re===Io||re===vu)throw re;var _e=rn(29,re,null,M.mode);return _e.lanes=G,_e.return=M,_e}finally{}}}var fa=fp(!0),dp=fp(!1),Tn=Rt(null),Yn=null;function ir(t){var i=t.alternate;me(yt,yt.current&1),me(Tn,t),Yn===null&&(i===null||oa.current!==null||i.memoizedState!==null)&&(Yn=t)}function mp(t){if(t.tag===22){if(me(yt,yt.current),me(Tn,t),Yn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Yn=t)}}else rr()}function rr(){me(yt,yt.current),me(Tn,Tn.current)}function wi(t){Ne(Tn),Yn===t&&(Yn=null),Ne(yt)}var yt=Rt(0);function Du(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Zf(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function lf(t,i,s,o){i=t.memoizedState,s=s(o,i),s=s==null?i:A({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var uf={enqueueSetState:function(t,i,s){t=t._reactInternals;var o=ln(),h=er(o);h.payload=i,s!=null&&(h.callback=s),i=tr(t,h,o),i!==null&&(un(i,t,o),No(i,t,o))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var o=ln(),h=er(o);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=tr(t,h,o),i!==null&&(un(i,t,o),No(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=ln(),o=er(s);o.tag=2,i!=null&&(o.callback=i),i=tr(t,o,s),i!==null&&(un(i,t,s),No(i,t,s))}};function gp(t,i,s,o,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!To(s,o)||!To(h,f):!0}function pp(t,i,s,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==t&&uf.enqueueReplaceState(i,i.state,null)}function vs(t,i){var s=i;if("ref"in i){s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}if(t=t.defaultProps){s===i&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}};function yp(t){Ou(t)}function vp(t){}function _p(t){Ou(t)}function ku(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Tp(t,i,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cf(t,i,s){return s=er(s),s.tag=3,s.payload={element:null},s.callback=function(){ku(t,i)},s}function Ep(t){return t=er(t),t.tag=3,t}function bp(t,i,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Tp(i,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Tp(i,s,o),typeof h!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function kE(t,i,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=s.alternate,i!==null&&wo(i,s,h,!0),s=Tn.current,s!==null){switch(s.tag){case 13:return Yn===null?Mf():s.alternate===null&&tt===0&&(tt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Lh?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([o]):i.add(o),Pf(t,o,h)),!1;case 22:return s.flags|=65536,o===Lh?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([o]):s.add(o)),Pf(t,o,h)),!1}throw Error(a(435,s.tag))}return Pf(t,o,h),Mf(),!1}if(Oe)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Dh&&(t=Error(a(422),{cause:o}),So(pn(t,s)))):(o!==Dh&&(i=Error(a(423),{cause:o}),So(pn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=pn(o,s),h=cf(t.stateNode,o,h),Bh(t,h),tt!==4&&(tt=2)),!1;var f=Error(a(520),{cause:o});if(f=pn(f,s),Go===null?Go=[f]:Go.push(f),tt!==4&&(tt=2),i===null)return!0;o=pn(o,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=cf(s.stateNode,o,t),Bh(s,t),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ep(h),bp(h,t,s,o),Bh(s,h),!1}s=s.return}while(s!==null);return!1}var Ap=Error(a(461)),At=!1;function Nt(t,i,s,o){i.child=t===null?dp(i,null,s,o):fa(i,t.child,s,o)}function Sp(t,i,s,o,h){s=s.render;var f=i.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return gs(i),o=Qh(t,i,s,v,f,h),T=Kh(),t!==null&&!At?(Yh(t,i,h),xi(t,i,h)):(Oe&&T&&Ch(i),i.flags|=1,Nt(t,i,o,h),i.child)}function wp(t,i,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!xh(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,xp(t,i,f,o,h)):(t=fu(s.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!vf(t,h)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:To,s(v,o)&&t.ref===i.ref)return xi(t,i,h)}return i.flags|=1,t=_i(f,o),t.ref=i.ref,t.return=i,i.child=t}function xp(t,i,s,o,h){if(t!==null){var f=t.memoizedProps;if(To(f,o)&&t.ref===i.ref)if(At=!1,i.pendingProps=o=f,vf(t,h))(t.flags&131072)!==0&&(At=!0);else return i.lanes=t.lanes,xi(t,i,h)}return hf(t,i,s,o,h)}function Rp(t,i,s){var o=i.pendingProps,h=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|s:s,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Ip(t,i,o,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&yu(i,f!==null?f.cachePool:null),f!==null?xg(i,f):Hh(),mp(i);else return i.lanes=i.childLanes=536870912,Ip(t,i,f!==null?f.baseLanes|s:s,s)}else f!==null?(yu(i,f.cachePool),xg(i,f),rr(),i.memoizedState=null):(t!==null&&yu(i,null),Hh(),rr());return Nt(t,i,h,s),i.child}function Ip(t,i,s,o){var h=Uh();return h=h===null?null:{parent:pt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&yu(i,null),Hh(),mp(i),t!==null&&wo(t,i,o,!0),null}function Mu(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function hf(t,i,s,o,h){return gs(i),s=Qh(t,i,s,o,void 0,h),o=Kh(),t!==null&&!At?(Yh(t,i,h),xi(t,i,h)):(Oe&&o&&Ch(i),i.flags|=1,Nt(t,i,s,h),i.child)}function Cp(t,i,s,o,h,f){return gs(i),i.updateQueue=null,s=Ig(i,o,s,h),Rg(t),o=Kh(),t!==null&&!At?(Yh(t,i,f),xi(t,i,f)):(Oe&&o&&Ch(i),i.flags|=1,Nt(t,i,s,f),i.child)}function Np(t,i,s,o,h){if(gs(i),i.stateNode===null){var f=na,v=s.contextType;typeof v=="object"&&v!==null&&(f=Lt(v)),f=new s(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=uf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},jh(i),v=s.contextType,f.context=typeof v=="object"&&v!==null?Lt(v):na,f.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(lf(i,s,v,o),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&uf.enqueueReplaceState(f,f.state,null),Oo(i,o,f,h),Do(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,w=vs(s,T);f.props=w;var L=f.context,H=s.contextType;v=na,typeof H=="object"&&H!==null&&(v=Lt(H));var Q=s.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||L!==v)&&pp(i,f,o,v),Wi=!1;var j=i.memoizedState;f.state=j,Oo(i,o,f,h),Do(),L=i.memoizedState,T||j!==L||Wi?(typeof Q=="function"&&(lf(i,s,Q,o),L=i.memoizedState),(w=Wi||gp(i,s,w,o,j,L,v))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),f.props=o,f.state=L,f.context=v,o=w):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,zh(t,i),v=i.memoizedProps,H=vs(s,v),f.props=H,Q=i.pendingProps,j=f.context,L=s.contextType,w=na,typeof L=="object"&&L!==null&&(w=Lt(L)),T=s.getDerivedStateFromProps,(L=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Q||j!==w)&&pp(i,f,o,w),Wi=!1,j=i.memoizedState,f.state=j,Oo(i,o,f,h),Do();var z=i.memoizedState;v!==Q||j!==z||Wi||t!==null&&t.dependencies!==null&&gu(t.dependencies)?(typeof T=="function"&&(lf(i,s,T,o),z=i.memoizedState),(H=Wi||gp(i,s,H,o,j,z,w)||t!==null&&t.dependencies!==null&&gu(t.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,z,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,z,w)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=w,o=H):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,Mu(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=fa(i,t.child,null,h),i.child=fa(i,null,s,h)):Nt(t,i,s,h),i.memoizedState=f.state,t=i.child):t=xi(t,i,h),t}function Dp(t,i,s,o){return Ao(),i.flags|=256,Nt(t,i,s,o),i.child}var ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function df(t){return{baseLanes:t,cachePool:vg()}}function mf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=En),t}function Op(t,i,s){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Oe){if(h?ir(i):rr(),Oe){var T=et,w;if(w=T){e:{for(w=T,T=Kn;w.nodeType!==8;){if(!T){T=null;break e}if(w=Dn(w.nextSibling),w===null){T=null;break e}}T=w}T!==null?(i.memoizedState={dehydrated:T,treeContext:cs!==null?{id:Ti,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},w=rn(18,null,null,0),w.stateNode=T,w.return=i,i.child=w,Yt=i,et=null,w=!0):w=!1}w||ds(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Zf(T)?i.lanes=32:i.lanes=536870912,null;wi(i)}return T=o.children,o=o.fallback,h?(rr(),h=i.mode,T=Vu({mode:"hidden",children:T},h),o=us(o,h,s,null),T.return=i,o.return=i,T.sibling=o,i.child=T,h=i.child,h.memoizedState=df(s),h.childLanes=mf(t,v,s),i.memoizedState=ff,o):(ir(i),gf(i,T))}if(w=t.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(f)i.flags&256?(ir(i),i.flags&=-257,i=pf(t,i,s)):i.memoizedState!==null?(rr(),i.child=t.child,i.flags|=128,i=null):(rr(),h=o.fallback,T=i.mode,o=Vu({mode:"visible",children:o.children},T),h=us(h,T,s,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,fa(i,t.child,null,s),o=i.child,o.memoizedState=df(s),o.childLanes=mf(t,v,s),i.memoizedState=ff,i=h);else if(ir(i),Zf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(a(419)),o.stack="",o.digest=v,So({value:o,source:null,stack:null}),i=pf(t,i,s)}else if(At||wo(t,i,s,!1),v=(s&t.childLanes)!==0,At||v){if(v=Ge,v!==null&&(o=s&-s,o=(o&42)!==0?1:Gi(o),o=(o&(v.suspendedLanes|s))!==0?0:o,o!==0&&o!==w.retryLane))throw w.retryLane=o,ta(t,o),un(v,t,o),Ap;T.data==="$?"||Mf(),i=pf(t,i,s)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=w.treeContext,et=Dn(T.nextSibling),Yt=i,Oe=!0,fs=null,Kn=!1,t!==null&&(vn[_n++]=Ti,vn[_n++]=Ei,vn[_n++]=cs,Ti=t.id,Ei=t.overflow,cs=i),i=gf(i,o.children),i.flags|=4096);return i}return h?(rr(),h=o.fallback,T=i.mode,w=t.child,L=w.sibling,o=_i(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,L!==null?h=_i(L,h):(h=us(h,T,s,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,T=t.child.memoizedState,T===null?T=df(s):(w=T.cachePool,w!==null?(L=pt._currentValue,w=w.parent!==L?{parent:L,pool:L}:w):w=vg(),T={baseLanes:T.baseLanes|s,cachePool:w}),h.memoizedState=T,h.childLanes=mf(t,v,s),i.memoizedState=ff,o):(ir(i),s=t.child,t=s.sibling,s=_i(s,{mode:"visible",children:o.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function gf(t,i){return i=Vu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Vu(t,i){return t=rn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function pf(t,i,s){return fa(i,t.child,null,s),t=gf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function kp(t,i,s){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),kh(t.return,i,s)}function yf(t,i,s,o,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=h)}function Mp(t,i,s){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Nt(t,i,o.children,s),o=yt.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kp(t,s,i);else if(t.tag===19)kp(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(me(yt,o),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Du(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),yf(i,!1,h,s,f);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Du(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}yf(i,!0,s,null,f);break;case"together":yf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function xi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),ur|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(wo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=_i(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=_i(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function vf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&gu(t)))}function ME(t,i,s){switch(i.tag){case 3:ks(i,i.stateNode.containerInfo),Ji(i,pt,t.memoizedState.cache),Ao();break;case 27:case 5:Fi(i);break;case 4:ks(i,i.stateNode.containerInfo);break;case 10:Ji(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(ir(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Op(t,i,s):(ir(i),t=xi(t,i,s),t!==null?t.sibling:null);ir(i);break;case 19:var h=(t.flags&128)!==0;if(o=(s&i.childLanes)!==0,o||(wo(t,i,s,!1),o=(s&i.childLanes)!==0),h){if(o)return Mp(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),me(yt,yt.current),o)break;return null;case 22:case 23:return i.lanes=0,Rp(t,i,s);case 24:Ji(i,pt,t.memoizedState.cache)}return xi(t,i,s)}function Vp(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)At=!0;else{if(!vf(t,s)&&(i.flags&128)===0)return At=!1,ME(t,i,s);At=(t.flags&131072)!==0}else At=!1,Oe&&(i.flags&1048576)!==0&&hg(i,mu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")xh(o)?(t=vs(o,t),i.tag=1,i=Np(null,i,o,t,s)):(i.tag=0,i=hf(null,i,o,t,s));else{if(o!=null){if(h=o.$$typeof,h===Se){i.tag=11,i=Sp(null,i,o,t,s);break e}else if(h===O){i.tag=14,i=wp(null,i,o,t,s);break e}}throw i=Ht(o)||o,Error(a(306,i,""))}}return i;case 0:return hf(t,i,i.type,i.pendingProps,s);case 1:return o=i.type,h=vs(o,i.pendingProps),Np(t,i,o,h,s);case 3:e:{if(ks(i,i.stateNode.containerInfo),t===null)throw Error(a(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,zh(t,i),Oo(i,o,null,s);var v=i.memoizedState;if(o=v.cache,Ji(i,pt,o),o!==f.cache&&Mh(i,[pt],s,!0),Do(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Dp(t,i,o,s);break e}else if(o!==h){h=pn(Error(a(424)),i),So(h),i=Dp(t,i,o,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(et=Dn(t.firstChild),Yt=i,Oe=!0,fs=null,Kn=!0,s=dp(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ao(),o===h){i=xi(t,i,s);break e}Nt(t,i,o,s)}i=i.child}return i;case 26:return Mu(t,i),t===null?(s=jy(i.type,null,i.pendingProps,null))?i.memoizedState=s:Oe||(s=i.type,t=i.pendingProps,o=Xu(Vn.current).createElement(s),o[dt]=i,o[lt]=t,Ot(o,s,t),it(o),i.stateNode=o):i.memoizedState=jy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Fi(i),t===null&&Oe&&(o=i.stateNode=Py(i.type,i.pendingProps,Vn.current),Yt=i,Kn=!0,h=et,dr(i.type)?(Jf=h,et=Dn(o.firstChild)):et=h),Nt(t,i,i.pendingProps.children,s),Mu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Oe&&((h=o=et)&&(o=lb(o,i.type,i.pendingProps,Kn),o!==null?(i.stateNode=o,Yt=i,et=Dn(o.firstChild),Kn=!1,h=!0):h=!1),h||ds(i)),Fi(i),h=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,o=f.children,Yf(h,f)?o=null:v!==null&&Yf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Qh(t,i,xE,null,null,s),el._currentValue=h),Mu(t,i),Nt(t,i,o,s),i.child;case 6:return t===null&&Oe&&((t=s=et)&&(s=ub(s,i.pendingProps,Kn),s!==null?(i.stateNode=s,Yt=i,et=null,t=!0):t=!1),t||ds(i)),null;case 13:return Op(t,i,s);case 4:return ks(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=fa(i,null,o,s):Nt(t,i,o,s),i.child;case 11:return Sp(t,i,i.type,i.pendingProps,s);case 7:return Nt(t,i,i.pendingProps,s),i.child;case 8:return Nt(t,i,i.pendingProps.children,s),i.child;case 12:return Nt(t,i,i.pendingProps.children,s),i.child;case 10:return o=i.pendingProps,Ji(i,i.type,o.value),Nt(t,i,o.children,s),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,gs(i),h=Lt(h),o=o(h),i.flags|=1,Nt(t,i,o,s),i.child;case 14:return wp(t,i,i.type,i.pendingProps,s);case 15:return xp(t,i,i.type,i.pendingProps,s);case 19:return Mp(t,i,s);case 31:return o=i.pendingProps,s=i.mode,o={mode:o.mode,children:o.children},t===null?(s=Vu(o,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=_i(t.child,o),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Rp(t,i,s);case 24:return gs(i),o=Lt(pt),t===null?(h=Uh(),h===null&&(h=Ge,f=Vh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:o,cache:h},jh(i),Ji(i,pt,h)):((t.lanes&s)!==0&&(zh(t,i),Oo(i,null,null,s),Do()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ji(i,pt,o)):(o=f.cache,Ji(i,pt,o),o!==h.cache&&Mh(i,[pt],s,!0))),Nt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ri(t){t.flags|=4}function Pp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fy(i)){if(i=Tn.current,i!==null&&((Re&4194048)===Re?Yn!==null:(Re&62914560)!==Re&&(Re&536870912)===0||i!==Yn))throw Co=Lh,_g;t.flags|=8192}}function Pu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?to():536870912,t.lanes|=i,pa|=i)}function jo(t,i){if(!Oe)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ze(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,i}function VE(t,i,s){var o=i.pendingProps;switch(Nh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(i),null;case 1:return Ze(i),null;case 3:return s=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ai(pt),Hi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(bo(i)?Ri(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mg())),Ze(i),null;case 26:return s=i.memoizedState,t===null?(Ri(i),s!==null?(Ze(i),Pp(i,s)):(Ze(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Ri(i),Ze(i),Pp(i,s)):(Ze(i),i.flags&=-16777217):(t.memoizedProps!==o&&Ri(i),Ze(i),i.flags&=-16777217),null;case 27:ai(i),s=Vn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ri(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return Ze(i),null}t=ot.current,bo(i)?fg(i):(t=Py(h,o,s),i.stateNode=t,Ri(i))}return Ze(i),null;case 5:if(ai(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ri(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return Ze(i),null}if(t=ot.current,bo(i))fg(i);else{switch(h=Xu(Vn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}t[dt]=i,t[lt]=o;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ot(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ri(i)}}return Ze(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Ri(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=Vn.current,bo(i)){if(t=i.stateNode,s=i.memoizedProps,o=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[dt]=i,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Cy(t.nodeValue,s)),t||ds(i)}else t=Xu(t).createTextNode(o),t[dt]=i,i.stateNode=t}return Ze(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=bo(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[dt]=i}else Ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ze(i),h=!1}else h=mg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(wi(i),i):(wi(i),null)}if(wi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Pu(i,i.updateQueue),Ze(i),null;case 4:return Hi(),t===null&&Hf(i.stateNode.containerInfo),Ze(i),null;case 10:return Ai(i.type),Ze(i),null;case 19:if(Ne(yt),h=i.memoizedState,h===null)return Ze(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)jo(h,!1);else{if(tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Du(t),f!==null){for(i.flags|=128,jo(h,!1),t=f.updateQueue,i.updateQueue=t,Pu(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)cg(s,t),s=s.sibling;return me(yt,yt.current&1|2),i.child}t=t.sibling}h.tail!==null&&cn()>ju&&(i.flags|=128,o=!0,jo(h,!1),i.lanes=4194304)}else{if(!o)if(t=Du(f),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Pu(i,t),jo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Oe)return Ze(i),null}else 2*cn()-h.renderingStartTime>ju&&s!==536870912&&(i.flags|=128,o=!0,jo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=cn(),i.sibling=null,t=yt.current,me(yt,o?t&1|2:t&1),i):(Ze(i),null);case 22:case 23:return wi(i),Fh(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(s&536870912)!==0&&(i.flags&128)===0&&(Ze(i),i.subtreeFlags&6&&(i.flags|=8192)):Ze(i),s=i.updateQueue,s!==null&&Pu(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048),t!==null&&Ne(ps),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ai(pt),Ze(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function PE(t,i){switch(Nh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ai(pt),Hi(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ai(i),null;case 13:if(wi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ao()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Ne(yt),null;case 4:return Hi(),null;case 10:return Ai(i.type),null;case 22:case 23:return wi(i),Fh(),t!==null&&Ne(ps),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ai(pt),null;case 25:return null;default:return null}}function Up(t,i){switch(Nh(i),i.tag){case 3:Ai(pt),Hi();break;case 26:case 27:case 5:ai(i);break;case 4:Hi();break;case 13:wi(i);break;case 19:Ne(yt);break;case 10:Ai(i.type);break;case 22:case 23:wi(i),Fh(),t!==null&&Ne(ps);break;case 24:Ai(pt)}}function zo(t,i){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,v=s.inst;o=f(),v.destroy=o}s=s.next}while(s!==h)}}catch(T){Fe(i,i.return,T)}}function sr(t,i,s){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var w=s,L=T;try{L()}catch(H){Fe(h,w,H)}}}o=o.next}while(o!==f)}}catch(H){Fe(i,i.return,H)}}function Lp(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{wg(i,s)}catch(o){Fe(t,t.return,o)}}}function jp(t,i,s){s.props=vs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Fe(t,i,o)}}function Bo(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){Fe(t,i,h)}}function Xn(t,i){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Fe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Fe(t,i,h)}else s.current=null}function zp(t){var i=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Fe(t,t.return,h)}}function _f(t,i,s){try{var o=t.stateNode;ib(o,t.type,s,i),o[lt]=i}catch(h){Fe(t,t.return,h)}}function Bp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&dr(t.type)||t.tag===4}function Tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ef(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Yu));else if(o!==4&&(o===27&&dr(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Ef(t,i,s),t=t.sibling;t!==null;)Ef(t,i,s),t=t.sibling}function Uu(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(o!==4&&(o===27&&dr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Uu(t,i,s),t=t.sibling;t!==null;)Uu(t,i,s),t=t.sibling}function qp(t){var i=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ot(i,o,s),i[dt]=t,i[lt]=s}catch(f){Fe(t,t.return,f)}}var Ii=!1,st=!1,bf=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,St=null;function UE(t,i){if(t=t.containerInfo,Qf=tc,t=eg(t),_h(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var v=0,T=-1,w=-1,L=0,H=0,Q=t,j=null;t:for(;;){for(var z;Q!==s||h!==0&&Q.nodeType!==3||(T=v+h),Q!==f||o!==0&&Q.nodeType!==3||(w=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(z=Q.firstChild)!==null;)j=Q,Q=z;for(;;){if(Q===t)break t;if(j===s&&++L===h&&(T=v),j===f&&++H===o&&(w=v),(z=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=z}s=T===-1||w===-1?null:{start:T,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kf={focusedElem:t,selectionRange:s},tc=!1,St=i;St!==null;)if(i=St,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,St=t;else for(;St!==null;){switch(i=St,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var he=vs(s.type,h,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(oe){Fe(s,s.return,oe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)$f(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$f(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,St=t;break}St=i.return}}function Fp(t,i,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ar(t,s),o&4&&zo(5,s);break;case 1:if(ar(t,s),o&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){Fe(s,s.return,v)}else{var h=vs(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Fe(s,s.return,v)}}o&64&&Lp(s),o&512&&Bo(s,s.return);break;case 3:if(ar(t,s),o&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{wg(t,i)}catch(v){Fe(s,s.return,v)}}break;case 27:i===null&&o&4&&qp(s);case 26:case 5:ar(t,s),i===null&&o&4&&zp(s),o&512&&Bo(s,s.return);break;case 12:ar(t,s);break;case 13:ar(t,s),o&4&&Kp(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=QE.bind(null,s),cb(t,s))));break;case 22:if(o=s.memoizedState!==null||Ii,!o){i=i!==null&&i.memoizedState!==null||st,h=Ii;var f=st;Ii=o,(st=i)&&!f?or(t,s,(s.subtreeFlags&8772)!==0):ar(t,s),Ii=h,st=f}break;case 30:break;default:ar(t,s)}}function Gp(t){var i=t.alternate;i!==null&&(t.alternate=null,Gp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Yi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,Zt=!1;function Ci(t,i,s){for(s=s.child;s!==null;)Qp(t,i,s),s=s.sibling}function Qp(t,i,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(We,s)}catch{}switch(s.tag){case 26:st||Xn(s,i),Ci(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:st||Xn(s,i);var o=Xe,h=Zt;dr(s.type)&&(Xe=s.stateNode,Zt=!1),Ci(t,i,s),$o(s.stateNode),Xe=o,Zt=h;break;case 5:st||Xn(s,i);case 6:if(o=Xe,h=Zt,Xe=null,Ci(t,i,s),Xe=o,Zt=h,Xe!==null)if(Zt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(s.stateNode)}catch(f){Fe(s,i,f)}else try{Xe.removeChild(s.stateNode)}catch(f){Fe(s,i,f)}break;case 18:Xe!==null&&(Zt?(t=Xe,My(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),rl(t)):My(Xe,s.stateNode));break;case 4:o=Xe,h=Zt,Xe=s.stateNode.containerInfo,Zt=!0,Ci(t,i,s),Xe=o,Zt=h;break;case 0:case 11:case 14:case 15:st||sr(2,s,i),st||sr(4,s,i),Ci(t,i,s);break;case 1:st||(Xn(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"&&jp(s,i,o)),Ci(t,i,s);break;case 21:Ci(t,i,s);break;case 22:st=(o=st)||s.memoizedState!==null,Ci(t,i,s),st=o;break;default:Ci(t,i,s)}}function Kp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{rl(t)}catch(s){Fe(i,i.return,s)}}function LE(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Hp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Hp),i;default:throw Error(a(435,t.tag))}}function Af(t,i){var s=LE(t);i.forEach(function(o){var h=KE.bind(null,t,o);s.has(o)||(s.add(o),o.then(h,h))})}function sn(t,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(dr(T.type)){Xe=T.stateNode,Zt=!1;break e}break;case 5:Xe=T.stateNode,Zt=!1;break e;case 3:case 4:Xe=T.stateNode.containerInfo,Zt=!0;break e}T=T.return}if(Xe===null)throw Error(a(160));Qp(f,v,h),Xe=null,Zt=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Yp(i,t),i=i.sibling}var Nn=null;function Yp(t,i){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(i,t),an(t),o&4&&(sr(3,t,t.return),zo(3,t),sr(5,t,t.return));break;case 1:sn(i,t),an(t),o&512&&(st||s===null||Xn(s,s.return)),o&64&&Ii&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Nn;if(sn(i,t),an(t),o&512&&(st||s===null||Xn(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Kr]||f[dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ot(f,o,s),f[dt]=t,it(f),o=f;break e;case"link":var v=qy("link","href",h).get(o+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break t}}f=h.createElement(o),Ot(f,o,s),h.head.appendChild(f);break;case"meta":if(v=qy("meta","content",h).get(o+(s.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break t}}f=h.createElement(o),Ot(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[dt]=t,it(f),o=f}t.stateNode=o}else Hy(h,t.type,t.stateNode);else t.stateNode=By(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Hy(h,t.type,t.stateNode):By(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&_f(t,t.memoizedProps,s.memoizedProps)}break;case 27:sn(i,t),an(t),o&512&&(st||s===null||Xn(s,s.return)),s!==null&&o&4&&_f(t,t.memoizedProps,s.memoizedProps);break;case 5:if(sn(i,t),an(t),o&512&&(st||s===null||Xn(s,s.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(z){Fe(t,t.return,z)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,_f(t,h,s!==null?s.memoizedProps:h)),o&1024&&(bf=!0);break;case 6:if(sn(i,t),an(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(z){Fe(t,t.return,z)}}break;case 3:if(Ju=null,h=Nn,Nn=$u(i.containerInfo),sn(i,t),Nn=h,an(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{rl(i.containerInfo)}catch(z){Fe(t,t.return,z)}bf&&(bf=!1,Xp(t));break;case 4:o=Nn,Nn=$u(t.stateNode.containerInfo),sn(i,t),an(t),Nn=o;break;case 12:sn(i,t),an(t);break;case 13:sn(i,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Cf=cn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Af(t,o)));break;case 22:h=t.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,L=Ii,H=st;if(Ii=L||h,st=H||w,sn(i,t),st=H,Ii=L,an(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||w||Ii||st||_s(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){w=s=i;try{if(f=w.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var Q=w.memoizedProps.style,j=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(z){Fe(w,w.return,z)}}}else if(i.tag===6){if(s===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(z){Fe(w,w.return,z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Af(t,s))));break;case 19:sn(i,t),an(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Af(t,o)));break;case 30:break;case 21:break;default:sn(i,t),an(t)}}function an(t){var i=t.flags;if(i&2){try{for(var s,o=t.return;o!==null;){if(Bp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Tf(t);Uu(t,f,h);break;case 5:var v=s.stateNode;s.flags&32&&(fn(v,""),s.flags&=-33);var T=Tf(t);Uu(t,T,v);break;case 3:case 4:var w=s.stateNode.containerInfo,L=Tf(t);Ef(t,L,w);break;default:throw Error(a(161))}}catch(H){Fe(t,t.return,H)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Xp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Xp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ar(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fp(t,i.alternate,i),i=i.sibling}function _s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:sr(4,i,i.return),_s(i);break;case 1:Xn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&jp(i,i.return,s),_s(i);break;case 27:$o(i.stateNode);case 26:case 5:Xn(i,i.return),_s(i);break;case 22:i.memoizedState===null&&_s(i);break;case 30:_s(i);break;default:_s(i)}t=t.sibling}}function or(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:or(h,f,s),zo(4,f);break;case 1:if(or(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Fe(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Sg(w[h],T)}catch(L){Fe(o,o.return,L)}}s&&v&64&&Lp(f),Bo(f,f.return);break;case 27:qp(f);case 26:case 5:or(h,f,s),s&&o===null&&v&4&&zp(f),Bo(f,f.return);break;case 12:or(h,f,s);break;case 13:or(h,f,s),s&&v&4&&Kp(h,f);break;case 22:f.memoizedState===null&&or(h,f,s),Bo(f,f.return);break;case 30:break;default:or(h,f,s)}i=i.sibling}}function Sf(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&xo(s))}function wf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xo(t))}function $n(t,i,s,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$p(t,i,s,o),i=i.sibling}function $p(t,i,s,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$n(t,i,s,o),h&2048&&zo(9,i);break;case 1:$n(t,i,s,o);break;case 3:$n(t,i,s,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xo(t)));break;case 12:if(h&2048){$n(t,i,s,o),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Fe(i,i.return,w)}}else $n(t,i,s,o);break;case 13:$n(t,i,s,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?$n(t,i,s,o):qo(t,i):f._visibility&2?$n(t,i,s,o):(f._visibility|=2,da(t,i,s,o,(i.subtreeFlags&10256)!==0)),h&2048&&Sf(v,i);break;case 24:$n(t,i,s,o),h&2048&&wf(i.alternate,i);break;default:$n(t,i,s,o)}}function da(t,i,s,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,v=i,T=s,w=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:da(f,v,T,w,h),zo(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?da(f,v,T,w,h):qo(f,v):(H._visibility|=2,da(f,v,T,w,h)),h&&L&2048&&Sf(v.alternate,v);break;case 24:da(f,v,T,w,h),h&&L&2048&&wf(v.alternate,v);break;default:da(f,v,T,w,h)}i=i.sibling}}function qo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,o=i,h=o.flags;switch(o.tag){case 22:qo(s,o),h&2048&&Sf(o.alternate,o);break;case 24:qo(s,o),h&2048&&wf(o.alternate,o);break;default:qo(s,o)}i=i.sibling}}var Ho=8192;function ma(t){if(t.subtreeFlags&Ho)for(t=t.child;t!==null;)Zp(t),t=t.sibling}function Zp(t){switch(t.tag){case 26:ma(t),t.flags&Ho&&t.memoizedState!==null&&Ab(Nn,t.memoizedState,t.memoizedProps);break;case 5:ma(t);break;case 3:case 4:var i=Nn;Nn=$u(t.stateNode.containerInfo),ma(t),Nn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ho,Ho=16777216,ma(t),Ho=i):ma(t));break;default:ma(t)}}function Jp(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Fo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];St=o,ey(o,t)}Jp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wp(t),t=t.sibling}function Wp(t){switch(t.tag){case 0:case 11:case 15:Fo(t),t.flags&2048&&sr(9,t,t.return);break;case 3:Fo(t);break;case 12:Fo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Lu(t)):Fo(t);break;default:Fo(t)}}function Lu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];St=o,ey(o,t)}Jp(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:sr(8,i,i.return),Lu(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Lu(i));break;default:Lu(i)}t=t.sibling}}function ey(t,i){for(;St!==null;){var s=St;switch(s.tag){case 0:case 11:case 15:sr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,St=o;else e:for(s=t;St!==null;){o=St;var h=o.sibling,f=o.return;if(Gp(o),o===s){St=null;break e}if(h!==null){h.return=f,St=h;break e}St=f}}}var jE={getCacheForType:function(t){var i=Lt(pt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},zE=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ge=null,Te=null,Re=0,Le=0,on=null,lr=!1,ga=!1,xf=!1,Ni=0,tt=0,ur=0,Ts=0,Rf=0,En=0,pa=0,Go=null,Jt=null,If=!1,Cf=0,ju=1/0,zu=null,cr=null,Dt=0,hr=null,ya=null,va=0,Nf=0,Df=null,ty=null,Qo=0,Of=null;function ln(){if((Ue&2)!==0&&Re!==0)return Re&-Re;if(F.T!==null){var t=sa;return t!==0?t:jf()}return Qi()}function ny(){En===0&&(En=(Re&536870912)===0||Oe?eo():536870912);var t=Tn.current;return t!==null&&(t.flags|=32),En}function un(t,i,s){(t===Ge&&(Le===2||Le===9)||t.cancelPendingCommit!==null)&&(_a(t,0),fr(t,Re,En,!1)),li(t,s),((Ue&2)===0||t!==Ge)&&(t===Ge&&((Ue&2)===0&&(Ts|=s),tt===4&&fr(t,Re,En,!1)),Zn(t))}function iy(t,i,s){if((Ue&6)!==0)throw Error(a(327));var o=!s&&(i&124)===0&&(i&t.expiredLanes)===0||Qr(t,i),h=o?HE(t,i):Vf(t,i,!0),f=o;do{if(h===0){ga&&!o&&fr(t,i,0,!1);break}else{if(s=t.current.alternate,f&&!BE(s)){h=Vf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=Go;var w=T.current.memoizedState.isDehydrated;if(w&&(_a(T,v).flags|=256),v=Vf(T,v,!1),v!==2){if(xf&&!w){T.errorRecoveryDisabledLanes|=f,Ts|=f,h=4;break e}f=Jt,Jt=h,f!==null&&(Jt===null?Jt=f:Jt.push.apply(Jt,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){_a(t,0),fr(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:fr(o,i,En,!lr);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Cf+300-cn(),10<h)){if(fr(o,i,En,!lr),Ps(o,0,!0)!==0)break e;o.timeoutHandle=Oy(ry.bind(null,o,s,Jt,zu,If,i,En,Ts,pa,lr,f,2,-0,0),h);break e}ry(o,s,Jt,zu,If,i,En,Ts,pa,lr,f,0,-0,0)}}break}while(!0);Zn(t)}function ry(t,i,s,o,h,f,v,T,w,L,H,Q,j,z){if(t.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Wo={stylesheets:null,count:0,unsuspend:bb},Zp(i),Q=Sb(),Q!==null)){t.cancelPendingCommit=Q(hy.bind(null,t,i,f,s,o,h,v,T,w,H,1,j,z)),fr(t,f,v,!L);return}hy(t,i,f,s,o,h,v,T,w)}function BE(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!nn(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fr(t,i,s,o){i&=~Rf,i&=~Ts,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-Ut(h),v=1<<f;o[f]=-1,h&=~v}s!==0&&Pn(t,s,i)}function Bu(){return(Ue&6)===0?(Ko(0),!1):!0}function kf(){if(Te!==null){if(Le===0)var t=Te.return;else t=Te,bi=ms=null,Xh(t),ha=null,Uo=0,t=Te;for(;t!==null;)Up(t.alternate,t),t=t.return;Te=null}}function _a(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,sb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),kf(),Ge=t,Te=s=_i(t.current,null),Re=i,Le=0,on=null,lr=!1,ga=Qr(t,i),xf=!1,pa=En=Rf=Ts=ur=tt=0,Jt=Go=null,If=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-Ut(o),f=1<<h;i|=t[h],o&=~f}return Ni=i,uu(),s}function sy(t,i){ye=null,F.H=Iu,i===Io||i===vu?(i=bg(),Le=3):i===_g?(i=bg(),Le=4):Le=i===Ap?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,on=i,Te===null&&(tt=1,ku(t,pn(i,t.current)))}function ay(){var t=F.H;return F.H=Iu,t===null?Iu:t}function oy(){var t=F.A;return F.A=jE,t}function Mf(){tt=4,lr||(Re&4194048)!==Re&&Tn.current!==null||(ga=!0),(ur&134217727)===0&&(Ts&134217727)===0||Ge===null||fr(Ge,Re,En,!1)}function Vf(t,i,s){var o=Ue;Ue|=2;var h=ay(),f=oy();(Ge!==t||Re!==i)&&(zu=null,_a(t,i)),i=!1;var v=tt;e:do try{if(Le!==0&&Te!==null){var T=Te,w=on;switch(Le){case 8:kf(),v=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var L=Le;if(Le=0,on=null,Ta(t,T,w,L),s&&ga){v=0;break e}break;default:L=Le,Le=0,on=null,Ta(t,T,w,L)}}qE(),v=tt;break}catch(H){sy(t,H)}while(!0);return i&&t.shellSuspendCounter++,bi=ms=null,Ue=o,F.H=h,F.A=f,Te===null&&(Ge=null,Re=0,uu()),v}function qE(){for(;Te!==null;)ly(Te)}function HE(t,i){var s=Ue;Ue|=2;var o=ay(),h=oy();Ge!==t||Re!==i?(zu=null,ju=cn()+500,_a(t,i)):ga=Qr(t,i);e:do try{if(Le!==0&&Te!==null){i=Te;var f=on;t:switch(Le){case 1:Le=0,on=null,Ta(t,i,f,1);break;case 2:case 9:if(Tg(f)){Le=0,on=null,uy(i);break}i=function(){Le!==2&&Le!==9||Ge!==t||(Le=7),Zn(t)},f.then(i,i);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Tg(f)?(Le=0,on=null,uy(i)):(Le=0,on=null,Ta(t,i,f,7));break;case 5:var v=null;switch(Te.tag){case 26:v=Te.memoizedState;case 5:case 27:var T=Te;if(!v||Fy(v)){Le=0,on=null;var w=T.sibling;if(w!==null)Te=w;else{var L=T.return;L!==null?(Te=L,qu(L)):Te=null}break t}}Le=0,on=null,Ta(t,i,f,5);break;case 6:Le=0,on=null,Ta(t,i,f,6);break;case 8:kf(),tt=6;break e;default:throw Error(a(462))}}FE();break}catch(H){sy(t,H)}while(!0);return bi=ms=null,F.H=o,F.A=h,Ue=s,Te!==null?0:(Ge=null,Re=0,uu(),tt)}function FE(){for(;Te!==null&&!$a();)ly(Te)}function ly(t){var i=Vp(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,i===null?qu(t):Te=i}function uy(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Cp(s,i,i.pendingProps,i.type,void 0,Re);break;case 11:i=Cp(s,i,i.pendingProps,i.type.render,i.ref,Re);break;case 5:Xh(i);default:Up(s,i),i=Te=cg(i,Ni),i=Vp(s,i,Ni)}t.memoizedProps=t.pendingProps,i===null?qu(t):Te=i}function Ta(t,i,s,o){bi=ms=null,Xh(i),ha=null,Uo=0;var h=i.return;try{if(kE(t,h,i,s,Re)){tt=1,ku(t,pn(s,t.current)),Te=null;return}}catch(f){if(h!==null)throw Te=h,f;tt=1,ku(t,pn(s,t.current)),Te=null;return}i.flags&32768?(Oe||o===1?t=!0:ga||(Re&536870912)!==0?t=!1:(lr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),cy(i,t)):qu(i)}function qu(t){var i=t;do{if((i.flags&32768)!==0){cy(i,lr);return}t=i.return;var s=VE(i.alternate,i,Ni);if(s!==null){Te=s;return}if(i=i.sibling,i!==null){Te=i;return}Te=i=t}while(i!==null);tt===0&&(tt=5)}function cy(t,i){do{var s=PE(t.alternate,t);if(s!==null){s.flags&=32767,Te=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Te=t;return}Te=t=s}while(t!==null);tt=6,Te=null}function hy(t,i,s,o,h,f,v,T,w){t.cancelPendingCommit=null;do Hu();while(Dt!==0);if((Ue&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=Sh,no(t,s,f,v,T,w),t===Ge&&(Te=Ge=null,Re=0),ya=i,hr=t,va=s,Nf=f,Df=h,ty=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YE(qr,function(){return py(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=W.p,W.p=2,v=Ue,Ue|=4;try{UE(t,i,s)}finally{Ue=v,W.p=h,F.T=o}}Dt=1,fy(),dy(),my()}}function fy(){if(Dt===1){Dt=0;var t=hr,i=ya,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=W.p;W.p=2;var h=Ue;Ue|=4;try{Yp(i,t);var f=Kf,v=eg(t.containerInfo),T=f.focusedElem,w=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Wm(T.ownerDocument.documentElement,T)){if(w!==null&&_h(T)){var L=w.start,H=w.end;if(H===void 0&&(H=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(H,T.value.length);else{var Q=T.ownerDocument||document,j=Q&&Q.defaultView||window;if(j.getSelection){var z=j.getSelection(),he=T.textContent.length,oe=Math.min(w.start,he),He=w.end===void 0?oe:Math.min(w.end,he);!z.extend&&oe>He&&(v=He,He=oe,oe=v);var M=Jm(T,oe),N=Jm(T,He);if(M&&N&&(z.rangeCount!==1||z.anchorNode!==M.node||z.anchorOffset!==M.offset||z.focusNode!==N.node||z.focusOffset!==N.offset)){var U=Q.createRange();U.setStart(M.node,M.offset),z.removeAllRanges(),oe>He?(z.addRange(U),z.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),z.addRange(U))}}}}for(Q=[],z=T;z=z.parentNode;)z.nodeType===1&&Q.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var G=Q[T];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}tc=!!Qf,Kf=Qf=null}finally{Ue=h,W.p=o,F.T=s}}t.current=i,Dt=2}}function dy(){if(Dt===2){Dt=0;var t=hr,i=ya,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=W.p;W.p=2;var h=Ue;Ue|=4;try{Fp(t,i.alternate,i)}finally{Ue=h,W.p=o,F.T=s}}Dt=3}}function my(){if(Dt===4||Dt===3){Dt=0,Ll();var t=hr,i=ya,s=va,o=ty;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Dt=5:(Dt=0,ya=hr=null,gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(cr=null),Us(s),i=i.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(We,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=W.p,W.p=2,F.T=null;try{for(var f=t.onRecoverableError,v=0;v<o.length;v++){var T=o[v];f(T.value,{componentStack:T.stack})}}finally{F.T=i,W.p=h}}(va&3)!==0&&Hu(),Zn(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Of?Qo++:(Qo=0,Of=t):Qo=0,Ko(0)}}function gy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,xo(i)))}function Hu(t){return fy(),dy(),my(),py()}function py(){if(Dt!==5)return!1;var t=hr,i=Nf;Nf=0;var s=Us(va),o=F.T,h=W.p;try{W.p=32>s?32:s,F.T=null,s=Df,Df=null;var f=hr,v=va;if(Dt=0,ya=hr=null,va=0,(Ue&6)!==0)throw Error(a(331));var T=Ue;if(Ue|=4,Wp(f.current),$p(f,f.current,v,s),Ue=T,Ko(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(We,f)}catch{}return!0}finally{W.p=h,F.T=o,gy(t,i)}}function yy(t,i,s){i=pn(s,i),i=cf(t.stateNode,i,2),t=tr(t,i,2),t!==null&&(li(t,2),Zn(t))}function Fe(t,i,s){if(t.tag===3)yy(t,t,s);else for(;i!==null;){if(i.tag===3){yy(i,t,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(cr===null||!cr.has(o))){t=pn(s,t),s=Ep(2),o=tr(i,s,2),o!==null&&(bp(s,o,i,t),li(o,2),Zn(o));break}}i=i.return}}function Pf(t,i,s){var o=t.pingCache;if(o===null){o=t.pingCache=new zE;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(s)||(xf=!0,h.add(s),t=GE.bind(null,t,i,s),i.then(t,t))}function GE(t,i,s){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ge===t&&(Re&s)===s&&(tt===4||tt===3&&(Re&62914560)===Re&&300>cn()-Cf?(Ue&2)===0&&_a(t,0):Rf|=s,pa===Re&&(pa=0)),Zn(t)}function vy(t,i){i===0&&(i=to()),t=ta(t,i),t!==null&&(li(t,i),Zn(t))}function QE(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),vy(t,s)}function KE(t,i){var s=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),vy(t,s)}function YE(t,i){return zr(t,i)}var Fu=null,Ea=null,Uf=!1,Gu=!1,Lf=!1,Es=0;function Zn(t){t!==Ea&&t.next===null&&(Ea===null?Fu=Ea=t:Ea=Ea.next=t),Gu=!0,Uf||(Uf=!0,$E())}function Ko(t,i){if(!Lf&&Gu){Lf=!0;do for(var s=!1,o=Fu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Ut(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,by(o,f))}else f=Re,f=Ps(o,o===Ge?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Qr(o,f)||(s=!0,by(o,f));o=o.next}while(s);Lf=!1}}function XE(){_y()}function _y(){Gu=Uf=!1;var t=0;Es!==0&&(rb()&&(t=Es),Es=0);for(var i=cn(),s=null,o=Fu;o!==null;){var h=o.next,f=Ty(o,i);f===0?(o.next=null,s===null?Fu=h:s.next=h,h===null&&(Ea=s)):(s=o,(t!==0||(f&3)!==0)&&(Gu=!0)),o=h}Ko(t)}function Ty(t,i){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ut(f),T=1<<v,w=h[v];w===-1?((T&s)===0||(T&o)!==0)&&(h[v]=Wa(T,i)):w<=i&&(t.expiredLanes|=T),f&=~T}if(i=Ge,s=Re,s=Ps(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===i&&(Le===2||Le===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Br(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Qr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(o!==null&&Br(o),Us(s)){case 2:case 8:s=Ms;break;case 32:s=qr;break;case 268435456:s=Vs;break;default:s=qr}return o=Ey.bind(null,t),s=zr(s,o),t.callbackPriority=i,t.callbackNode=s,i}return o!==null&&o!==null&&Br(o),t.callbackPriority=2,t.callbackNode=null,2}function Ey(t,i){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Hu()&&t.callbackNode!==s)return null;var o=Re;return o=Ps(t,t===Ge?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(iy(t,o,i),Ty(t,cn()),t.callbackNode!=null&&t.callbackNode===s?Ey.bind(null,t):null)}function by(t,i){if(Hu())return null;iy(t,i,!0)}function $E(){ab(function(){(Ue&6)!==0?zr(Za,XE):_y()})}function jf(){return Es===0&&(Es=eo()),Es}function Ay(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hs(""+t)}function Sy(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function ZE(t,i,s,o,h){if(i==="submit"&&s&&s.stateNode===h){var f=Ay((h[lt]||null).action),v=o.submitter;v&&(i=(i=v[lt]||null)?Ay(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var T=new Fs("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Es!==0){var w=v?Sy(h,v):new FormData(h);sf(s,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(T.preventDefault(),w=v?Sy(h,v):new FormData(h),sf(s,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var zf=0;zf<Ah.length;zf++){var Bf=Ah[zf],JE=Bf.toLowerCase(),WE=Bf[0].toUpperCase()+Bf.slice(1);Cn(JE,"on"+WE)}Cn(ig,"onAnimationEnd"),Cn(rg,"onAnimationIteration"),Cn(sg,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(pE,"onTransitionRun"),Cn(yE,"onTransitionStart"),Cn(vE,"onTransitionCancel"),Cn(ag,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yo));function wy(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var T=o[v],w=T.instance,L=T.currentTarget;if(T=T.listener,w!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=L;try{f(h)}catch(H){Ou(H)}h.currentTarget=null,f=w}else for(v=0;v<o.length;v++){if(T=o[v],w=T.instance,L=T.currentTarget,T=T.listener,w!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=L;try{f(h)}catch(H){Ou(H)}h.currentTarget=null,f=w}}}}function Ee(t,i){var s=i[ro];s===void 0&&(s=i[ro]=new Set);var o=t+"__bubble";s.has(o)||(xy(i,t,2,!1),s.add(o))}function qf(t,i,s){var o=0;i&&(o|=4),xy(s,t,o,i)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Hf(t){if(!t[Qu]){t[Qu]=!0,so.forEach(function(s){s!=="selectionchange"&&(eb.has(s)||qf(s,!1,t),qf(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Qu]||(i[Qu]=!0,qf("selectionchange",!1,i))}}function xy(t,i,s,o){switch($y(i)){case 2:var h=Rb;break;case 8:h=Ib;break;default:h=id}s=h.bind(null,i,s,t),h=void 0,!mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Ff(t,i,s,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=ui(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){o=f=v;continue e}T=T.parentNode}}o=o.return}Yl(function(){var L=f,H=dn(s),Q=[];e:{var j=og.get(t);if(j!==void 0){var z=Fs,he=t;switch(t){case"keypress":if(qn(s)===0)break e;case"keydown":case"keyup":z=$s;break;case"focusin":he="focus",z=Ks;break;case"focusout":he="blur",z=Ks;break;case"beforeblur":case"afterblur":z=Ks;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=nu;break;case ig:case rg:case sg:z=Ys;break;case ag:z=ru;break;case"scroll":case"scrollend":z=Xl;break;case"wheel":z=Zs;break;case"copy":case"cut":case"paste":z=Xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=vo;break;case"toggle":case"beforetoggle":z=au}var oe=(i&4)!==0,He=!oe&&(t==="scroll"||t==="scrollend"),M=oe?j!==null?j+"Capture":null:j;oe=[];for(var N=L,U;N!==null;){var G=N;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||M===null||(G=es(N,M),G!=null&&oe.push(Xo(N,G,U))),He)break;N=N.return}0<oe.length&&(j=new z(j,he,null,s,H),Q.push({event:j,listeners:oe}))}}if((i&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",z=t==="mouseout"||t==="pointerout",j&&s!==di&&(he=s.relatedTarget||s.fromElement)&&(ui(he)||he[hn]))break e;if((z||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,z?(he=s.relatedTarget||s.toElement,z=L,he=he?ui(he):null,he!==null&&(He=c(he),oe=he.tag,he!==He||oe!==5&&oe!==27&&oe!==6)&&(he=null)):(z=null,he=L),z!==he)){if(oe=gn,G="onMouseLeave",M="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(oe=vo,G="onPointerLeave",M="onPointerEnter",N="pointer"),He=z==null?j:Ln(z),U=he==null?j:Ln(he),j=new oe(G,N+"leave",z,s,H),j.target=He,j.relatedTarget=U,G=null,ui(H)===L&&(oe=new oe(M,N+"enter",he,s,H),oe.target=U,oe.relatedTarget=He,G=oe),He=G,z&&he)t:{for(oe=z,M=he,N=0,U=oe;U;U=ba(U))N++;for(U=0,G=M;G;G=ba(G))U++;for(;0<N-U;)oe=ba(oe),N--;for(;0<U-N;)M=ba(M),U--;for(;N--;){if(oe===M||M!==null&&oe===M.alternate)break t;oe=ba(oe),M=ba(M)}oe=null}else oe=null;z!==null&&Ry(Q,j,z,oe,!1),he!==null&&He!==null&&Ry(Q,He,he,oe,!0)}}e:{if(j=L?Ln(L):window,z=j.nodeName&&j.nodeName.toLowerCase(),z==="select"||z==="input"&&j.type==="file")var ne=Qm;else if(gt(j))if(Km)ne=dE;else{ne=hE;var _e=cE}else z=j.nodeName,!z||z.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?L&&co(L.elementType)&&(ne=Qm):ne=fE;if(ne&&(ne=ne(t,L))){vi(Q,ne,s,H);break e}_e&&_e(t,j,L),t==="focusout"&&L&&j.type==="number"&&L.memoizedProps.value!=null&&$i(j,"number",j.value)}switch(_e=L?Ln(L):window,t){case"focusin":(gt(_e)||_e.contentEditable==="true")&&(Js=_e,Th=L,Eo=null);break;case"focusout":Eo=Th=Js=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,tg(Q,s,H);break;case"selectionchange":if(gE)break;case"keydown":case"keyup":tg(Q,s,H)}var re;if(Gn)e:{switch(t){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else we?q(t,s)&&(ce="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ce="onCompositionStart");ce&&(p&&s.locale!=="ko"&&(we||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&we&&(re=fo()):(Bn=H,Zi="value"in Bn?Bn.value:Bn.textContent,we=!0)),_e=Ku(L,ce),0<_e.length&&(ce=new po(ce,t,null,s,H),Q.push({event:ce,listeners:_e}),re?ce.data=re:(re=Z(s),re!==null&&(ce.data=re)))),(re=m?mt(t,s):xe(t,s))&&(ce=Ku(L,"onBeforeInput"),0<ce.length&&(_e=new po("onBeforeInput","beforeinput",null,s,H),Q.push({event:_e,listeners:ce}),_e.data=re)),ZE(Q,t,L,s,H)}wy(Q,i)})}function Xo(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Ku(t,i){for(var s=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=es(t,s),h!=null&&o.unshift(Xo(t,h,f)),h=es(t,i),h!=null&&o.push(Xo(t,h,f))),t.tag===3)return o;t=t.return}return[]}function ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ry(t,i,s,o,h){for(var f=i._reactName,v=[];s!==null&&s!==o;){var T=s,w=T.alternate,L=T.stateNode;if(T=T.tag,w!==null&&w===o)break;T!==5&&T!==26&&T!==27||L===null||(w=L,h?(L=es(s,f),L!=null&&v.unshift(Xo(s,L,w))):h||(L=es(s,f),L!=null&&v.push(Xo(s,L,w)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var tb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function Iy(t){return(typeof t=="string"?t:""+t).replace(tb,`
`).replace(nb,"")}function Cy(t,i){return i=Iy(i),Iy(t)===i}function Yu(){}function qe(t,i,s,o,h,f){switch(s){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||fn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&fn(t,""+o);break;case"className":jn(t,"class",o);break;case"tabIndex":jn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,s,o);break;case"style":uo(t,o,f);break;case"data":if(i!=="object"){jn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Hs(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&qe(t,i,"name",h.name,h,null),qe(t,i,"formEncType",h.formEncType,h,null),qe(t,i,"formMethod",h.formMethod,h,null),qe(t,i,"formTarget",h.formTarget,h,null)):(qe(t,i,"encType",h.encType,h,null),qe(t,i,"method",h.method,h,null),qe(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Hs(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Yu);break;case"onScroll":o!=null&&Ee("scroll",t);break;case"onScrollEnd":o!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Hs(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),Xi(t,"popover",o);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xi(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=dh.get(s)||s,Xi(t,s,o))}}function Gf(t,i,s,o,h,f){switch(s){case"style":uo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?fn(t,o):(typeof o=="number"||typeof o=="bigint")&&fn(t,""+o);break;case"onScroll":o!=null&&Ee("scroll",t);break;case"onScrollEnd":o!=null&&Ee("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ls.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=t[lt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Xi(t,s,o)}}}function Ot(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:qe(t,i,f,v,s,null)}}h&&qe(t,i,"srcSet",s.srcSet,s,null),o&&qe(t,i,"src",s.src,s,null);return;case"input":Ee("invalid",t);var T=f=v=h=null,w=null,L=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":v=H;break;case"checked":w=H;break;case"defaultChecked":L=H;break;case"value":f=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:qe(t,i,o,H,s,null)}}Zr(t,f,T,w,L,v,h,!1),qs(t);return;case"select":Ee("invalid",t),o=v=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:qe(t,i,h,T,s,null)}i=f,s=v,t.multiple=!!o,i!=null?fi(t,!!o,i,!1):s!=null&&fi(t,!!o,s,!0);return;case"textarea":Ee("invalid",t),f=h=o=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:qe(t,i,v,T,s,null)}Jr(t,o,h,f),qs(t);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(o=s[w],o!=null))switch(w){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:qe(t,i,w,o,s,null)}return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(o=0;o<Yo.length;o++)Ee(Yo[o],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(o=s[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:qe(t,i,L,o,s,null)}return;default:if(co(i)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&Gf(t,i,H,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&qe(t,i,T,o,s,null))}function ib(t,i,s,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,w=null,L=null,H=null;for(z in s){var Q=s[z];if(s.hasOwnProperty(z)&&Q!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":w=Q;default:o.hasOwnProperty(z)||qe(t,i,z,null,o,Q)}}for(var j in o){var z=o[j];if(Q=s[j],o.hasOwnProperty(j)&&(z!=null||Q!=null))switch(j){case"type":f=z;break;case"name":h=z;break;case"checked":L=z;break;case"defaultChecked":H=z;break;case"value":v=z;break;case"defaultValue":T=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,i));break;default:z!==Q&&qe(t,i,j,z,o,Q)}}tn(t,v,T,w,L,H,f,h);return;case"select":z=v=T=j=null;for(f in s)if(w=s[f],s.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":z=w;default:o.hasOwnProperty(f)||qe(t,i,f,null,o,w)}for(h in o)if(f=o[h],w=s[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==w&&qe(t,i,h,f,o,w)}i=T,s=v,o=z,j!=null?fi(t,!!s,j,!1):!!o!=!!s&&(i!=null?fi(t,!!s,i,!0):fi(t,!!s,s?[]:"",!1));return;case"textarea":z=j=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:qe(t,i,T,null,o,h)}for(v in o)if(h=o[v],f=s[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":j=h;break;case"defaultValue":z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&qe(t,i,v,h,o,f)}ze(t,j,z);return;case"option":for(var he in s)if(j=s[he],s.hasOwnProperty(he)&&j!=null&&!o.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:qe(t,i,he,null,o,j)}for(w in o)if(j=o[w],z=s[w],o.hasOwnProperty(w)&&j!==z&&(j!=null||z!=null))switch(w){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:qe(t,i,w,j,o,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in s)j=s[oe],s.hasOwnProperty(oe)&&j!=null&&!o.hasOwnProperty(oe)&&qe(t,i,oe,null,o,j);for(L in o)if(j=o[L],z=s[L],o.hasOwnProperty(L)&&j!==z&&(j!=null||z!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,i));break;default:qe(t,i,L,j,o,z)}return;default:if(co(i)){for(var He in s)j=s[He],s.hasOwnProperty(He)&&j!==void 0&&!o.hasOwnProperty(He)&&Gf(t,i,He,void 0,o,j);for(H in o)j=o[H],z=s[H],!o.hasOwnProperty(H)||j===z||j===void 0&&z===void 0||Gf(t,i,H,j,o,z);return}}for(var M in s)j=s[M],s.hasOwnProperty(M)&&j!=null&&!o.hasOwnProperty(M)&&qe(t,i,M,null,o,j);for(Q in o)j=o[Q],z=s[Q],!o.hasOwnProperty(Q)||j===z||j==null&&z==null||qe(t,i,Q,j,o,z)}var Qf=null,Kf=null;function Xu(t){return t.nodeType===9?t:t.ownerDocument}function Ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Yf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xf=null;function rb(){var t=window.event;return t&&t.type==="popstate"?t===Xf?!1:(Xf=t,!0):(Xf=null,!1)}var Oy=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,ab=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(t){return ky.resolve(null).then(t).catch(ob)}:Oy;function ob(t){setTimeout(function(){throw t})}function dr(t){return t==="head"}function My(t,i){var s=i,o=0,h=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<o&&8>o){s=o;var v=t.ownerDocument;if(s&1&&$o(v.documentElement),s&2&&$o(v.body),s&4)for(s=v.head,$o(s),v=s.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[Kr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=T}}if(h===0){t.removeChild(f),rl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:o=s.charCodeAt(0)-48;else o=0;s=f}while(s);rl(i)}function $f(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":$f(s),Yi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function lb(t,i,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Kr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function ub(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Dn(t.nextSibling),t===null))return null;return t}function Zf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function cb(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var o=function(){i(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Dn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Jf=null;function Vy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function Py(t,i,s){switch(i=Xu(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function $o(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Yi(t)}var bn=new Map,Uy=new Set;function $u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=W.d;W.d={f:hb,r:fb,D:db,C:mb,L:gb,m:pb,X:vb,S:yb,M:_b};function hb(){var t=Di.f(),i=Bu();return t||i}function fb(t){var i=Un(t);i!==null&&i.tag===5&&i.type==="form"?ip(i):Di.r(t)}var Aa=typeof document>"u"?null:document;function Ly(t,i,s){var o=Aa;if(o&&typeof i=="string"&&i){var h=ut(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Uy.has(h)||(Uy.add(h),t={rel:t,crossOrigin:s,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ot(i,"link",t),it(i),o.head.appendChild(i)))}}function db(t){Di.D(t),Ly("dns-prefetch",t,null)}function mb(t,i){Di.C(t,i),Ly("preconnect",t,i)}function gb(t,i,s){Di.L(t,i,s);var o=Aa;if(o&&t&&i){var h='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ut(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ut(s.imageSizes)+'"]')):h+='[href="'+ut(t)+'"]';var f=h;switch(i){case"style":f=Sa(t);break;case"script":f=wa(t)}bn.has(f)||(t=A({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),bn.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Zo(f))||i==="script"&&o.querySelector(Jo(f))||(i=o.createElement("link"),Ot(i,"link",t),it(i),o.head.appendChild(i)))}}function pb(t,i){Di.m(t,i);var s=Aa;if(s&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ut(o)+'"][href="'+ut(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wa(t)}if(!bn.has(f)&&(t=A({rel:"modulepreload",href:t},i),bn.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Jo(f)))return}o=s.createElement("link"),Ot(o,"link",t),it(o),s.head.appendChild(o)}}}function yb(t,i,s){Di.S(t,i,s);var o=Aa;if(o&&t){var h=Gt(o).hoistableStyles,f=Sa(t);i=i||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(Zo(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},s),(s=bn.get(f))&&Wf(t,s);var w=v=o.createElement("link");it(w),Ot(w,"link",t),w._p=new Promise(function(L,H){w.onload=L,w.onerror=H}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Zu(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function vb(t,i){Di.X(t,i);var s=Aa;if(s&&t){var o=Gt(s).hoistableScripts,h=wa(t),f=o.get(h);f||(f=s.querySelector(Jo(h)),f||(t=A({src:t,async:!0},i),(i=bn.get(h))&&ed(t,i),f=s.createElement("script"),it(f),Ot(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function _b(t,i){Di.M(t,i);var s=Aa;if(s&&t){var o=Gt(s).hoistableScripts,h=wa(t),f=o.get(h);f||(f=s.querySelector(Jo(h)),f||(t=A({src:t,async:!0,type:"module"},i),(i=bn.get(h))&&ed(t,i),f=s.createElement("script"),it(f),Ot(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function jy(t,i,s,o){var h=(h=Vn.current)?$u(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Sa(s.href),s=Gt(h).hoistableStyles,o=s.get(i),o||(o={type:"style",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Sa(s.href);var f=Gt(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Zo(t)))&&!f._p&&(v.instance=f,v.state.loading=5),bn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},bn.set(t,s),f||Tb(h,t,s,v.state))),i&&o===null)throw Error(a(528,""));return v}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wa(s),s=Gt(h).hoistableScripts,o=s.get(i),o||(o={type:"script",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Sa(t){return'href="'+ut(t)+'"'}function Zo(t){return'link[rel="stylesheet"]['+t+"]"}function zy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Tb(t,i,s,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ot(i,"link",s),it(i),t.head.appendChild(i))}function wa(t){return'[src="'+ut(t)+'"]'}function Jo(t){return"script[async]"+t}function By(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+ut(s.href)+'"]');if(o)return i.instance=o,it(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),it(o),Ot(o,"style",h),Zu(o,s.precedence,t),i.instance=o;case"stylesheet":h=Sa(s.href);var f=t.querySelector(Zo(h));if(f)return i.state.loading|=4,i.instance=f,it(f),f;o=zy(s),(h=bn.get(h))&&Wf(o,h),f=(t.ownerDocument||t).createElement("link"),it(f);var v=f;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),Ot(f,"link",o),i.state.loading|=4,Zu(f,s.precedence,t),i.instance=f;case"script":return f=wa(s.src),(h=t.querySelector(Jo(f)))?(i.instance=h,it(h),h):(o=s,(h=bn.get(f))&&(o=A({},s),ed(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),it(h),Ot(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Zu(o,s.precedence,t));return i.instance}function Zu(t,i,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===i)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Wf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ed(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ju=null;function qy(t,i,s){if(Ju===null){var o=new Map,h=Ju=new Map;h.set(s,o)}else h=Ju,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Kr]||f[dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var T=o.get(v);T?T.push(f):o.set(v,[f])}}return o}function Hy(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function Eb(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Fy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Wo=null;function bb(){}function Ab(t,i,s){if(Wo===null)throw Error(a(475));var o=Wo;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Sa(s.href),f=t.querySelector(Zo(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Wu.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=f,it(f);return}f=t.ownerDocument||t,s=zy(s),(h=bn.get(h))&&Wf(s,h),f=f.createElement("link"),it(f);var v=f;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),Ot(f,"link",s),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Wu.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function Sb(){if(Wo===null)throw Error(a(475));var t=Wo;return t.stylesheets&&t.count===0&&td(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&td(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Wu(){if(this.count--,this.count===0){if(this.stylesheets)td(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ec=null;function td(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ec=new Map,i.forEach(wb,t),ec=null,Wu.call(t))}function wb(t,i){if(!(i.state.loading&4)){var s=ec.get(t);if(s)var o=s.get(null);else{s=new Map,ec.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=s.get(v)||o,f===o&&s.set(null,h),s.set(v,h),this.count++,o=Wu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var el={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function xb(t,i,s,o,h,f,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Gy(t,i,s,o,h,f,v,T,w,L,H,Q){return t=new xb(t,i,s,v,T,w,L,Q),i=1,f===!0&&(i|=24),f=rn(3,null,null,i),t.current=f,f.stateNode=t,i=Vh(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:i},jh(f),t}function Qy(t){return t?(t=na,t):na}function Ky(t,i,s,o,h,f){h=Qy(h),o.context===null?o.context=h:o.pendingContext=h,o=er(i),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=tr(t,o,i),s!==null&&(un(s,t,i),No(s,t,i))}function Yy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function nd(t,i){Yy(t,i),(t=t.alternate)&&Yy(t,i)}function Xy(t){if(t.tag===13){var i=ta(t,67108864);i!==null&&un(i,t,67108864),nd(t,67108864)}}var tc=!0;function Rb(t,i,s,o){var h=F.T;F.T=null;var f=W.p;try{W.p=2,id(t,i,s,o)}finally{W.p=f,F.T=h}}function Ib(t,i,s,o){var h=F.T;F.T=null;var f=W.p;try{W.p=8,id(t,i,s,o)}finally{W.p=f,F.T=h}}function id(t,i,s,o){if(tc){var h=rd(o);if(h===null)Ff(t,i,o,nc,s),Zy(t,o);else if(Nb(h,t,i,s,o))o.stopPropagation();else if(Zy(t,o),i&4&&-1<Cb.indexOf(t)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=xn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-Ut(v);T.entanglements[1]|=w,v&=~w}Zn(f),(Ue&6)===0&&(ju=cn()+500,Ko(0))}}break;case 13:T=ta(f,2),T!==null&&un(T,f,2),Bu(),nd(f,2)}if(f=rd(o),f===null&&Ff(t,i,o,nc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ff(t,i,o,null,s)}}function rd(t){return t=dn(t),sd(t)}var nc=null;function sd(t){if(nc=null,t=ui(t),t!==null){var i=c(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=d(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return nc=t,null}function $y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oh()){case Za:return 2;case Ms:return 8;case qr:case lh:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var ad=!1,mr=null,gr=null,pr=null,tl=new Map,nl=new Map,yr=[],Cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(t,i){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(i.pointerId)}}function il(t,i,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Un(i),i!==null&&Xy(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Nb(t,i,s,o,h){switch(i){case"focusin":return mr=il(mr,t,i,s,o,h),!0;case"dragenter":return gr=il(gr,t,i,s,o,h),!0;case"mouseover":return pr=il(pr,t,i,s,o,h),!0;case"pointerover":var f=h.pointerId;return tl.set(f,il(tl.get(f)||null,t,i,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,nl.set(f,il(nl.get(f)||null,t,i,s,o,h)),!0}return!1}function Jy(t){var i=ui(t.target);if(i!==null){var s=c(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){t.blockedOn=i,Bl(t.priority,function(){if(s.tag===13){var o=ln();o=Gi(o);var h=ta(s,o);h!==null&&un(h,s,o),nd(s,o)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=rd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);di=o,s.target.dispatchEvent(o),di=null}else return i=Un(s),i!==null&&Xy(i),t.blockedOn=s,!1;i.shift()}return!0}function Wy(t,i,s){ic(t)&&s.delete(i)}function Db(){ad=!1,mr!==null&&ic(mr)&&(mr=null),gr!==null&&ic(gr)&&(gr=null),pr!==null&&ic(pr)&&(pr=null),tl.forEach(Wy),nl.forEach(Wy)}function rc(t,i){t.blockedOn===i&&(t.blockedOn=null,ad||(ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Db)))}var sc=null;function e0(t){sc!==t&&(sc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sc===t&&(sc=null);for(var i=0;i<t.length;i+=3){var s=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(sd(o||s)===null)continue;break}var f=Un(s);f!==null&&(t.splice(i,3),i-=3,sf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function rl(t){function i(w){return rc(w,t)}mr!==null&&rc(mr,t),gr!==null&&rc(gr,t),pr!==null&&rc(pr,t),tl.forEach(i),nl.forEach(i);for(var s=0;s<yr.length;s++){var o=yr[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<yr.length&&(s=yr[0],s.blockedOn===null);)Jy(s),s.blockedOn===null&&yr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],v=h[lt]||null;if(typeof f=="function")v||e0(s);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[lt]||null)T=v.formAction;else if(sd(h)!==null)continue}else T=v.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),e0(s)}}}function od(t){this._internalRoot=t}ac.prototype.render=od.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,o=ln();Ky(s,o,t,i,null,null)},ac.prototype.unmount=od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ky(t.current,2,null,t,null,null),Bu(),i[hn]=null}};function ac(t){this._internalRoot=t}ac.prototype.unstable_scheduleHydration=function(t){if(t){var i=Qi();t={blockedOn:null,target:t,priority:i};for(var s=0;s<yr.length&&i!==0&&i<yr[s].priority;s++);yr.splice(s,0,t),s===0&&Jy(t)}};var t0=e.version;if(t0!=="19.1.0")throw Error(a(527,t0,"19.1.0"));W.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Ob={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{We=oc.inject(Ob),Pe=oc}catch{}}return sl.createRoot=function(t,i){if(!l(t))throw Error(a(299));var s=!1,o="",h=yp,f=vp,v=_p,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Gy(t,1,!1,null,null,s,o,h,f,v,T,null),t[hn]=i.current,Hf(t),new od(i)},sl.hydrateRoot=function(t,i,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=yp,v=vp,T=_p,w=null,L=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks),s.formState!==void 0&&(L=s.formState)),i=Gy(t,1,!0,i,s??null,o,h,f,v,T,w,L),i.context=Qy(null),s=i.current,o=ln(),o=Gi(o),h=er(o),h.callback=null,tr(s,h,o),s=o,i.current.lanes=s,li(i,s),Zn(i),t[hn]=i.current,Hf(t),new ac(i)},sl.version="19.1.0",sl}var u0;function c1(){if(u0)return cd.exports;u0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch{}}return r(),cd.exports=u1(),cd.exports}var h1=c1();const f1=Lb(h1),d1=()=>{};var c0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},m1=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[n++],d=r[n++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,C=(c&3)<<4|g>>4;let I=(g&15)<<2|_>>6,B=_&63;y||(B=64,d||(I=64)),a.push(n[A],n[C],n[I],n[B])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(qv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):m1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const C=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||C==null)throw new g1;const I=c<<2|g>>4;if(a.push(I),_!==64){const B=g<<4&240|_>>2;if(a.push(B),C!==64){const Y=_<<6&192|C;a.push(Y)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class g1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p1=function(r){const e=qv(r);return Hv.encodeByteArray(e,!0)},wc=function(r){return p1(r).replace(/\./g,"")},Fv=function(r){try{return Hv.decodeString(r,!0)}catch{}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=()=>y1().__FIREBASE_DEFAULTS__,_1=()=>{if(typeof process>"u"||typeof c0>"u")return;const r=c0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},T1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Fv(r[1]);return e&&JSON.parse(e)},Qc=()=>{try{return d1()||v1()||_1()||T1()}catch{return}},Gv=r=>{var e,n;return(n=(e=Qc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},E1=r=>{const e=Gv(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},Qv=()=>{var r;return(r=Qc())===null||r===void 0?void 0:r.config},Kv=r=>{var e;return(e=Qc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){return r.endsWith(".cloudworkstations.dev")}async function Yv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[wc(JSON.stringify(n)),wc(JSON.stringify(d)),""].join(".")}const cl={};function S1(){const r={prod:[],emulator:[]};for(const e of Object.keys(cl))cl[e]?r.emulator.push(e):r.prod.push(e);return r}function w1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let h0=!1;function Xv(r,e){if(typeof window>"u"||typeof document>"u"||!xl(window.location.host)||cl[r]===e||cl[r]||h0)return;cl[r]=e;function n(I){return`__firebase__banner__${I}`}const a="__firebase__banner",c=S1().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,B){I.setAttribute("width","24"),I.setAttribute("id",B),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{h0=!0,d()},I}function A(I,B){I.setAttribute("id",B),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function C(){const I=w1(a),B=n("text"),Y=document.getElementById(B)||document.createElement("span"),J=n("learnmore"),X=document.getElementById(J)||document.createElement("a"),se=n("preprendIcon"),ee=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ie=I.element;g(ie),A(X,J);const Se=_();y(ee,se),ie.append(ee,Y,X,Se),document.body.appendChild(ie)}c?(Y.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function R1(){var r;const e=(r=Qc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function N1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D1(){const r=qt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function O1(){return!R1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k1(){try{return typeof indexedDB=="object"}catch{return!1}}function M1(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="FirebaseError";class qi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=V1,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?P1(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new qi(l,g,a)}}function P1(r,e){return r.replace(U1,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const U1=/\{\$([^}]+)}/g;function L1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ss(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(f0(c)&&f0(d)){if(!Ss(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function f0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function j1(r,e){const n=new z1(r,e);return n.subscribe.bind(n)}class z1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");B1(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=dd),l.error===void 0&&(l.error=dd),l.complete===void 0&&(l.complete=dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch{}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(r){return r&&r._delegate?r._delegate:r}class ws{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new b1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e?.identifier),l=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F1(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,n){var a;const l=this.normalizeInstanceIdentifier(n),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&e(d,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:H1(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H1(r){return r===bs?void 0:r}function F1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(be||(be={}));const Q1={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},K1=be.INFO,Y1={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},X1=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=Y1[e];if(!l)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nm{constructor(e){this.name=e,this._logLevel=K1,this._logHandler=X1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const $1=(r,e)=>e.some(n=>r instanceof n);let d0,m0;function Z1(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J1(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $v=new WeakMap,Rd=new WeakMap,Zv=new WeakMap,md=new WeakMap,im=new WeakMap;function W1(r){const e=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Rr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&$v.set(n,r)}).catch(()=>{}),im.set(e,r),e}function eA(r){if(Rd.has(r))return;const e=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Rd.set(r,e)}let Id={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Rd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Zv.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function tA(r){Id=r(Id)}function nA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(gd(this),e,...n);return Zv.set(a,e.sort?e.sort():[e]),Rr(a)}:J1().includes(r)?function(...e){return r.apply(gd(this),e),Rr($v.get(this))}:function(...e){return Rr(r.apply(gd(this),e))}}function iA(r){return typeof r=="function"?nA(r):(r instanceof IDBTransaction&&eA(r),$1(r,Z1())?new Proxy(r,Id):r)}function Rr(r){if(r instanceof IDBRequest)return W1(r);if(md.has(r))return md.get(r);const e=iA(r);return e!==r&&(md.set(r,e),im.set(e,r)),e}const gd=r=>im.get(r);function rA(r,e,{blocked:n,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),g=Rr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Rr(d.result),y.oldVersion,y.newVersion,Rr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const sA=["get","getKey","getAll","getAllKeys","count"],aA=["put","add","delete","clear"],pd=new Map;function g0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=aA.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||sA.includes(n)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&y.done]))[0]};return pd.set(e,c),c}tA(r=>({...r,get:(e,n,a)=>g0(e,n)||r.get(e,n,a),has:(e,n)=>!!g0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lA(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function lA(r){const e=r.getComponent();return e?.type==="VERSION"}const Cd="@firebase/app",p0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new nm("@firebase/app"),uA="@firebase/app-compat",cA="@firebase/analytics-compat",hA="@firebase/analytics",fA="@firebase/app-check-compat",dA="@firebase/app-check",mA="@firebase/auth",gA="@firebase/auth-compat",pA="@firebase/database",yA="@firebase/data-connect",vA="@firebase/database-compat",_A="@firebase/functions",TA="@firebase/functions-compat",EA="@firebase/installations",bA="@firebase/installations-compat",AA="@firebase/messaging",SA="@firebase/messaging-compat",wA="@firebase/performance",xA="@firebase/performance-compat",RA="@firebase/remote-config",IA="@firebase/remote-config-compat",CA="@firebase/storage",NA="@firebase/storage-compat",DA="@firebase/firestore",OA="@firebase/ai",kA="@firebase/firestore-compat",MA="firebase",VA="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="[DEFAULT]",PA={[Cd]:"fire-core",[uA]:"fire-core-compat",[hA]:"fire-analytics",[cA]:"fire-analytics-compat",[dA]:"fire-app-check",[fA]:"fire-app-check-compat",[mA]:"fire-auth",[gA]:"fire-auth-compat",[pA]:"fire-rtdb",[yA]:"fire-data-connect",[vA]:"fire-rtdb-compat",[_A]:"fire-fn",[TA]:"fire-fn-compat",[EA]:"fire-iid",[bA]:"fire-iid-compat",[AA]:"fire-fcm",[SA]:"fire-fcm-compat",[wA]:"fire-perf",[xA]:"fire-perf-compat",[RA]:"fire-rc",[IA]:"fire-rc-compat",[CA]:"fire-gcs",[NA]:"fire-gcs-compat",[DA]:"fire-fst",[kA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[MA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,UA=new Map,Dd=new Map;function y0(r,e){try{r.container.addComponent(e)}catch(n){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Pa(r){const e=r.name;if(Dd.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;Dd.set(e,r);for(const n of xc.values())y0(n,r);for(const n of UA.values())y0(n,r);return!0}function rm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function An(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new Rl("app","Firebase",LA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=VA;function Jv(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Nd,automaticDataCollectionEnabled:!0},e),l=a.name;if(typeof l!="string"||!l)throw Ir.create("bad-app-name",{appName:String(l)});if(n||(n=Qv()),!n)throw Ir.create("no-options");const c=xc.get(l);if(c){if(Ss(n,c.options)&&Ss(a,c.config))return c;throw Ir.create("duplicate-app",{appName:l})}const d=new G1(l);for(const y of Dd.values())d.addComponent(y);const g=new jA(n,a,d);return xc.set(l,g),g}function Wv(r=Nd){const e=xc.get(r);if(!e&&r===Nd&&Qv())return Jv();if(!e)throw Ir.create("no-app",{appName:r});return e}function Cr(r,e,n){var a;let l=(a=PA[r])!==null&&a!==void 0?a:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(g.join(" "));return}Pa(new ws(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebase-heartbeat-database",BA=1,pl="firebase-heartbeat-store";let yd=null;function e_(){return yd||(yd=rA(zA,BA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(pl)}catch{}}}}).catch(r=>{throw Ir.create("idb-open",{originalErrorMessage:r.message})})),yd}async function qA(r){try{const n=(await e_()).transaction(pl),a=await n.objectStore(pl).get(t_(r));return await n.done,a}catch(e){if(e instanceof qi)Pi.warn(e.message);else{const n=Ir.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(n.message)}}}async function v0(r,e){try{const a=(await e_()).transaction(pl,"readwrite");await a.objectStore(pl).put(e,t_(r)),await a.done}catch(n){if(n instanceof qi)Pi.warn(n.message);else{const a=Ir.create("idb-set",{originalErrorMessage:n?.message});Pi.warn(a.message)}}}function t_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1024,FA=30;class GA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KA(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=_0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>FA){const d=YA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Pi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_0(),{heartbeatsToSend:a,unsentEntries:l}=QA(this._heartbeatsCache.heartbeats),c=wc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Pi.warn(n),""}}}function _0(){return new Date().toISOString().substring(0,10)}function QA(r,e=HA){const n=[];let a=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),T0(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),T0(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class KA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k1()?M1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return v0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return v0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function T0(r){return wc(JSON.stringify({version:2,heartbeats:r})).length}function YA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(r){Pa(new ws("platform-logger",e=>new oA(e),"PRIVATE")),Pa(new ws("heartbeat",e=>new GA(e),"PRIVATE")),Cr(Cd,p0,r),Cr(Cd,p0,"esm2017"),Cr("fire-js","")}XA("");var $A="firebase",ZA="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr($A,ZA,"app");function sm(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(n[a[l]]=r[a[l]]);return n}function n_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JA=n_,i_=new Rl("auth","Firebase",n_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new nm("@firebase/auth");function WA(r,...e){Rc.logLevel<=be.WARN&&Rc.warn(`Auth (${Fa}): ${r}`,...e)}function pc(r,...e){Rc.logLevel<=be.ERROR&&Rc.error(`Auth (${Fa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(r,...e){throw am(r,...e)}function Wn(r,...e){return am(r,...e)}function r_(r,e,n){const a=Object.assign(Object.assign({},JA()),{[e]:n});return new Rl("auth","Firebase",a).create(e,{appName:r.name})}function Mi(r){return r_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function am(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return i_.create(r,...e)}function de(r,e,...n){if(!r)throw am(e,...n)}function Oi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw pc(e),new Error(e)}function Li(r,e){r||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function eS(){return E0()==="http:"||E0()==="https:"}function E0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eS()||C1()||"connection"in navigator)?navigator.onLine:!0}function nS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=x1()||N1()}get(){return tS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r,e){Li(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sS=new Cl(3e4,6e4);function Nl(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ga(r,e,n,a,l={}){return a_(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Il(Object.assign({key:r.config.apiKey},d)).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:y},c);return I1()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&xl(r.emulatorConfig.host)&&(_.credentials="include"),s_.fetch()(await o_(r,r.config.apiHost,n,g),_)})}async function a_(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},iS),e);try{const l=new aS(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw uc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw uc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw uc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw r_(r,A,_);Ui(r,A)}}catch(l){if(l instanceof qi)throw l;Ui(r,"network-request-failed",{message:String(l)})}}async function lm(r,e,n,a,l={}){const c=await Ga(r,e,n,a,l);return"mfaPendingCredential"in c&&Ui(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function o_(r,e,n,a){const l=`${e}${n}?${a}`,c=r,d=c.config.emulator?om(r.config,l):`${r.config.apiScheme}://${l}`;return rS.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class aS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Wn(this.auth,"network-request-failed")),sS.get())})}}function uc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Wn(r,e,a);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(r,e){return Ga(r,"POST","/v1/accounts:delete",e)}async function Ic(r,e){return Ga(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lS(r,e=!1){const n=Mn(r),a=await n.getIdToken(e),l=um(a);de(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:hl(vd(l.auth_time)),issuedAtTime:hl(vd(l.iat)),expirationTime:hl(vd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function vd(r){return Number(r)*1e3}function um(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return pc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Fv(n);return l?JSON.parse(l):(pc("Failed to decode base64 JWT payload"),null)}catch(l){return pc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function b0(r){const e=um(r);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof qi&&uS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function uS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(r){var e;const n=r.auth,a=await r.getIdToken(),l=await yl(r,Ic(n,{idToken:a}));de(l?.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?l_(c.providerUserInfo):[],g=fS(r.providerData,d),y=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!g?.length,A=y?_:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new kd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,C)}async function hS(r){const e=Mn(r);await Cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fS(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function l_(r){return r.map(e=>{var{providerId:n}=e,a=sm(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(r,e){const n=await a_(r,{},async()=>{const a=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await o_(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",s_.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mS(r,e){return Ga(r,"POST","/v2/accounts:revokeToken",Nl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=b0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:c}=await dS(e,n);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:c}=n,d=new Oa;return a&&(de(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(de(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(de(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oa,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(r,e){de(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class On{constructor(e){var{uid:n,auth:a,stsTokenManager:l}=e,c=sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new kd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await yl(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lS(this,e)}reload(){return hS(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Cc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await yl(this,oS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,l,c,d,g,y,_,A;const C=(a=n.displayName)!==null&&a!==void 0?a:void 0,I=(l=n.email)!==null&&l!==void 0?l:void 0,B=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,Y=(d=n.photoURL)!==null&&d!==void 0?d:void 0,J=(g=n.tenantId)!==null&&g!==void 0?g:void 0,X=(y=n._redirectEventId)!==null&&y!==void 0?y:void 0,se=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ee=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ie,emailVerified:Se,isAnonymous:Ke,providerData:Ce,stsTokenManager:O}=n;de(ie&&O,e,"internal-error");const S=Oa.fromJSON(this.name,O);de(typeof ie=="string",e,"internal-error"),_r(C,e.name),_r(I,e.name),de(typeof Se=="boolean",e,"internal-error"),de(typeof Ke=="boolean",e,"internal-error"),_r(B,e.name),_r(Y,e.name),_r(J,e.name),_r(X,e.name),_r(se,e.name),_r(ee,e.name);const x=new On({uid:ie,auth:e,email:I,emailVerified:Se,displayName:C,isAnonymous:Ke,photoURL:Y,phoneNumber:B,tenantId:J,stsTokenManager:S,createdAt:se,lastLoginAt:ee});return Ce&&Array.isArray(Ce)&&(x.providerData=Ce.map(D=>Object.assign({},D))),X&&(x._redirectEventId=X),x}static async _fromIdTokenResponse(e,n,a=!1){const l=new Oa;l.updateFromServerResponse(n);const c=new On({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Cc(c),c}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];de(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?l_(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Oa;g.updateFromIdToken(a);const y=new On({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new kd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Map;function ki(r){Li(r instanceof Function,"Expected a class definition");let e=A0.get(r);return e?(Li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,A0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}u_.type="NONE";const S0=u_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r,e,n){return`firebase:${r}:${e}:${n}`}class ka{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=yc(this.userKey,l.apiKey,c),this.fullPersistenceKey=yc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ic(this.auth,{idToken:e}).catch(()=>{});return n?On._fromGetAccountInfoResponse(this.auth,n,e):null}return On._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new ka(ki(S0),e,a);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ki(S0);const d=yc(a,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const A=await _._get(d);if(A){let C;if(typeof A=="string"){const I=await Ic(e,{idToken:A}).catch(()=>{});if(!I)break;C=await On._fromGetAccountInfoResponse(e,I,A)}else C=On._fromJSON(e,A);_!==c&&(g=C),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new ka(c,e,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ka(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g_(e))return"Blackberry";if(p_(e))return"Webos";if(h_(e))return"Safari";if((e.includes("chrome/")||f_(e))&&!e.includes("edge/"))return"Chrome";if(m_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function c_(r=qt()){return/firefox\//i.test(r)}function h_(r=qt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f_(r=qt()){return/crios\//i.test(r)}function d_(r=qt()){return/iemobile/i.test(r)}function m_(r=qt()){return/android/i.test(r)}function g_(r=qt()){return/blackberry/i.test(r)}function p_(r=qt()){return/webos/i.test(r)}function cm(r=qt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function gS(r=qt()){var e;return cm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pS(){return D1()&&document.documentMode===10}function y_(r=qt()){return cm(r)||m_(r)||p_(r)||g_(r)||/windows phone/i.test(r)||d_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(r,e=[]){let n;switch(r){case"Browser":n=w0(qt());break;case"Worker":n=`${w0(qt())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fa}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vS(r,e={}){return Ga(r,"GET","/v2/passwordPolicy",Nl(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=6;class TS{constructor(e){var n,a,l,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:_S,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,l,c,d,g;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(n=y.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),y.isValid&&(y.isValid=(a=y.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(c=y.containsUppercaseLetter)!==null&&c!==void 0?c:!0),y.isValid&&(y.isValid=(d=y.containsNumericCharacter)!==null&&d!==void 0?d:!0),y.isValid&&(y.isValid=(g=y.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),y}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x0(this),this.idTokenSubscription=new x0(this),this.beforeStateQueue=new yS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{var a,l,c;if(!this._deleted&&(this.persistenceManager=await ka.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ic(this,{idToken:e}),a=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch{await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(An(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l?._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===g)&&y?.user&&(l=y.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(Mi(this));const n=e?Mn(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vS(this),n=new TS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await mS(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ki(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&WA(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Dl(r){return Mn(r)}class x0{constructor(e){this.auth=e,this.observer=null,this.addObserver=j1(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bS(r){hm=r}function AS(r){return hm.loadJS(r)}function SS(){return hm.gapiScript}function wS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(r,e){const n=rm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Ss(c,e??{}))return l;Ui(l,"already-initialized")}return n.initialize({options:e})}function RS(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ki);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function IS(r,e,n){const a=Dl(r);de(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=__(e),{host:d,port:g}=CS(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){de(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),de(Ss(_,a.config.emulator)&&Ss(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,xl(d)?(Yv(`${c}//${d}${y}`),Xv("Auth",!0)):NS()}function __(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function CS(r){const e=__(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:R0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:R0(d)}}}function R0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function NS(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(r,e){return lm(r,"POST","/v1/accounts:signInWithIdp",Nl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="http://localhost";class xs extends T_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l}=n,c=sm(n,["providerId","signInMethod"]);if(!a||!l)return null;const d=new xs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Ma(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Ma(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ma(e,n)}buildRequest(){const e={requestUri:DS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends E_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Ol{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.FACEBOOK_SIGN_IN_METHOD="facebook.com";Er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xs._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return br.credential(n,a)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Ol{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Ol{constructor(){super("twitter.com")}static credential(e,n){return xs._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Sr.credential(n,a)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(r,e){return lm(r,"POST","/v1/accounts:signUp",Nl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const c=await On._fromIdTokenResponse(e,a,l),d=I0(a);return new ji({user:c,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=I0(a);return new ji({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function I0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C0(r){var e;if(An(r.app))return Promise.reject(Mi(r));const n=Dl(r);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ji({user:n.currentUser,providerId:null,operationType:"signIn"});const a=await OS(n,{returnSecureToken:!0}),l=await ji._fromIdTokenResponse(n,"signIn",a,!0);return await n._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends qi{constructor(e,n,a,l){var c;super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Nc.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Nc(e,n,a,l)}}function b_(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Nc._fromErrorAndOperation(r,c,e,a):c})}async function kS(r,e,n=!1){const a=await yl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ji._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(r,e,n=!1){const{auth:a}=r;if(An(a.app))return Promise.reject(Mi(a));const l="reauthenticate";try{const c=await yl(r,b_(a,l,e,r),n);de(c.idToken,a,"internal-error");const d=um(c.idToken);de(d,a,"internal-error");const{sub:g}=d;return de(r.uid===g,a,"user-mismatch"),ji._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ui(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(r,e,n=!1){if(An(r.app))return Promise.reject(Mi(r));const a="signIn",l=await b_(r,a,e),c=await ji._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(c.user),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(r,e){return lm(r,"POST","/v1/accounts:signInWithCustomToken",Nl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function US(r,e){if(An(r.app))return Promise.reject(Mi(r));const n=Dl(r),a=await PS(n,{token:e,returnSecureToken:!0}),l=await ji._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(l.user),l}function LS(r,e,n,a){return Mn(r).onIdTokenChanged(e,n,a)}function jS(r,e,n){return Mn(r).beforeAuthStateChanged(e,n)}function zS(r,e,n,a){return Mn(r).onAuthStateChanged(e,n,a)}const Dc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dc,"1"),this.storage.removeItem(Dc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=1e3,qS=10;class S_ extends A_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);pS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,qS):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},BS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}S_.type="LOCAL";const HS=S_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_ extends A_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}w_.type="SESSION";const x_=w_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new Kc(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,c)),y=await FS(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=fm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(C){const I=C;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(I.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function QS(r){ei().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function KS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YS(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function XS(){return R_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="firebaseLocalStorageDb",$S=1,Oc="firebaseLocalStorage",C_="fbase_key";class kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yc(r,e){return r.transaction([Oc],e?"readwrite":"readonly").objectStore(Oc)}function ZS(){const r=indexedDB.deleteDatabase(I_);return new kl(r).toPromise()}function Md(){const r=indexedDB.open(I_,$S);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Oc,{keyPath:C_})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Oc)?e(a):(a.close(),await ZS(),e(await Md()))})})}async function N0(r,e,n){const a=Yc(r,!0).put({[C_]:e,value:n});return new kl(a).toPromise()}async function JS(r,e){const n=Yc(r,!1).get(e),a=await new kl(n).toPromise();return a===void 0?null:a.value}function D0(r,e){const n=Yc(r,!0).delete(e);return new kl(n).toPromise()}const WS=800,ew=3;class N_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Md(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>ew)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(XS()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await KS(),!this.activeServiceWorker)return;this.sender=new GS(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Md();return await N0(e,Dc,"1"),await D0(e,Dc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>N0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>JS(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>D0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Yc(l,!1).getAll();return new kl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N_.type="LOCAL";const tw=N_;new Cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(r,e){return e?ki(e):(de(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm extends T_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iw(r){return VS(r.auth,new dm(r),r.bypassAuthState)}function rw(r){const{auth:e,user:n}=r;return de(n,e,"internal-error"),MS(n,new dm(r),r.bypassAuthState)}async function sw(r){const{auth:e,user:n}=r;return de(n,e,"internal-error"),kS(n,new dm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iw;case"linkViaPopup":case"linkViaRedirect":return sw;case"reauthViaPopup":case"reauthViaRedirect":return rw;default:Ui(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new Cl(2e3,1e4);class Da extends D_{constructor(e,n,a,l,c){super(e,n,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aw.get())};e()}}Da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="pendingRedirect",vc=new Map;class lw extends D_{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=vc.get(this.auth._key());if(!e){try{const a=await uw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}vc.set(this.auth._key(),e)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uw(r,e){const n=fw(e),a=hw(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function cw(r,e){vc.set(r._key(),e)}function hw(r){return ki(r._redirectPersistence)}function fw(r){return yc(ow,r.config.apiKey,r.name)}async function dw(r,e,n=!1){if(An(r.app))return Promise.reject(Mi(r));const a=Dl(r),l=nw(a,e),d=await new lw(a,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=10*60*1e3;class gw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!O_(e)){const l=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Wn(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mw&&this.cachedEventUids.clear(),this.cachedEventUids.has(O0(e))}saveEventToCache(e){this.cachedEventUids.add(O0(e)),this.lastProcessedEventTime=Date.now()}}function O0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function O_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function pw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(r,e={}){return Ga(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_w=/^https?/;async function Tw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await yw(r);for(const n of e)try{if(Ew(n))return}catch{}Ui(r,"unauthorized-domain")}function Ew(r){const e=Od(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!_w.test(n))return!1;if(vw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Cl(3e4,6e4);function k0(){const r=ei().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Aw(r){return new Promise((e,n)=>{var a,l,c;function d(){k0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k0(),n(Wn(r,"network-request-failed"))},timeout:bw.get()})}if(!((l=(a=ei().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=ei().gapi)===null||c===void 0)&&c.load)d();else{const g=wS("iframefcb");return ei()[g]=()=>{gapi.load?d():n(Wn(r,"network-request-failed"))},AS(`${SS()}?onload=${g}`).catch(y=>n(y))}}).catch(e=>{throw _c=null,e})}let _c=null;function Sw(r){return _c=_c||Aw(r),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new Cl(5e3,15e3),xw="__/auth/iframe",Rw="emulator/auth/iframe",Iw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nw(r){const e=r.config;de(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?om(e,Rw):`https://${r.config.authDomain}/${xw}`,a={apiKey:e.apiKey,appName:r.name,v:Fa},l=Cw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${Il(a).slice(1)}`}async function Dw(r){const e=await Sw(r),n=ei().gapi;return de(n,r,"internal-error"),e.open({where:document.body,url:Nw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Wn(r,"network-request-failed"),g=ei().setTimeout(()=>{c(d)},ww.get());function y(){ei().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kw=500,Mw=600,Vw="_blank",Pw="http://localhost";class M0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uw(r,e,n,a=kw,l=Mw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y=Object.assign(Object.assign({},Ow),{width:a.toString(),height:l.toString(),top:c,left:d}),_=qt().toLowerCase();n&&(g=f_(_)?Vw:n),c_(_)&&(e=e||Pw,y.scrollbars="yes");const A=Object.entries(y).reduce((I,[B,Y])=>`${I}${B}=${Y},`,"");if(gS(_)&&g!=="_self")return Lw(e||"",g),new M0(null);const C=window.open(e||"",g,A);de(C,r,"popup-blocked");try{C.focus()}catch{}return new M0(C)}function Lw(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="__/auth/handler",zw="emulator/auth/handler",Bw=encodeURIComponent("fac");async function V0(r,e,n,a,l,c){de(r.config.authDomain,r,"auth-domain-config-required"),de(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Fa,eventId:l};if(e instanceof E_){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",L1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,C]of Object.entries({}))d[A]=C}if(e instanceof Ol){const A=e.getScopes().filter(C=>C!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await r._getAppCheckToken(),_=y?`#${Bw}=${encodeURIComponent(y)}`:"";return`${qw(r)}?${Il(g).slice(1)}${_}`}function qw({config:r}){return r.emulator?om(r,zw):`https://${r.authDomain}/${jw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="webStorageSupport";class Hw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x_,this._completeRedirectFn=dw,this._overrideRedirectResult=cw}async _openPopup(e,n,a,l){var c;Li((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await V0(e,n,a,Od(),l);return Uw(e,d,fm())}async _openRedirect(e,n,a,l){await this._originValidation(e);const c=await V0(e,n,a,Od(),l);return QS(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Li(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await Dw(e),a=new gw(e);return n.register("authEvent",l=>(de(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_d,{type:_d},l=>{var c;const d=(c=l?.[0])===null||c===void 0?void 0:c[_d];d!==void 0&&n(!!d),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y_()||h_()||cm()}}const Fw=Hw;var P0="@firebase/auth",U0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kw(r){Pa(new ws("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;de(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v_(r)},_=new ES(a,l,c,y);return RS(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Pa(new ws("auth-internal",e=>{const n=Dl(e.getProvider("auth").getImmediate());return(a=>new Gw(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(P0,U0,Qw(r)),Cr(P0,U0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=5*60,Xw=Kv("authIdTokenMaxAge")||Yw;let L0=null;const $w=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Xw)return;const l=n?.token;L0!==l&&(L0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Zw(r=Wv()){const e=rm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=xS(r,{popupRedirectResolver:Fw,persistence:[tw,HS,x_]}),a=Kv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=$w(c.toString());jS(n,d,()=>d(n.currentUser)),LS(n,g=>d(g))}}const l=Gv("auth");return l&&IS(n,`http://${l}`),n}function Jw(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}bS({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Wn("internal-error");c.customData=l,n(c)},a.type="text/javascript",a.charset="UTF-8",Jw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kw("Browser");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nr,k_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function x(){}x.prototype=S.prototype,O.D=S.prototype,O.prototype=new x,O.prototype.constructor=O,O.C=function(D,k,V){for(var R=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)R[Ht-2]=arguments[Ht];return S.prototype[k].apply(D,R)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,S,x){x||(x=0);var D=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)D[k]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(k=0;16>k;++k)D[k]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=O.g[0],x=O.g[1],k=O.g[2];var V=O.g[3],R=S+(V^x&(k^V))+D[0]+3614090360&4294967295;S=x+(R<<7&4294967295|R>>>25),R=V+(k^S&(x^k))+D[1]+3905402710&4294967295,V=S+(R<<12&4294967295|R>>>20),R=k+(x^V&(S^x))+D[2]+606105819&4294967295,k=V+(R<<17&4294967295|R>>>15),R=x+(S^k&(V^S))+D[3]+3250441966&4294967295,x=k+(R<<22&4294967295|R>>>10),R=S+(V^x&(k^V))+D[4]+4118548399&4294967295,S=x+(R<<7&4294967295|R>>>25),R=V+(k^S&(x^k))+D[5]+1200080426&4294967295,V=S+(R<<12&4294967295|R>>>20),R=k+(x^V&(S^x))+D[6]+2821735955&4294967295,k=V+(R<<17&4294967295|R>>>15),R=x+(S^k&(V^S))+D[7]+4249261313&4294967295,x=k+(R<<22&4294967295|R>>>10),R=S+(V^x&(k^V))+D[8]+1770035416&4294967295,S=x+(R<<7&4294967295|R>>>25),R=V+(k^S&(x^k))+D[9]+2336552879&4294967295,V=S+(R<<12&4294967295|R>>>20),R=k+(x^V&(S^x))+D[10]+4294925233&4294967295,k=V+(R<<17&4294967295|R>>>15),R=x+(S^k&(V^S))+D[11]+2304563134&4294967295,x=k+(R<<22&4294967295|R>>>10),R=S+(V^x&(k^V))+D[12]+1804603682&4294967295,S=x+(R<<7&4294967295|R>>>25),R=V+(k^S&(x^k))+D[13]+4254626195&4294967295,V=S+(R<<12&4294967295|R>>>20),R=k+(x^V&(S^x))+D[14]+2792965006&4294967295,k=V+(R<<17&4294967295|R>>>15),R=x+(S^k&(V^S))+D[15]+1236535329&4294967295,x=k+(R<<22&4294967295|R>>>10),R=S+(k^V&(x^k))+D[1]+4129170786&4294967295,S=x+(R<<5&4294967295|R>>>27),R=V+(x^k&(S^x))+D[6]+3225465664&4294967295,V=S+(R<<9&4294967295|R>>>23),R=k+(S^x&(V^S))+D[11]+643717713&4294967295,k=V+(R<<14&4294967295|R>>>18),R=x+(V^S&(k^V))+D[0]+3921069994&4294967295,x=k+(R<<20&4294967295|R>>>12),R=S+(k^V&(x^k))+D[5]+3593408605&4294967295,S=x+(R<<5&4294967295|R>>>27),R=V+(x^k&(S^x))+D[10]+38016083&4294967295,V=S+(R<<9&4294967295|R>>>23),R=k+(S^x&(V^S))+D[15]+3634488961&4294967295,k=V+(R<<14&4294967295|R>>>18),R=x+(V^S&(k^V))+D[4]+3889429448&4294967295,x=k+(R<<20&4294967295|R>>>12),R=S+(k^V&(x^k))+D[9]+568446438&4294967295,S=x+(R<<5&4294967295|R>>>27),R=V+(x^k&(S^x))+D[14]+3275163606&4294967295,V=S+(R<<9&4294967295|R>>>23),R=k+(S^x&(V^S))+D[3]+4107603335&4294967295,k=V+(R<<14&4294967295|R>>>18),R=x+(V^S&(k^V))+D[8]+1163531501&4294967295,x=k+(R<<20&4294967295|R>>>12),R=S+(k^V&(x^k))+D[13]+2850285829&4294967295,S=x+(R<<5&4294967295|R>>>27),R=V+(x^k&(S^x))+D[2]+4243563512&4294967295,V=S+(R<<9&4294967295|R>>>23),R=k+(S^x&(V^S))+D[7]+1735328473&4294967295,k=V+(R<<14&4294967295|R>>>18),R=x+(V^S&(k^V))+D[12]+2368359562&4294967295,x=k+(R<<20&4294967295|R>>>12),R=S+(x^k^V)+D[5]+4294588738&4294967295,S=x+(R<<4&4294967295|R>>>28),R=V+(S^x^k)+D[8]+2272392833&4294967295,V=S+(R<<11&4294967295|R>>>21),R=k+(V^S^x)+D[11]+1839030562&4294967295,k=V+(R<<16&4294967295|R>>>16),R=x+(k^V^S)+D[14]+4259657740&4294967295,x=k+(R<<23&4294967295|R>>>9),R=S+(x^k^V)+D[1]+2763975236&4294967295,S=x+(R<<4&4294967295|R>>>28),R=V+(S^x^k)+D[4]+1272893353&4294967295,V=S+(R<<11&4294967295|R>>>21),R=k+(V^S^x)+D[7]+4139469664&4294967295,k=V+(R<<16&4294967295|R>>>16),R=x+(k^V^S)+D[10]+3200236656&4294967295,x=k+(R<<23&4294967295|R>>>9),R=S+(x^k^V)+D[13]+681279174&4294967295,S=x+(R<<4&4294967295|R>>>28),R=V+(S^x^k)+D[0]+3936430074&4294967295,V=S+(R<<11&4294967295|R>>>21),R=k+(V^S^x)+D[3]+3572445317&4294967295,k=V+(R<<16&4294967295|R>>>16),R=x+(k^V^S)+D[6]+76029189&4294967295,x=k+(R<<23&4294967295|R>>>9),R=S+(x^k^V)+D[9]+3654602809&4294967295,S=x+(R<<4&4294967295|R>>>28),R=V+(S^x^k)+D[12]+3873151461&4294967295,V=S+(R<<11&4294967295|R>>>21),R=k+(V^S^x)+D[15]+530742520&4294967295,k=V+(R<<16&4294967295|R>>>16),R=x+(k^V^S)+D[2]+3299628645&4294967295,x=k+(R<<23&4294967295|R>>>9),R=S+(k^(x|~V))+D[0]+4096336452&4294967295,S=x+(R<<6&4294967295|R>>>26),R=V+(x^(S|~k))+D[7]+1126891415&4294967295,V=S+(R<<10&4294967295|R>>>22),R=k+(S^(V|~x))+D[14]+2878612391&4294967295,k=V+(R<<15&4294967295|R>>>17),R=x+(V^(k|~S))+D[5]+4237533241&4294967295,x=k+(R<<21&4294967295|R>>>11),R=S+(k^(x|~V))+D[12]+1700485571&4294967295,S=x+(R<<6&4294967295|R>>>26),R=V+(x^(S|~k))+D[3]+2399980690&4294967295,V=S+(R<<10&4294967295|R>>>22),R=k+(S^(V|~x))+D[10]+4293915773&4294967295,k=V+(R<<15&4294967295|R>>>17),R=x+(V^(k|~S))+D[1]+2240044497&4294967295,x=k+(R<<21&4294967295|R>>>11),R=S+(k^(x|~V))+D[8]+1873313359&4294967295,S=x+(R<<6&4294967295|R>>>26),R=V+(x^(S|~k))+D[15]+4264355552&4294967295,V=S+(R<<10&4294967295|R>>>22),R=k+(S^(V|~x))+D[6]+2734768916&4294967295,k=V+(R<<15&4294967295|R>>>17),R=x+(V^(k|~S))+D[13]+1309151649&4294967295,x=k+(R<<21&4294967295|R>>>11),R=S+(k^(x|~V))+D[4]+4149444226&4294967295,S=x+(R<<6&4294967295|R>>>26),R=V+(x^(S|~k))+D[11]+3174756917&4294967295,V=S+(R<<10&4294967295|R>>>22),R=k+(S^(V|~x))+D[2]+718787259&4294967295,k=V+(R<<15&4294967295|R>>>17),R=x+(V^(k|~S))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+V&4294967295}a.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var x=S-this.blockSize,D=this.B,k=this.h,V=0;V<S;){if(k==0)for(;V<=x;)l(this,O,V),V+=this.blockSize;if(typeof O=="string"){for(;V<S;)if(D[k++]=O.charCodeAt(V++),k==this.blockSize){l(this,D),k=0;break}}else for(;V<S;)if(D[k++]=O[V++],k==this.blockSize){l(this,D),k=0;break}}this.h=k,this.o+=S},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var x=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=x&255,x/=256;for(this.u(O),O=Array(16),S=x=0;4>S;++S)for(var D=0;32>D;D+=8)O[x++]=this.g[S]>>>D&255;return O};function c(O,S){var x=g;return Object.prototype.hasOwnProperty.call(x,O)?x[O]:x[O]=S(O)}function d(O,S){this.h=S;for(var x=[],D=!0,k=O.length-1;0<=k;k--){var V=O[k]|0;D&&V==S||(x[k]=V,D=!1)}this.g=x}var g={};function y(O){return-128<=O&&128>O?c(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return C;if(0>O)return X(_(-O));for(var S=[],x=1,D=0;O>=x;D++)S[D]=O/x|0,x*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return X(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=_(Math.pow(S,8)),D=C,k=0;k<O.length;k+=8){var V=Math.min(8,O.length-k),R=parseInt(O.substring(k,k+V),S);8>V?(V=_(Math.pow(S,V)),D=D.j(V).add(_(R))):(D=D.j(x),D=D.add(_(R)))}return D}var C=y(0),I=y(1),B=y(16777216);r=d.prototype,r.m=function(){if(J(this))return-X(this).m();for(var O=0,S=1,x=0;x<this.g.length;x++){var D=this.i(x);O+=(0<=D?D:4294967296+D)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Y(this))return"0";if(J(this))return"-"+X(this).toString(O);for(var S=_(Math.pow(O,6)),x=this,D="";;){var k=Se(x,S).g;x=se(x,k.j(S));var V=((0<x.g.length?x.g[0]:x.h)>>>0).toString(O);if(x=k,Y(x))return V+D;for(;6>V.length;)V="0"+V;D=V+D}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Y(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function J(O){return O.h==-1}r.l=function(O){return O=se(this,O),J(O)?-1:Y(O)?0:1};function X(O){for(var S=O.g.length,x=[],D=0;D<S;D++)x[D]=~O.g[D];return new d(x,~O.h).add(I)}r.abs=function(){return J(this)?X(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),x=[],D=0,k=0;k<=S;k++){var V=D+(this.i(k)&65535)+(O.i(k)&65535),R=(V>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);D=R>>>16,V&=65535,R&=65535,x[k]=R<<16|V}return new d(x,x[x.length-1]&-2147483648?-1:0)};function se(O,S){return O.add(X(S))}r.j=function(O){if(Y(this)||Y(O))return C;if(J(this))return J(O)?X(this).j(X(O)):X(X(this).j(O));if(J(O))return X(this.j(X(O)));if(0>this.l(B)&&0>O.l(B))return _(this.m()*O.m());for(var S=this.g.length+O.g.length,x=[],D=0;D<2*S;D++)x[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<O.g.length;k++){var V=this.i(D)>>>16,R=this.i(D)&65535,Ht=O.i(k)>>>16,Ft=O.i(k)&65535;x[2*D+2*k]+=R*Ft,ee(x,2*D+2*k),x[2*D+2*k+1]+=V*Ft,ee(x,2*D+2*k+1),x[2*D+2*k+1]+=R*Ht,ee(x,2*D+2*k+1),x[2*D+2*k+2]+=V*Ht,ee(x,2*D+2*k+2)}for(D=0;D<S;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=S;D<2*S;D++)x[D]=0;return new d(x,0)};function ee(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ie(O,S){this.g=O,this.h=S}function Se(O,S){if(Y(S))throw Error("division by zero");if(Y(O))return new ie(C,C);if(J(O))return S=Se(X(O),S),new ie(X(S.g),X(S.h));if(J(S))return S=Se(O,X(S)),new ie(X(S.g),S.h);if(30<O.g.length){if(J(O)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var x=I,D=S;0>=D.l(O);)x=Ke(x),D=Ke(D);var k=Ce(x,1),V=Ce(D,1);for(D=Ce(D,2),x=Ce(x,2);!Y(D);){var R=V.add(D);0>=R.l(O)&&(k=k.add(x),V=R),D=Ce(D,1),x=Ce(x,1)}return S=se(O,k.j(S)),new ie(k,S)}for(k=C;0<=O.l(S);){for(x=Math.max(1,Math.floor(O.m()/S.m())),D=Math.ceil(Math.log(x)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),V=_(x),R=V.j(S);J(R)||0<R.l(O);)x-=D,V=_(x),R=V.j(S);Y(V)&&(V=I),k=k.add(V),O=se(O,R)}return new ie(k,O)}r.A=function(O){return Se(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),x=[],D=0;D<S;D++)x[D]=this.i(D)&O.i(D);return new d(x,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),x=[],D=0;D<S;D++)x[D]=this.i(D)|O.i(D);return new d(x,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),x=[],D=0;D<S;D++)x[D]=this.i(D)^O.i(D);return new d(x,this.h^O.h)};function Ke(O){for(var S=O.g.length+1,x=[],D=0;D<S;D++)x[D]=O.i(D)<<1|O.i(D-1)>>>31;return new d(x,O.h)}function Ce(O,S){var x=S>>5;S%=32;for(var D=O.g.length-x,k=[],V=0;V<D;V++)k[V]=0<S?O.i(V+x)>>>S|O.i(V+x+1)<<32-S:O.i(V+x);return new d(k,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,k_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Nr=d}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M_,ol,V_,Tc,Vd,P_,U_,L_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=n(this);function l(u,m){if(m)e:{var p=a;u=u.split(".");for(var E=0;E<u.length-1;E++){var P=u[E];if(!(P in p))break e;p=p[P]}u=u[u.length-1],E=p[u],m=m(E),m!=E&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var p=0,E=!1,P={next:function(){if(!E&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function C(u,m,p){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,E),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function I(u,m,p){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,I.apply(null,arguments)}function B(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var E=p.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function Y(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(E,P,q){for(var Z=Array(arguments.length-2),we=2;we<arguments.length;we++)Z[we-2]=arguments[we];return m.prototype[P].apply(E,Z)}}function J(u){const m=u.length;if(0<m){const p=Array(m);for(let E=0;E<m;E++)p[E]=u[E];return p}return[]}function X(u,m){for(let p=1;p<arguments.length;p++){const E=arguments[p];if(y(E)){const P=u.length||0,q=E.length||0;u.length=P+q;for(let Z=0;Z<q;Z++)u[P+Z]=E[Z]}else u.push(E)}}class se{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Se(u){return Se[" "](u),u}Se[" "]=function(){};var Ke=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Ce(u,m,p){for(const E in u)m.call(p,u[E],E,u)}function O(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let p,E;for(let P=1;P<arguments.length;P++){E=arguments[P];for(p in E)u[p]=E[p];for(let q=0;q<x.length;q++)p=x[q],Object.prototype.hasOwnProperty.call(E,p)&&(u[p]=E[p])}}function k(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function V(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Ve;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ht{constructor(){this.h=this.g=null}add(m,p){const E=Ft.get();E.set(m,p),this.h?this.h.next=E:this.g=E,this.h=E}}var Ft=new se(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let W,ae=!1,Ve=new Ht,je=()=>{const u=g.Promise.resolve(void 0);W=()=>{u.then(Rt)}};var Rt=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){V(p)}var m=Ft;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ae=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Pt(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ke){e:{try{Se(m.nodeName);var P=!0;break e}catch{}P=!1}P||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Vn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pt.aa.h.call(this)}}Y(Pt,me);var Vn={2:"touch",3:"pen",4:"mouse"};Pt.prototype.h=function(){Pt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var si="closure_listenable_"+(1e6*Math.random()|0),ks=0;function Hi(u,m,p,E,P){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!E,this.ha=P,this.key=++ks,this.da=this.fa=!1}function Fi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ai(u){this.src=u,this.g={},this.h=0}ai.prototype.add=function(u,m,p,E,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var Z=zr(u,m,E,P);return-1<Z?(m=u[Z],p||(m.fa=!1)):(m=new Hi(m,this.src,q,!!E,P),m.fa=p,u.push(m)),m};function jr(u,m){var p=m.type;if(p in u.g){var E=u.g[p],P=Array.prototype.indexOf.call(E,m,void 0),q;(q=0<=P)&&Array.prototype.splice.call(E,P,1),q&&(Fi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function zr(u,m,p,E){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==E)return P}return-1}var Br="closure_lm_"+(1e6*Math.random()|0),$a={};function Ll(u,m,p,E,P){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Ll(u,m[q],p,E,P);return null}return p=jl(p),u&&u[si]?u.K(m,p,_(E)?!!E.capture:!1,P):cn(u,m,p,!1,E,P)}function cn(u,m,p,E,P,q){if(!m)throw Error("Invalid event type");var Z=_(P)?!!P.capture:!!P,we=Vs(u);if(we||(u[Br]=we=new ai(u)),p=we.add(m,p,E,Z,q),p.proxy)return p;if(E=oh(),p.proxy=E,E.src=u,E.listener=p,u.addEventListener)ot||(P=Z),P===void 0&&(P=!1),u.addEventListener(m.toString(),E,P);else if(u.attachEvent)u.attachEvent(qr(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return p}function oh(){function u(p){return m.call(u.src,u.listener,p)}const m=lh;return u}function Za(u,m,p,E,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Za(u,m[q],p,E,P);else E=_(E)?!!E.capture:!!E,p=jl(p),u&&u[si]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=zr(q,p,E,P),-1<p&&(Fi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Vs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=zr(m,p,E,P)),(p=-1<u?m[u]:null)&&Ms(p))}function Ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[si])jr(m.i,u);else{var p=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(p,E,u.capture):m.detachEvent?m.detachEvent(qr(p),E):m.addListener&&m.removeListener&&m.removeListener(E),(p=Vs(m))?(jr(p,u),p.h==0&&(p.src=null,m[Br]=null)):Fi(u)}}}function qr(u){return u in $a?$a[u]:$a[u]="on"+u}function lh(u,m){if(u.da)u=!0;else{m=new Pt(m,this);var p=u.listener,E=u.ha||u.src;u.fa&&Ms(u),u=p.call(E,m)}return u}function Vs(u){return u=u[Br],u instanceof ai?u:null}var Ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function jl(u){return typeof u=="function"?u:(u[Ja]||(u[Ja]=function(m){return u.handleEvent(m)}),u[Ja])}function We(){Ne.call(this),this.i=new ai(this),this.M=this,this.F=null}Y(We,Ne),We.prototype[si]=!0,We.prototype.removeEventListener=function(u,m,p,E){Za(this,u,m,p,E)};function Pe(u,m){var p,E=u.F;if(E)for(p=[];E;E=E.F)p.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var P=m;m=new me(E,u),D(m,P)}if(P=!0,p)for(var q=p.length-1;0<=q;q--){var Z=m.g=p[q];P=en(Z,E,!0,m)&&P}if(Z=m.g=u,P=en(Z,E,!0,m)&&P,P=en(Z,E,!1,m)&&P,p)for(q=0;q<p.length;q++)Z=m.g=p[q],P=en(Z,E,!1,m)&&P}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],E=0;E<p.length;E++)Fi(p[E]);delete u.g[m],u.h--}}this.F=null},We.prototype.K=function(u,m,p,E){return this.i.add(String(u),m,!1,p,E)},We.prototype.L=function(u,m,p,E){return this.i.add(String(u),m,!0,p,E)};function en(u,m,p,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,q=0;q<m.length;++q){var Z=m[q];if(Z&&!Z.da&&Z.capture==p){var we=Z.listener,mt=Z.ha||Z.src;Z.fa&&jr(u.i,Z),P=we.call(mt,E)!==!1&&P}}return P&&!E.defaultPrevented}function Ut(u,m,p){if(typeof u=="function")p&&(u=I(u,p));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function zl(u){u.g=Ut(()=>{u.g=null,u.i&&(u.i=!1,zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class uh extends Ne{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(u){Ne.call(this),this.h=u,this.g={}}Y(Hr,Ne);var Fr=[];function Gr(u){Ce(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ms(m)},u),u.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),Gr(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=g.JSON.stringify,Ps=g.JSON.parse,Qr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Wa(){}Wa.prototype.h=null;function eo(u){return u.h||(u.h=u.i())}function to(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){me.call(this,"d")}Y(li,me);function no(){me.call(this,"c")}Y(no,me);var Pn={},io=null;function Gi(){return io=io||new We}Pn.La="serverreachability";function Us(u){me.call(this,Pn.La,u)}Y(Us,me);function Qi(u){const m=Gi();Pe(m,new Us(m))}Pn.STAT_EVENT="statevent";function Bl(u,m){me.call(this,Pn.STAT_EVENT,u),this.stat=m}Y(Bl,me);function Ye(u){const m=Gi();Pe(m,new Bl(m,u))}Pn.Ma="timingevent";function dt(u,m){me.call(this,Pn.Ma,u),this.size=m}Y(dt,me);function lt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function ro(u,m,p,E,P,q){u.info(function(){if(u.g)if(q)for(var Z="",we=q.split("&"),mt=0;mt<we.length;mt++){var xe=we[mt].split("=");if(1<xe.length){var bt=xe[0];xe=xe[1];var gt=bt.split("_");Z=2<=gt.length&&gt[1]=="type"?Z+(bt+"="+xe+"&"):Z+(bt+"=redacted&")}}else Z=null;else Z=q;return"XMLHTTP REQ ("+E+") [attempt "+P+"]: "+m+`
`+p+`
`+Z})}function ch(u,m,p,E,P,q,Z){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+P+"]: "+m+`
`+p+`
`+q+" "+Z})}function Ki(u,m,p,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kr(u,p)+(E?" "+E:"")})}function ql(u,m){u.info(function(){return"TIMEOUT: "+m})}hn.prototype.info=function(){};function Kr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var E=p[u];if(!(2>E.length)){var P=E[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var Z=1;Z<P.length;Z++)P[Z]=""}}}}return xn(p)}catch{return m}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function Ln(){}Y(Ln,Wa),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},Un=new Ln;function Gt(u,m,p,E){this.j=u,this.i=m,this.l=p,this.R=E||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new it}function it(){this.i=null,this.g="",this.h=!1}var so={},Ls={};function Rn(u,m,p){u.L=1,u.v=Jr(tn(m)),u.m=p,u.P=!0,ci(u,null)}function ci(u,m){u.F=Date.now(),Yr(u),u.A=tn(u.v);var p=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),ho(p.i,"t",E),u.C=0,p=u.j.J,u.h=new it,u.g=ru(u.j,p?m:null,!u.m),0<u.O&&(u.M=new uh(I(u.Y,u,u.g),u.O)),m=u.U,p=u.g,E=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Fr[0]=P.toString()),P=Fr);for(var q=0;q<P.length;q++){var Z=Ll(p,P[q],E||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qi(),ro(u.i,u.u,u.A,u.l,u.R,u.m)}Gt.prototype.ca=function(u){u=u.target;const m=this.M;m&&gn(u)==3?m.j():this.Y(u)},Gt.prototype.Y=function(u){try{if(u==this.g)e:{const gt=gn(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||$l(this.g)))){this.J||gt!=4||m==7||(m==8||0>=vi?Qi(3):Qi(2)),Xi(this);var p=this.g.Z();this.X=p;t:if(Hl(this)){var E=$l(this.g);u="";var P=E.length,q=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){It(this),jn(this);var Z="";break t}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(q&&m==P-1)});E.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=p==200,ch(this.i,this.u,this.A,this.l,this.R,gt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var we,mt=this.g;if((we=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(we)){var xe=we;break t}}xe=null}if(p=xe)Ki(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xr(this,p);else{this.o=!1,this.s=3,Ye(12),It(this),jn(this);break e}}if(this.P){p=!0;let Ct;for(;!this.J&&this.C<Z.length;)if(Ct=Fl(this,Z),Ct==Ls){gt==4&&(this.s=4,Ye(14),p=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==so){this.s=4,Ye(15),Ki(this.i,this.l,Z,"[Invalid Chunk]"),p=!1;break}else Ki(this.i,this.l,Ct,null),Xr(this,Ct);if(Hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||Z.length!=0||this.h.h||(this.s=1,Ye(16),p=!1),this.o=this.o&&p,!p)Ki(this.i,this.l,Z,"[Invalid Chunked Response]"),It(this),jn(this);else if(0<Z.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),as(bt),bt.M=!0,Ye(11))}}else Ki(this.i,this.l,Z,null),Xr(this,Z);gt==4&&It(this),this.o&&!this.J&&(gt==4?tu(this.j,this):(this.o=!1,Yr(this)))}else gh(this.g),p==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),It(this),jn(this)}}}catch{}finally{}};function Hl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Fl(u,m){var p=u.C,E=m.indexOf(`
`,p);return E==-1?Ls:(p=Number(m.substring(p,E)),isNaN(p)?so:(E+=1,E+p>m.length?Ls:(m=m.slice(E,E+p),u.C=E+p,m)))}Gt.prototype.cancel=function(){this.J=!0,It(this)};function Yr(u){u.S=Date.now()+u.I,Gl(u,u.I)}function Gl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=lt(I(u.ba,u),m)}function Xi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Gt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ql(this.i,this.A),this.L!=2&&(Qi(),Ye(17)),It(this),this.s=2,jn(this)):Gl(this,this.S-u)};function jn(u){u.j.G==0||u.J||tu(u.j,u)}function It(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Gr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Xr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||ao(p.h,u))){if(!u.K&&ao(p.h,u)&&p.G==3){try{var E=p.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var P=E;if(P[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)$s(p),Ys(p);else break e;yo(p),Ye(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=lt(I(p.Za,p),6e3));if(1>=zs(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else yi(p,11)}else if((u.K||p.g==u)&&$s(p),!ee(m))for(P=p.Da.g.parse(m),m=0;m<P.length;m++){let xe=P[m];if(p.T=xe[0],xe=xe[1],p.G==2)if(xe[0]=="c"){p.K=xe[1],p.ia=xe[2];const bt=xe[3];bt!=null&&(p.la=bt,p.j.info("VER="+p.la));const gt=xe[4];gt!=null&&(p.Aa=gt,p.j.info("SVER="+p.Aa));const vi=xe[5];vi!=null&&typeof vi=="number"&&0<vi&&(E=1.5*vi,p.L=E,p.j.info("backChannelRequestTimeoutMs_="+E)),E=p;const Ct=u.g;if(Ct){const Qn=Ct.g?Ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var q=E.h;q.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Bs(q,q.h),q.h=null))}if(E.D){const _o=Ct.g?Ct.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(E.ya=_o,ze(E.I,E.D,_o))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),E=p;var Z=u;if(E.qa=iu(E,E.J?E.ia:null,E.W),Z.K){Qt(E.h,Z);var we=Z,mt=E.L;mt&&(we.I=mt),we.B&&(Xi(we),Yr(we)),E.g=Z}else Wl(E);0<p.i.length&&Xs(p)}else xe[0]!="stop"&&xe[0]!="close"||yi(p,7);else p.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?yi(p,7):go(p):xe[0]!="noop"&&p.l&&p.l.ta(xe),p.v=0)}}Qi(4)}catch{}}var Ql=class{constructor(u,m){this.g=u,this.map=m}};function hi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function js(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zs(u){return u.h?1:u.g?u.g.size:0}function ao(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Bs(u,m){u.g?u.g.add(m):u.h=m}function Qt(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}hi.prototype.cancel=function(){if(this.i=oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function oo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return J(u.i)}function hh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],p=u.length,E=0;E<p;E++)m.push(u[E]);return m}m=[],p=0;for(E in u)m[p++]=u[E];return m}function qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const E in u)m[p++]=E;return m}}}function lo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=qs(u),E=hh(u),P=E.length,q=0;q<P;q++)m.call(void 0,E[q],p&&p[q],u)}var $r=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fh(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var E=u[p].indexOf("="),P=null;if(0<=E){var q=u[p].substring(0,E);P=u[p].substring(E+1)}else q=u[p];m(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ut(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ut){this.h=u.h,Zr(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.s),this.l=u.l;var m=u.i,p=new di;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),fi(this,p),this.m=u.m}else u&&(m=String(u).match($r))?(this.h=!1,Zr(this,m[1]||"",!0),this.o=fn(m[2]||""),this.g=fn(m[3]||"",!0),$i(this,m[4]),this.l=fn(m[5]||"",!0),fi(this,m[6]||"",!0),this.m=fn(m[7]||"")):(this.h=!1,this.i=new di(null,this.h))}ut.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Wr(m,uo,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Wr(m,uo,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Wr(p,p.charAt(0)=="/"?dh:co,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Wr(p,Hs)),u.join("")};function tn(u){return new ut(u)}function Zr(u,m,p){u.j=p?fn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function fi(u,m,p){m instanceof di?(u.i=m,Yl(u.i,u.h)):(p||(m=Wr(m,mh)),u.i=new di(m,u.h))}function ze(u,m,p){u.i.set(m,p)}function Jr(u){return ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function fn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Kl),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var uo=/[#\/\?@]/g,co=/[#\?:]/g,dh=/[#\?]/g,mh=/[#\?@]/g,Hs=/#/g;function di(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&fh(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=di.prototype,r.add=function(u,m){dn(this),this.i=null,u=zn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function mi(u,m){dn(u),m=zn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function gi(u,m){return dn(u),m=zn(u,m),u.g.has(m)}r.forEach=function(u,m){dn(this),this.g.forEach(function(p,E){p.forEach(function(P){u.call(m,P,E,this)},this)},this)},r.na=function(){dn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let E=0;E<m.length;E++){const P=u[E];for(let q=0;q<P.length;q++)p.push(m[E])}return p},r.V=function(u){dn(this);let m=[];if(typeof u=="string")gi(this,u)&&(m=m.concat(this.g.get(zn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return dn(this),this.i=null,u=zn(this,u),gi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ho(u,m,p){mi(u,m),0<p.length&&(u.i=null,u.g.set(zn(u,m),J(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var E=m[p];const q=encodeURIComponent(String(E)),Z=this.V(E);for(E=0;E<Z.length;E++){var P=q;Z[E]!==""&&(P+="="+encodeURIComponent(String(Z[E]))),u.push(P)}}return this.i=u.join("&")};function zn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Yl(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(p,E){var P=E.toLowerCase();E!=P&&(mi(this,E),ho(this,P,p))},u)),u.j=m}function es(u,m){const p=new hn;if(g.Image){const E=new Image;E.onload=B(mn,p,"TestLoadImage: loaded",!0,m,E),E.onerror=B(mn,p,"TestLoadImage: error",!1,m,E),E.onabort=B(mn,p,"TestLoadImage: abort",!1,m,E),E.ontimeout=B(mn,p,"TestLoadImage: timeout",!1,m,E),g.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function In(u,m){const p=new hn,E=new AbortController,P=setTimeout(()=>{E.abort(),mn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(q=>{clearTimeout(P),q.ok?mn(p,"TestPingServer: ok",!0,m):mn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),mn(p,"TestPingServer: error",!1,m)})}function mn(u,m,p,E,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),E(p)}catch{}}function ts(){this.g=new Qr}function Bn(u,m,p){const E=p||"";try{lo(u,function(P,q){let Z=P;_(P)&&(Z=xn(P)),m.push(E+q+"="+encodeURIComponent(Z))})}catch(P){throw m.push(E+"type="+encodeURIComponent("_badmap")),P}}function Zi(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(Zi,Wa),Zi.prototype.g=function(){return new pi(this.l,this.j)},Zi.prototype.i=function(u){return function(){return u}}({});function pi(u,m){We.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(pi,We),r=pi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function fo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qn(this):Hn(this),this.readyState==3&&fo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,qn(this))},r.Qa=function(u){this.g&&(this.response=u,qn(this))},r.ga=function(){this.g&&qn(this)};function qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Hn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function mo(u){let m="";return Ce(u,function(p,E){m+=E,m+=":",m+=p,m+=`\r
`}),m}function Et(u,m,p){e:{for(E in p){var E=!1;break e}E=!0}E||(p=mo(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):ze(u,m,p))}function ke(u){We.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(ke,We);var Fs=/^https?$/i,ns=["POST","PUT"];r=ke.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?eo(this.o):eo(Un),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Xl(this,q);return}if(u=p||"",p=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var P in E)p.set(P,E[P]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())p.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ns,m,void 0))||E||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,Z]of p)this.g.setRequestHeader(q,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{is(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Xl(this,q)}};function Xl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Gs(u),Fn(u)}function Gs(u){u.A||(u.A=!0,Pe(u,"complete"),Pe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Pe(this,"complete"),Pe(this,"abort"),Fn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Qs(this):this.bb())},r.bb=function(){Qs(this)};function Qs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||gn(u)!=4||u.Z()!=2)){if(u.u&&gn(u)==4)Ut(u.Ea,0,u);else if(Pe(u,"readystatechange"),gn(u)==4){u.h=!1;try{const Z=u.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var p;if(!(p=m)){var E;if(E=Z===0){var P=String(u.D).match($r)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),E=!Fs.test(P?P.toLowerCase():"")}p=E}if(p)Pe(u,"complete"),Pe(u,"success");else{u.m=6;try{var q=2<gn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Gs(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){is(u);const p=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Pe(u,"ready");try{p.onreadystatechange=E}catch{}}}function is(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function gn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ps(m)}};function $l(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gh(u){const m={};u=(u.g&&2<=gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(ee(u[E]))continue;var p=k(u[E]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[P]||[];m[P]=q,q.push(p)}O(m,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rs(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ks(u){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rs("baseRetryDelayMs",5e3,u),this.cb=rs("retryDelaySeedMs",1e4,u),this.Wa=rs("forwardChannelMaxRetries",2,u),this.wa=rs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(u&&u.concurrentRequestLimit),this.Da=new ts,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ks.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,E){Ye(0),this.W=u,this.H=m||{},p&&E!==void 0&&(this.H.OSID=p,this.H.OAID=E),this.F=this.X,this.I=iu(this,null,this.W),Xs(this)};function go(u){if(Zl(u),u.G==3){var m=u.U++,p=tn(u.I);if(ze(p,"SID",u.K),ze(p,"RID",m),ze(p,"TYPE","terminate"),ss(u,p),m=new Gt(u,u.j,m),m.L=2,m.v=Jr(tn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Yr(m)}nu(u)}function Ys(u){u.g&&(as(u),u.g.cancel(),u.g=null)}function Zl(u){Ys(u),u.u&&(g.clearTimeout(u.u),u.u=null),$s(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Xs(u){if(!js(u.h)&&!u.s){u.s=!0;var m=u.Ga;W||je(),ae||(W(),ae=!0),Ve.add(m,u),u.B=0}}function ph(u,m){return zs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=lt(I(u.Ga,u,m),vo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Gt(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)e:{for(var m=0,p=0;p<this.i.length;p++){t:{var E=this.i[p];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=p;break e}if(m===4096||p===this.i.length-1){m=p+1;break e}}m=1e3}else m=1e3;m=Jl(this,P,m),p=tn(this.I),ze(p,"RID",u),ze(p,"CVER",22),this.D&&ze(p,"X-HTTP-Session-Id",this.D),ss(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(mo(q)))+"&"+m:this.m&&Et(p,this.m,q)),Bs(this.h,P),this.Ua&&ze(p,"TYPE","init"),this.P?(ze(p,"$req",m),ze(p,"SID","null"),P.T=!0,Rn(P,p,null)):Rn(P,p,m),this.G=2}}else this.G==3&&(u?po(this,u):this.i.length==0||js(this.h)||po(this))};function po(u,m){var p;m?p=m.l:p=u.U++;const E=tn(u.I);ze(E,"SID",u.K),ze(E,"RID",p),ze(E,"AID",u.T),ss(u,E),u.m&&u.o&&Et(E,u.m,u.o),p=new Gt(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Jl(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Bs(u.h,p),Rn(p,E,m)}function ss(u,m){u.H&&Ce(u.H,function(p,E){ze(m,E,p)}),u.l&&lo({},function(p,E){ze(m,E,p)})}function Jl(u,m,p){p=Math.min(u.i.length,p);var E=u.l?I(u.l.Na,u.l,u):null;e:{var P=u.i;let q=-1;for(;;){const Z=["count="+p];q==-1?0<p?(q=P[0].g,Z.push("ofs="+q)):q=0:Z.push("ofs="+q);let we=!0;for(let mt=0;mt<p;mt++){let xe=P[mt].g;const bt=P[mt].map;if(xe-=q,0>xe)q=Math.max(0,P[mt].g-100),we=!1;else try{Bn(bt,Z,"req"+xe+"_")}catch{E&&E(bt)}}if(we){E=Z.join("&");break e}}}return u=u.i.splice(0,p),m.D=u,E}function Wl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;W||je(),ae||(W(),ae=!0),Ve.add(m,u),u.v=0}}function yo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=lt(I(u.Fa,u),vo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=lt(I(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),Ys(this),eu(this))};function as(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function eu(u){u.g=new Gt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=tn(u.qa);ze(m,"RID","rpc"),ze(m,"SID",u.K),ze(m,"AID",u.T),ze(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ze(m,"TO",u.ja),ze(m,"TYPE","xmlhttp"),ss(u,m),u.m&&u.o&&Et(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Jr(tn(m)),p.m=null,p.P=!0,ci(p,u)}r.Za=function(){this.C!=null&&(this.C=null,Ys(this),yo(this),Ye(19))};function $s(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function tu(u,m){var p=null;if(u.g==m){$s(u),as(u),u.g=null;var E=2}else if(ao(u.h,m))p=m.D,Qt(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;E=Gi(),Pe(E,new dt(E,p)),Xs(u)}else Wl(u);else if(P=m.s,P==3||P==0&&0<m.X||!(E==1&&ph(u,m)||E==2&&yo(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),P){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function vo(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var p=I(u.fb,u),E=u.Xa;const P=!E;E=new ut(E||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Zr(E,"https"),Jr(E),P?es(E.toString(),p):In(E.toString(),p)}else Ye(2);u.G=0,u.l&&u.l.sa(m),nu(u),Zl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function nu(u){if(u.G=0,u.ka=[],u.l){const m=oo(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ka,m),X(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function iu(u,m,p){var E=p instanceof ut?tn(p):new ut(p);if(E.g!="")m&&(E.g=m+"."+E.g),$i(E,E.s);else{var P=g.location;E=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var q=new ut(null);E&&Zr(q,E),m&&(q.g=m),P&&$i(q,P),p&&(q.l=p),E=q}return p=u.D,m=u.ya,p&&m&&ze(E,p,m),ze(E,"VER",u.la),ss(u,E),E}function ru(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ke(new Zi({eb:p})):new ke(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}r=su.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Zs(){}Zs.prototype.g=function(u,m){return new Kt(u,m)};function Kt(u,m){We.call(this),this.g=new Ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ee(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ee(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gn(this)}Y(Kt,We),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){go(this.g)},Kt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=xn(u),u=p);m.i.push(new Ql(m.Ya++,u)),m.G==3&&Xs(m)},Kt.prototype.N=function(){this.g.l=null,delete this.j,go(this.g),delete this.g,Kt.aa.N.call(this)};function au(u){li.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const p in m){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(au,li);function ou(){no.call(this),this.status=1}Y(ou,no);function Gn(u){this.g=u}Y(Gn,su),Gn.prototype.ua=function(){Pe(this.g,"a")},Gn.prototype.ta=function(u){Pe(this.g,new au(u))},Gn.prototype.sa=function(u){Pe(this.g,new ou)},Gn.prototype.ra=function(){Pe(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,L_=function(){return new Zs},U_=function(){return Gi()},P_=Pn,Vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Tc=Yi,ui.COMPLETE="complete",V_=ui,to.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",We.prototype.listen=We.prototype.K,ol=to,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,M_=ke}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const z0="@firebase/firestore",B0="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new nm("@firebase/firestore");function Ra(){return Rs.logLevel}function te(r,...e){if(Rs.logLevel<=be.DEBUG){const n=e.map(mm);Rs.debug(`Firestore (${Qa}): ${r}`,...n)}}function zi(r,...e){if(Rs.logLevel<=be.ERROR){const n=e.map(mm);Rs.error(`Firestore (${Qa}): ${r}`,...n)}}function Ua(r,...e){if(Rs.logLevel<=be.WARN){const n=e.map(mm);Rs.warn(`Firestore (${Qa}): ${r}`,...n)}}function mm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,j_(r,a,n)}function j_(r,e,n){let a=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw zi(a),new Error(a)}function Me(r,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||j_(e,l,a)}function pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ww{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class ex{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tx{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let c=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Dr,e.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},g=y=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Dr)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Me(typeof a.accessToken=="string",31837,{l:a}),new z_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class nx{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ix{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new nx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const a=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,te("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const l=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new q0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=sx(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<n&&(a+=e.charAt(l[c]%62))}return a}}function ve(r,e){return r<e?-1:r>e?1:0}function Pd(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),l=e.codePointAt(n);if(a!==l){if(a<128&&l<128)return ve(a,l);{const c=B_(),d=ax(c.encode(H0(r,n)),c.encode(H0(e,n)));return d!==0?d:ve(a,l)}}n+=a>65535?2:1}return ve(r.length,e.length)}function H0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function ax(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return ve(r[n],e[n]);return ve(r.length,e.length)}function La(r,e,n){return r.length===e.length&&r.every((a,l)=>n(a,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=-62135596800,G0=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*G0);return new _t(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<F0)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G0}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-F0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new _t(0,0))}static max(){return new ge(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="__name__";class Jn{constructor(e,n,a){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&fe(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const c=Jn.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return ve(e.length,n.length)}static compareSegments(e,n){const a=Jn.isNumericId(e),l=Jn.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Jn.extractNumericId(e).compare(Jn.extractNumericId(n)):Pd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class nt extends Jn{construct(e,n,a){return new nt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new le($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(l=>l.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const ox=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Jn{construct(e,n,a){return new Mt(e,n,a)}static isValidIdentifier(e){return ox.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q0}static keyField(){return new Mt([Q0])}static fromServerFormat(e){const n=[];let a="",l=0;const c=()=>{if(a.length===0)throw new le($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new le($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(nt.fromString(e))}static fromName(e){return new ue(nt.fromString(e).popFirst(5))}static empty(){return new ue(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=-1;function lx(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=ge.fromTimestamp(a===1e9?new _t(n+1,0):new _t(n,a));return new Or(l,ue.empty(),e)}function ux(r){return new Or(r.readTime,r.key,vl)}class Or{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Or(ge.min(),ue.empty(),vl)}static max(){return new Or(ge.max(),ue.empty(),vl)}}function cx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(r.documentKey,e.documentKey),n!==0?n:ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==hx)throw r;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,a)=>{n(e)})}static reject(e){return new K((n,a)=>{a(e)})}static waitFor(e){return new K((n,a)=>{let l=0,c=0,d=!1;e.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},y=>a(y))}),d=!0,c===l&&n()})}static or(e){let n=K.resolve(!1);for(const a of e)n=n.next(l=>l?K.resolve(l):a());return n}static forEach(e,n){const a=[];return e.forEach((l,c)=>{a.push(n.call(this,l,c))}),this.waitFor(a)}static mapArray(e,n){return new K((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next(A=>{d[_]=A,++g,g===c&&a(d)},A=>l(A))}})}static doWhile(e,n){return new K((a,l)=>{const c=()=>{e()===!0?n().next(()=>{c()},l):a()};c()})}}function dx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ya(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Xc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=-1;function $c(r){return r==null}function kc(r){return r===0&&1/r==-1/0}function mx(r){return typeof r=="number"&&Number.isInteger(r)&&!kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="";function gx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=K0(e)),e=px(r.get(n),e);return K0(e)}function px(r,e){let n=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case H_:n+="";break;default:n+=c}}return n}function K0(r){return r+H_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function F_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,a,l,c){this.key=e,this.value=n,this.color=a??kt.RED,this.left=l??kt.EMPTY,this.right=c??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,c){return new kt(e??this.key,n??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,a),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return kt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,n,a,l,c){return this}insert(e,n,a){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X0(this.data.getIterator())}getIteratorFrom(e){return new X0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class X0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Tt(Mt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return La(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new G_("Invalid base64 string: "+c):c}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const yx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(r){if(Me(!!r,39018),typeof r=="string"){let e=0;const n=yx.exec(r);if(Me(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:at(r.seconds),nanos:at(r.nanos)}}function at(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Mr(r){return typeof r=="string"?Vt.fromBase64String(r):Vt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="server_timestamp",K_="__type__",Y_="__previous_value__",X_="__local_write_time__";function pm(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[K_])===null||n===void 0?void 0:n.stringValue)===Q_}function Zc(r){const e=r.mapValue.fields[Y_];return pm(e)?Zc(e):e}function _l(r){const e=kr(r.mapValue.fields[X_].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,a,l,c,d,g,y,_,A){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Mc="(default)";class Tl{constructor(e,n){this.projectId=e,this.database=n||Mc}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database===Mc}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="__type__",_x="__max__",fc={mapValue:{}},Z_="__vector__",Vc="value";function Vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pm(r)?4:Ex(r)?9007199254740991:Tx(r)?10:11:fe(28295,{value:r})}function ii(r,e){if(r===e)return!0;const n=Vr(r);if(n!==Vr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return _l(r).isEqual(_l(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=kr(l.timestampValue),g=kr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(l,c){return Mr(l.bytesValue).isEqual(Mr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,c){return at(l.geoPointValue.latitude)===at(c.geoPointValue.latitude)&&at(l.geoPointValue.longitude)===at(c.geoPointValue.longitude)}(r,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return at(l.integerValue)===at(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=at(l.doubleValue),g=at(c.doubleValue);return d===g?kc(d)===kc(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return La(r.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Y0(d)!==Y0(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ii(d[y],g[y])))return!1;return!0}(r,e);default:return fe(52216,{left:r})}}function El(r,e){return(r.values||[]).find(n=>ii(n,e))!==void 0}function ja(r,e){if(r===e)return 0;const n=Vr(r),a=Vr(e);if(n!==a)return ve(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(r.booleanValue,e.booleanValue);case 2:return function(c,d){const g=at(c.integerValue||c.doubleValue),y=at(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(r,e);case 3:return $0(r.timestampValue,e.timestampValue);case 4:return $0(_l(r),_l(e));case 5:return Pd(r.stringValue,e.stringValue);case 6:return function(c,d){const g=Mr(c),y=Mr(d);return g.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=ve(g[_],y[_]);if(A!==0)return A}return ve(g.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const g=ve(at(c.latitude),at(d.latitude));return g!==0?g:ve(at(c.longitude),at(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Z0(r.arrayValue,e.arrayValue);case 10:return function(c,d){var g,y,_,A;const C=c.fields||{},I=d.fields||{},B=(g=C[Vc])===null||g===void 0?void 0:g.arrayValue,Y=(y=I[Vc])===null||y===void 0?void 0:y.arrayValue,J=ve(((_=B?.values)===null||_===void 0?void 0:_.length)||0,((A=Y?.values)===null||A===void 0?void 0:A.length)||0);return J!==0?J:Z0(B,Y)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===fc.mapValue&&d===fc.mapValue)return 0;if(c===fc.mapValue)return 1;if(d===fc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let C=0;C<y.length&&C<A.length;++C){const I=Pd(y[C],A[C]);if(I!==0)return I;const B=ja(g[y[C]],_[A[C]]);if(B!==0)return B}return ve(y.length,A.length)}(r.mapValue,e.mapValue);default:throw fe(23264,{Pe:n})}}function $0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ve(r,e);const n=kr(r),a=kr(e),l=ve(n.seconds,a.seconds);return l!==0?l:ve(n.nanos,a.nanos)}function Z0(r,e){const n=r.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const c=ja(n[l],a[l]);if(c)return c}return ve(n.length,a.length)}function za(r){return Ud(r)}function Ud(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=kr(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Mr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ue.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",l=!0;for(const c of n.values||[])l?l=!1:a+=",",a+=Ud(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Ud(n.fields[d])}`;return l+"}"}(r.mapValue):fe(61005,{value:r})}function Ec(r){switch(Vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zc(r);return e?16+Ec(e):16;case 5:return 2*r.stringValue.length;case 6:return Mr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+Ec(c),0)}(r.arrayValue);case 10:case 11:return function(a){let l=0;return Cs(a.fields,(c,d)=>{l+=c.length+Ec(d)}),l}(r.mapValue);default:throw fe(13486,{value:r})}}function Ld(r){return!!r&&"integerValue"in r}function ym(r){return!!r&&"arrayValue"in r}function J0(r){return!!r&&"nullValue"in r}function W0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bc(r){return!!r&&"mapValue"in r}function Tx(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[$_])===null||n===void 0?void 0:n.stringValue)===Z_}function fl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Cs(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=fl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Ex(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===_x}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!bc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fl(n)}setAll(e){let n=Mt.emptyPath(),a={},l=[];e.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,a,l),a={},l=[],n=g.popLast()}d?a[g.lastSegment()]=fl(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,a,l)}delete(e){const n=this.field(e.popLast());bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){Cs(n,(l,c)=>e[l]=c);for(const l of a)delete e[l]}clone(){return new Sn(fl(this.value))}}function J_(r){const e=[];return Cs(r.fields,(n,a)=>{const l=new Mt([n]);if(bc(a)){const c=J_(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,a,l,c,d,g){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Bt(e,0,ge.min(),ge.min(),ge.min(),Sn.empty(),0)}static newFoundDocument(e,n,a,l){return new Bt(e,1,n,ge.min(),a,l,0)}static newNoDocument(e,n){return new Bt(e,2,n,ge.min(),ge.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,ge.min(),ge.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.position=e,this.inclusive=n}}function ev(r,e,n){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=ue.comparator(ue.fromName(d.referenceValue),n.key):a=ja(d,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function tv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ii(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n="asc"){this.field=e,this.dir=n}}function bx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{}class vt extends W_{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new Sx(e,n,a):n==="array-contains"?new Rx(e,a):n==="in"?new Ix(e,a):n==="not-in"?new Cx(e,a):n==="array-contains-any"?new Nx(e,a):new vt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new wx(e,a):new xx(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ja(n,this.value)):n!==null&&Vr(this.value)===Vr(n)&&this.matchesComparison(ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends W_{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ri(e,n)}matches(e){return eT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function eT(r){return r.op==="and"}function tT(r){return Ax(r)&&eT(r)}function Ax(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function jd(r){if(r instanceof vt)return r.field.canonicalString()+r.op.toString()+za(r.value);if(tT(r))return r.filters.map(e=>jd(e)).join(",");{const e=r.filters.map(n=>jd(n)).join(",");return`${r.op}(${e})`}}function nT(r,e){return r instanceof vt?function(a,l){return l instanceof vt&&a.op===l.op&&a.field.isEqual(l.field)&&ii(a.value,l.value)}(r,e):r instanceof ri?function(a,l){return l instanceof ri&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,d,g)=>c&&nT(d,l.filters[g]),!0):!1}(r,e):void fe(19439)}function iT(r){return r instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${za(n.value)}`}(r):r instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(iT).join(" ,")+"}"}(r):"Filter"}class Sx extends vt{constructor(e,n,a){super(e,n,a),this.key=ue.fromName(a.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class wx extends vt{constructor(e,n){super(e,"in",n),this.keys=rT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xx extends vt{constructor(e,n){super(e,"not-in",n),this.keys=rT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>ue.fromName(a.referenceValue))}class Rx extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ym(n)&&El(n.arrayValue,this.value)}}class Ix extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&El(this.value.arrayValue,n)}}class Cx extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!El(this.value.arrayValue,n)}}class Nx extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>El(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function nv(r,e=null,n=[],a=[],l=null,c=null,d=null){return new Dx(r,e,n,a,l,c,d)}function vm(r){const e=pe(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>jd(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),$c(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>za(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>za(a)).join(",")),e.Ie=n}return e.Ie}function _m(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!bx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!nT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!tv(r.startAt,e.startAt)&&tv(r.endAt,e.endAt)}function zd(r){return ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n=null,a=[],l=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ox(r,e,n,a,l,c,d,g){return new Jc(r,e,n,a,l,c,d,g)}function Tm(r){return new Jc(r)}function iv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function kx(r){return r.collectionGroup!==null}function dl(r){const e=pe(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ee.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Tt(Mt.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ee.push(new Uc(c,a))}),n.has(Mt.keyField().canonicalString())||e.Ee.push(new Uc(Mt.keyField(),a))}return e.Ee}function ti(r){const e=pe(r);return e.de||(e.de=Mx(e,dl(r))),e.de}function Mx(r,e){if(r.limitType==="F")return nv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Uc(l.field,c)});const n=r.endAt?new Pc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Pc(r.startAt.position,r.startAt.inclusive):null;return nv(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Bd(r,e,n){return new Jc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Wc(r,e){return _m(ti(r),ti(e))&&r.limitType===e.limitType}function sT(r){return`${vm(ti(r))}|lt:${r.limitType}`}function Ia(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(l=>iT(l)).join(", ")}]`),$c(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(l=>za(l)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(l=>za(l)).join(",")),`Target(${a})`}(ti(r))}; limitType=${r.limitType})`}function eh(r,e){return e.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ue.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,e)&&function(a,l){for(const c of dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,e)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(r,e)&&function(a,l){return!(a.startAt&&!function(d,g,y){const _=ev(d,g,y);return d.inclusive?_<=0:_<0}(a.startAt,dl(a),l)||a.endAt&&!function(d,g,y){const _=ev(d,g,y);return d.inclusive?_>=0:_>0}(a.endAt,dl(a),l))}(r,e)}function Vx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function aT(r){return(e,n)=>{let a=!1;for(const l of dl(r)){const c=Px(l,e,n);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Px(r,e,n){const a=r.field.isKeyField()?ue.comparator(e.key,n.key):function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?ja(y,_):fe(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return fe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,a)=>{for(const[l,c]of a)e(l,c)})}isEmpty(){return F_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new Je(ue.comparator);function Bi(){return Ux}const oT=new Je(ue.comparator);function ll(...r){let e=oT;for(const n of r)e=e.insert(n.key,n);return e}function lT(r){let e=oT;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function As(){return ml()}function uT(){return ml()}function ml(){return new Ns(r=>r.toString(),(r,e)=>r.isEqual(e))}const Lx=new Je(ue.comparator),jx=new Tt(ue.comparator);function Ae(...r){let e=jx;for(const n of r)e=e.add(n);return e}const zx=new Tt(ve);function Bx(){return zx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(e)?"-0":e}}function cT(r){return{integerValue:""+r}}function qx(r,e){return mx(e)?cT(e):Em(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function Hx(r,e,n){return r instanceof Lc?function(l,c){const d={fields:{[K_]:{stringValue:Q_},[X_]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&pm(c)&&(c=Zc(c)),c&&(d.fields[Y_]=c),{mapValue:d}}(n,e):r instanceof bl?fT(r,e):r instanceof Al?dT(r,e):function(l,c){const d=hT(l,c),g=rv(d)+rv(l.Re);return Ld(d)&&Ld(l.Re)?cT(g):Em(l.serializer,g)}(r,e)}function Fx(r,e,n){return r instanceof bl?fT(r,e):r instanceof Al?dT(r,e):n}function hT(r,e){return r instanceof jc?function(a){return Ld(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class Lc extends th{}class bl extends th{constructor(e){super(),this.elements=e}}function fT(r,e){const n=mT(e);for(const a of r.elements)n.some(l=>ii(l,a))||n.push(a);return{arrayValue:{values:n}}}class Al extends th{constructor(e){super(),this.elements=e}}function dT(r,e){let n=mT(e);for(const a of r.elements)n=n.filter(l=>!ii(l,a));return{arrayValue:{values:n}}}class jc extends th{constructor(e,n){super(),this.serializer=e,this.Re=n}}function rv(r){return at(r.integerValue||r.doubleValue)}function mT(r){return ym(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Gx(r,e){return r.field.isEqual(e.field)&&function(a,l){return a instanceof bl&&l instanceof bl||a instanceof Al&&l instanceof Al?La(a.elements,l.elements,ii):a instanceof jc&&l instanceof jc?ii(a.Re,l.Re):a instanceof Lc&&l instanceof Lc}(r.transform,e.transform)}class Qx{constructor(e,n){this.version=e,this.transformResults=n}}class Vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class nh{}function gT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new yT(r.key,Vi.none()):new Ml(r.key,r.data,Vi.none());{const n=r.data,a=Sn.empty();let l=new Tt(Mt.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Ds(r.key,a,new kn(l.toArray()),Vi.none())}}function Kx(r,e,n){r instanceof Ml?function(l,c,d){const g=l.value.clone(),y=av(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,n):r instanceof Ds?function(l,c,d){if(!Ac(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=av(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(pT(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,e,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function gl(r,e,n,a){return r instanceof Ml?function(c,d,g,y){if(!Ac(c.precondition,d))return g;const _=c.value.clone(),A=ov(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,e,n,a):r instanceof Ds?function(c,d,g,y){if(!Ac(c.precondition,d))return g;const _=ov(c.fieldTransforms,y,d),A=d.data;return A.setAll(pT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(r,e,n,a):function(c,d,g){return Ac(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,n)}function Yx(r,e){let n=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=hT(a.transform,l||null);c!=null&&(n===null&&(n=Sn.empty()),n.set(a.field,c))}return n||null}function sv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&La(a,l,(c,d)=>Gx(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ml extends nh{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ds extends nh{constructor(e,n,a,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function pT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function av(r,e,n){const a=new Map;Me(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,Fx(d,g,n[l]))}return a}function ov(r,e,n){const a=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);a.set(l.field,Hx(c,d,e))}return a}class yT extends nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xx extends nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Kx(c,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=gl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=gl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=uT();return this.mutations.forEach(l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const y=gT(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(ge.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,(n,a)=>sv(n,a))&&La(this.baseMutations,e.baseMutations,(n,a)=>sv(n,a))}}class bm{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){Me(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let l=function(){return Lx}();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new bm(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Ie;function Wx(r){switch(r){case $.OK:return fe(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return fe(15467,{code:r})}}function vT(r){if(r===void 0)return zi("GRPC error has no .code"),$.UNKNOWN;switch(r){case ft.OK:return $.OK;case ft.CANCELLED:return $.CANCELLED;case ft.UNKNOWN:return $.UNKNOWN;case ft.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ft.INTERNAL:return $.INTERNAL;case ft.UNAVAILABLE:return $.UNAVAILABLE;case ft.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ft.NOT_FOUND:return $.NOT_FOUND;case ft.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ft.ABORTED:return $.ABORTED;case ft.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ft.DATA_LOSS:return $.DATA_LOSS;default:return fe(39323,{code:r})}}(Ie=ft||(ft={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new Nr([4294967295,4294967295],0);function lv(r){const e=B_().encode(r),n=new k_;return n.update(e),new Uint8Array(n.digest())}function uv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Nr([n,a],0),new Nr([l,c],0)]}class Am{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ul(`Invalid padding: ${n}`);if(a<0)throw new ul(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new ul(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Nr.fromNumber(this.pe)}we(e,n,a){let l=e.add(n.multiply(Nr.fromNumber(a)));return l.compare(eR)===1&&(l=new Nr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=lv(e),[a,l]=uv(n);for(let c=0;c<this.hashCount;c++){const d=this.we(a,l,c);if(!this.Se(d))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Am(c,l,n);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const n=lv(e),[a,l]=uv(n);for(let c=0;c<this.hashCount;c++){const d=this.we(a,l,c);this.be(d)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,a,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new ih(ge.min(),l,new Je(ve),Bi(),Ae())}}class Vl{constructor(e,n,a,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Vl(a,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,a,l){this.De=e,this.removedTargetIds=n,this.key=a,this.ve=l}}class _T{constructor(e,n){this.targetId=e,this.Ce=n}}class TT{constructor(e,n,a=Vt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class cv{constructor(){this.Fe=0,this.Me=hv(),this.xe=Vt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ae(),n=Ae(),a=Ae();return this.Me.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:fe(38017,{changeType:c})}}),new Vl(this.xe,this.Oe,e,n,a)}Qe(){this.Ne=!1,this.Me=hv()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Me(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tR{constructor(e){this.ze=e,this.je=new Map,this.He=Bi(),this.Je=dc(),this.Ye=dc(),this.Ze=new Je(ve)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const a=this.rt(n);switch(e.state){case 0:this.it(n)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((a,l)=>{this.it(l)&&n(l)})}ot(e){const n=e.targetId,a=e.Ce.count,l=this._t(n);if(l){const c=l.target;if(zd(c))if(a===0){const d=new ue(c.path);this.tt(n,d,Bt.newNoDocument(d,ge.min()))}else Me(a===1,20013,{expectedCount:a});else{const d=this.ut(n);if(d!==a){const g=this.ct(e),y=g?this.lt(g,e,d):1;if(y!==0){this.st(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Mr(a).toUint8Array()}catch(y){if(y instanceof G_)return Ua("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Am(d,l,c)}catch(y){return Ua(y instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.pe===0?null:g}lt(e,n,a){return n.Ce.count===a-this.Tt(e,n.targetId)?0:2}Tt(e,n){const a=this.ze.getRemoteKeysForTarget(n);let l=0;return a.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(e){const n=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&zd(g.target)){const y=new ue(g.target.path);this.Et(y).has(d)||this.dt(d,y)||this.tt(d,y,Bt.newNoDocument(y,e))}c.Le&&(n.set(d,c.qe()),c.Qe())}});let a=Ae();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const _=this._t(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(c))}),this.He.forEach((c,d)=>d.setReadTime(e));const l=new ih(e,n,this.Ze,this.He,a);return this.He=Bi(),this.Je=dc(),this.Ye=dc(),this.Ze=new Je(ve),l}et(e,n){if(!this.it(e))return;const a=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,a){if(!this.it(e))return;const l=this.rt(e);this.dt(e,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),a&&(this.He=this.He.insert(n,a))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new cv,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Tt(ve),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Tt(ve),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new cv),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function dc(){return new Je(ue.comparator)}function hv(){return new Je(ue.comparator)}const nR={asc:"ASCENDING",desc:"DESCENDING"},iR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rR={and:"AND",or:"OR"};class sR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qd(r,e){return r.useProto3Json||$c(e)?e:{value:e}}function zc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ET(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function aR(r,e){return zc(r,e.toTimestamp())}function ni(r){return Me(!!r,49232),ge.fromTimestamp(function(n){const a=kr(n);return new _t(a.seconds,a.nanos)}(r))}function Sm(r,e){return Hd(r,e).canonicalString()}function Hd(r,e){const n=function(l){return new nt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return e===void 0?n:n.child(e)}function bT(r){const e=nt.fromString(r);return Me(RT(e),10190,{key:e.toString()}),e}function Fd(r,e){return Sm(r.databaseId,e.path)}function Td(r,e){const n=bT(e);if(n.get(1)!==r.databaseId.projectId)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ue(ST(n))}function AT(r,e){return Sm(r.databaseId,e)}function oR(r){const e=bT(r);return e.length===4?nt.emptyPath():ST(e)}function Gd(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ST(r){return Me(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function fv(r,e,n){return{name:Fd(r,e),fields:n.value.mapValue.fields}}function lR(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:fe(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(Me(A===void 0||typeof A=="string",58123),Vt.fromBase64String(A||"")):(Me(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Vt.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?$.UNKNOWN:vT(_.code);return new le(A,_.message||"")}(d);n=new TT(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Td(r,a.document.name),c=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):ge.min(),g=new Sn({mapValue:{fields:a.document.fields}}),y=Bt.newFoundDocument(l,c,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];n=new Sc(_,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Td(r,a.document),c=a.readTime?ni(a.readTime):ge.min(),d=Bt.newNoDocument(l,c),g=a.removedTargetIds||[];n=new Sc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Td(r,a.document),c=a.removedTargetIds||[];n=new Sc([],c,l,null)}else{if(!("filter"in e))return fe(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Jx(l,c),g=a.targetId;n=new _T(g,d)}}return n}function uR(r,e){let n;if(e instanceof Ml)n={update:fv(r,e.key,e.value)};else if(e instanceof yT)n={delete:Fd(r,e.key)};else if(e instanceof Ds)n={update:fv(r,e.key,e.data),updateMask:vR(e.fieldMask)};else{if(!(e instanceof Xx))return fe(16599,{ft:e.type});n={verify:Fd(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(c,d){const g=d.transform;if(g instanceof Lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Al)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof jc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw fe(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:aR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:fe(27497)}(r,e.precondition)),n}function cR(r,e){return r&&r.length>0?(Me(e!==void 0,14353),r.map(n=>function(l,c){let d=l.updateTime?ni(l.updateTime):ni(c);return d.isEqual(ge.min())&&(d=ni(c)),new Qx(d,l.transformResults||[])}(n,e))):[]}function hR(r,e){return{documents:[AT(r,e.path)]}}function fR(r,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=AT(r,l);const c=function(_){if(_.length!==0)return xT(ri.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(A=>function(I){return{field:Ca(I.field),direction:gR(I.dir)}}(A))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=qd(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:n,parent:l}}function dR(r){let e=oR(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){Me(a===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];n.where&&(c=function(C){const I=wT(C);return I instanceof ri&&tT(I)?I.getFilters():[I]}(n.where));let d=[];n.orderBy&&(d=function(C){return C.map(I=>function(Y){return new Uc(Na(Y.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(I))}(n.orderBy));let g=null;n.limit&&(g=function(C){let I;return I=typeof C=="object"?C.value:C,$c(I)?null:I}(n.limit));let y=null;n.startAt&&(y=function(C){const I=!!C.before,B=C.values||[];return new Pc(B,I)}(n.startAt));let _=null;return n.endAt&&(_=function(C){const I=!C.before,B=C.values||[];return new Pc(B,I)}(n.endAt)),Ox(e,l,d,c,g,"F",y,_)}function mR(r,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:l})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Na(n.unaryFilter.field);return vt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Na(n.unaryFilter.field);return vt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Na(n.unaryFilter.field);return vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Na(n.unaryFilter.field);return vt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(r):r.fieldFilter!==void 0?function(n){return vt.create(Na(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(a=>wT(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(n.compositeFilter.op))}(r):fe(30097,{filter:r})}function gR(r){return nR[r]}function pR(r){return iR[r]}function yR(r){return rR[r]}function Ca(r){return{fieldPath:r.canonicalString()}}function Na(r){return Mt.fromServerFormat(r.fieldPath)}function xT(r){return r instanceof vt?function(n){if(n.op==="=="){if(W0(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NAN"}};if(J0(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W0(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NAN"}};if(J0(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(n.field),op:pR(n.op),value:n.value}}}(r):r instanceof ri?function(n){const a=n.getFilters().map(l=>xT(l));return a.length===1?a[0]:{compositeFilter:{op:yR(n.op),filters:a}}}(r):fe(54877,{filter:r})}function vR(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,a,l,c=ge.min(),d=ge.min(),g=Vt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.wt=e}}function TR(r){const e=dR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.Cn=new bR}addToCollectionParentIndex(e,n){return this.Cn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Or.min())}updateCollectionGroup(e,n,a){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class bR{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new Tt(nt.comparator),c=!l.has(a);return this.index[n]=l.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Tt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IT=41943040;class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(IT,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ba(0)}static lr(){return new Ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="LruGarbageCollector",AR=1048576;function gv([r,e],[n,a]){const l=ve(r,n);return l===0?ve(e,a):l}class SR{constructor(e){this.Er=e,this.buffer=new Tt(gv),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();gv(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wR{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){te(mv,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ya(n)?te(mv,"Ignoring IndexedDB error during garbage collection: ",n):await Ka(n)}await this.mr(3e5)})}}class xR{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return K.resolve(Xc.le);const a=new SR(n);return this.gr.forEachTarget(e,l=>a.Rr(l.sequenceNumber)).next(()=>this.gr.yr(e,l=>a.Rr(l))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.gr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(dv)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dv):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let a,l,c,d,g,y,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,d=Date.now(),this.nthSequenceNumber(e,l))).next(C=>(a=C,g=Date.now(),this.removeTargets(e,a,n))).next(C=>(c=C,y=Date.now(),this.removeOrphanedDocuments(e,a))).next(C=>(_=Date.now(),Ra()<=be.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${C} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:C})))}}function RR(r,e){return new xR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.changes=new Ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?K.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(a=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(a!==null&&gl(a.mutation,l,kn.empty(),_t.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Ae()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Ae()){const l=As();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,a).next(c=>{let d=ll();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const a=As();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Ae()))}populateOverlays(e,n,a){const l=[];return a.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(e,n,a,l){let c=Bi();const d=ml(),g=function(){return ml()}();return n.forEach((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Ds)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),gl(A.mutation,_,A.mutation.getFieldMask(),_t.now())):d.set(_.key,kn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((_,A)=>d.set(_,A)),n.forEach((_,A)=>{var C;return g.set(_,new CR(A,(C=d.get(_))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(e,n){const a=ml();let l=new Je((d,g)=>d-g),c=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const g of d)g.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let A=a.get(y)||kn.empty();A=g.applyToLocalView(_,A),a.set(y,A);const C=(l.get(g.batchId)||Ae()).add(y);l=l.insert(g.batchId,C)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,C=uT();A.forEach(I=>{if(!c.has(I)){const B=gT(n.get(I),a.get(I));B!==null&&C.set(I,B),c=c.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,C))}return K.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,l){return function(d){return ue.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-c.size):K.resolve(As());let g=vl,y=c;return d.next(_=>K.forEach(_,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{y=y.insert(A,I)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,y,_,Ae())).next(A=>({batchId:g,changes:lT(A)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(a=>{let l=ll();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const c=n.collectionGroup;let d=ll();return this.indexManager.getCollectionParents(e,c).next(g=>K.forEach(g,y=>{const _=function(C,I){return new Jc(I,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next(A=>{A.forEach((C,I)=>{d=d.insert(C,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,l))).next(d=>{c.forEach((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Bt.newInvalidDocument(A)))});let g=ll();return d.forEach((y,_)=>{const A=c.get(y);A!==void 0&&gl(A.mutation,_,kn.empty(),_t.now()),eh(n,_)&&(g=g.insert(y,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return K.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:ni(l.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(l){return{name:l.name,query:TR(l.bundledQuery),readTime:ni(l.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.overlays=new Je(ue.comparator),this.Qr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const a=As();return K.forEach(n,l=>this.getOverlay(e,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((l,c)=>{this.bt(e,n,c)}),K.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.Qr.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(a)),K.resolve()}getOverlaysForCollection(e,n,a){const l=As(),c=n.length+1,d=new ue(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return K.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let c=new Je((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=As(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=As(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=l)););return K.resolve(g)}bt(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(a.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Zx(n,a));let c=this.Qr.get(n);c===void 0&&(c=Ae(),this.Qr.set(n,c)),this.Qr.set(n,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.$r=new Tt(xt.Ur),this.Kr=new Tt(xt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const a=new xt(e,n);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.zr(new xt(e,n))}jr(e,n){e.forEach(a=>this.removeReference(a,n))}Hr(e){const n=new ue(new nt([])),a=new xt(n,e),l=new xt(n,e+1),c=[];return this.Kr.forEachInRange([a,l],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ue(new nt([])),a=new xt(n,e),l=new xt(n,e+1);let c=Ae();return this.Kr.forEachInRange([a,l],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new xt(e,0),a=this.$r.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class xt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ue.comparator(e.key,n.key)||ve(e.Zr,n.Zr)}static Wr(e,n){return ve(e.Zr,n.Zr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Tt(xt.Ur)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $x(c,n,a,l);this.mutationQueue.push(d);for(const g of l)this.Xr=this.Xr.add(new xt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,n){return K.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.ti(a),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?gm:this.nr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new xt(n,0),l=new xt(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([a,l],d=>{const g=this.ei(d.Zr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Tt(ve);return n.forEach(l=>{const c=new xt(l,0),d=new xt(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],g=>{a=a.add(g.Zr)})}),K.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let c=a;ue.isDocumentKey(c)||(c=c.child(""));const d=new xt(new ue(c),0);let g=new Tt(ve);return this.Xr.forEachWhile(y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Zr)),!0)},d),K.resolve(this.ni(g))}ni(e){const n=[];return e.forEach(a=>{const l=this.ei(a);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){Me(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return K.forEach(n.mutations,l=>{const c=new xt(l.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,n){const a=new xt(n,0),l=this.Xr.firstAfterOrEqual(a);return K.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.ii=e,this.docs=function(){return new Je(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),c=l?l.size:0,d=this.ii(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return K.resolve(a?a.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let a=Bi();return n.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Bt.newInvalidDocument(l))}),K.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let c=Bi();const d=n.path,g=new ue(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||cx(ux(A),a)<=0||(l.has(A.key)||eh(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(e,n,a,l){fe(9500)}si(e,n){return K.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new PR(this)}getSize(e){return K.resolve(this.size)}}class PR extends IR{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(e,l)):this.Br.removeEntry(a)}),K.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.persistence=e,this.oi=new Ns(n=>vm(n),_m),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this._i=0,this.ai=new wm,this.targetCount=0,this.ui=Ba.cr()}forEachTarget(e,n){return this.oi.forEach((a,l)=>n(l)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this._i&&(this._i=n),K.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ba(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Tr(n),K.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,a){let l=0;const c=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const a=this.oi.get(n)||null;return K.resolve(a)}addMatchingKeys(e,n,a){return this.ai.Gr(n,a),K.resolve()}removeMatchingKeys(e,n,a){this.ai.jr(n,a);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(e,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const a=this.ai.Yr(n);return K.resolve(a)}containsKey(e,n){return K.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.ci={},this.overlays={},this.li=new Xc(0),this.hi=!1,this.hi=!0,this.Pi=new kR,this.referenceDelegate=e(this),this.Ti=new UR(this),this.indexManager=new ER,this.remoteDocumentCache=function(l){return new VR(l)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new _R(n),this.Ei=new DR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ci[e.toKey()];return a||(a=new MR(n,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,a){te("MemoryPersistence","Starting transaction:",e);const l=new LR(this.li.next());return this.referenceDelegate.di(),a(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(e,n){return K.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,n)))}}class LR extends fx{constructor(e){super(),this.currentSequenceNumber=e}}class xm{constructor(e){this.persistence=e,this.Vi=new wm,this.mi=null}static fi(e){return new xm(e)}get gi(){if(this.mi)return this.mi;throw fe(60996)}addReference(e,n,a){return this.Vi.addReference(a,n),this.gi.delete(a.toString()),K.resolve()}removeReference(e,n,a){return this.Vi.removeReference(a,n),this.gi.add(a.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>a.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,a=>{const l=ue.fromPath(a);return this.pi(e,l).next(c=>{c||n.removeEntry(l,ge.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(a=>{a?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return K.or([()=>K.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Bc{constructor(e,n){this.persistence=e,this.yi=new Ns(a=>gx(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=RR(this,n)}static fi(e,n){return new Bc(e,n)}di(){}Ai(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(l=>a+l))}Sr(e){let n=0;return this.yr(e,a=>{n++}).next(()=>n)}yr(e,n){return K.forEach(this.yi,(a,l)=>this.Dr(e,a,l).next(c=>c?K.resolve():n(l)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(e,d=>this.Dr(e,d,n).next(g=>{g||(a++,c.removeEntry(d,ge.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),K.resolve()}removeReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),K.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ec(e.data.value)),n}Dr(e,n,a){return K.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.yi.get(n);return K.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.ds=a,this.As=l}static Rs(e,n){let a=Ae(),l=Ae();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Rm(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return O1()?8:dx(qt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,a,l){const c={result:null};return this.ws(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Ss(e,n,l,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new jR;return this.bs(e,n,d).next(g=>{if(c.result=g,this.fs)return this.Ds(e,n,d,g.size)})}).next(()=>c.result)}Ds(e,n,a,l){return a.documentReadCount<this.gs?(Ra()<=be.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(Ra()<=be.DEBUG&&te("QueryEngine","Query:",Ia(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ps*l?(Ra()<=be.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):K.resolve())}ws(e,n){if(iv(n))return K.resolve(null);let a=ti(n);return this.indexManager.getIndexType(e,a).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Bd(n,null,"F"),a=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const d=Ae(...c);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(y=>{const _=this.vs(n,g);return this.Cs(n,_,d,y.readTime)?this.ws(e,Bd(n,null,"F")):this.Fs(e,_,n,y)}))})))}Ss(e,n,a,l){return iv(n)||l.isEqual(ge.min())?K.resolve(null):this.ys.getDocuments(e,a).next(c=>{const d=this.vs(n,c);return this.Cs(n,d,a,l)?K.resolve(null):(Ra()<=be.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ia(n)),this.Fs(e,d,n,lx(l,vl)).next(g=>g))})}vs(e,n){let a=new Tt(aT(e));return n.forEach((l,c)=>{eh(e,c)&&(a=a.add(c))}),a}Cs(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}bs(e,n,a){return Ra()<=be.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ia(n)),this.ys.getDocumentsMatchingQuery(e,n,Or.min(),a)}Fs(e,n,a,l){return this.ys.getDocumentsMatchingQuery(e,a,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="LocalStore",BR=3e8;class qR{constructor(e,n,a,l){this.persistence=e,this.Ms=n,this.serializer=l,this.xs=new Je(ve),this.Os=new Ns(c=>vm(c),_m),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NR(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function HR(r,e,n,a){return new qR(r,e,n,a)}async function NT(r,e){const n=pe(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,n.Ls(e),n.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],g=[];let y=Ae();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return n.localDocuments.getDocuments(a,y).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function FR(r,e){const n=pe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,y,_,A){const C=_.batch,I=C.keys();let B=K.resolve();return I.forEach(Y=>{B=B.next(()=>A.getEntry(y,Y)).next(J=>{const X=_.docVersions.get(Y);Me(X!==null,48541),J.version.compareTo(X)<0&&(C.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),A.addEntry(J)))})}),B.next(()=>g.mutationQueue.removeMutationBatch(y,C))}(n,a,e,c).next(()=>c.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let y=Ae();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y}(e))).next(()=>n.localDocuments.getDocuments(a,l))})}function DT(r){const e=pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function GR(r,e){const n=pe(r),a=e.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];e.targetChanges.forEach((A,C)=>{const I=l.get(C);if(!I)return;g.push(n.Ti.removeMatchingKeys(c,A.removedDocuments,C).next(()=>n.Ti.addMatchingKeys(c,A.addedDocuments,C)));let B=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?B=B.withResumeToken(Vt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,a)),l=l.insert(C,B),function(J,X,se){return J.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=BR?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0}(I,B,A)&&g.push(n.Ti.updateTargetData(c,B))});let y=Bi(),_=Ae();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(QR(c,d,e.documentUpdates).next(A=>{y=A.qs,_=A.Qs})),!a.isEqual(ge.min())){const A=n.Ti.getLastRemoteSnapshotVersion(c).next(C=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,a));g.push(A)}return K.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,_)).next(()=>y)}).then(c=>(n.xs=l,c))}function QR(r,e,n){let a=Ae(),l=Ae();return n.forEach(c=>a=a.add(c)),e.getEntries(r,a).next(c=>{let d=Bi();return n.forEach((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(ge.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):te(Im,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)}),{qs:d,Qs:l}})}function KR(r,e){const n=pe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=gm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function YR(r,e){const n=pe(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return n.Ti.getTargetData(a,e).next(c=>c?(l=c,K.resolve(l)):n.Ti.allocateTargetId(a).next(d=>(l=new xr(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Ti.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=n.xs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(a.targetId,a),n.Os.set(e,a.targetId)),a})}async function Qd(r,e,n){const a=pe(r),l=a.xs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ya(d))throw d;te(Im,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(l.target)}function pv(r,e,n){const a=pe(r);let l=ge.min(),c=Ae();return a.persistence.runTransaction("Execute query","readwrite",d=>function(y,_,A){const C=pe(y),I=C.Os.get(A);return I!==void 0?K.resolve(C.xs.get(I)):C.Ti.getTargetData(_,A)}(a,d,ti(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,n?l:ge.min(),n?c:Ae())).next(g=>(XR(a,Vx(e),g),{documents:g,$s:c})))}function XR(r,e,n){let a=r.Ns.get(e)||ge.min();n.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),r.Ns.set(e,a)}class yv{constructor(){this.activeTargetIds=Bx()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $R{constructor(){this.xo=new yv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,a){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new yv,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="ConnectivityMonitor";class _v{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){te(vv,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){te(vv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function Kd(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="RestConnection",JR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WR{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${a}/databases/${l}`,this.Go=this.databaseId.database===Mc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}zo(e,n,a,l,c){const d=Kd(),g=this.jo(e,n.toUriEncodedString());te(Ed,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(y,l,c);const{host:_}=new URL(g),A=xl(_);return this.Jo(e,g,y,a,A).then(C=>(te(Ed,`Received RPC '${e}' ${d}: `,C),C),C=>{throw Ua(Ed,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",a),C})}Yo(e,n,a,l,c,d){return this.zo(e,n,a,l,c)}Ho(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>e[c]=l),a&&a.headers.forEach((l,c)=>e[c]=l)}jo(e,n){const a=JR[e];return`${this.Ko}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class t2 extends WR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,l,c){const d=Kd();return new Promise((g,y)=>{const _=new M_;_.setWithCredentials(!0),_.listenOnce(V_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Tc.NO_ERROR:const C=_.getResponseJson();te(jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case Tc.TIMEOUT:te(jt,`RPC '${e}' ${d} timed out`),y(new le($.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:const I=_.getStatus();if(te(jt,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const Y=B?.error;if(Y&&Y.status&&Y.message){const J=function(se){const ee=se.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ee)>=0?ee:$.UNKNOWN}(Y.status);y(new le(J,Y.message))}else y(new le($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new le($.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{te(jt,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(l);te(jt,`RPC '${e}' ${d} sending request:`,l),_.send(n,"POST",A,a,15)})}T_(e,n,a){const l=Kd(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=L_(),g=U_(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Ho(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const A=c.join("");te(jt,`Creating RPC '${e}' stream ${l}: ${A}`,y);const C=d.createWebChannel(A,y);let I=!1,B=!1;const Y=new e2({Zo:X=>{B?te(jt,`Not sending because RPC '${e}' stream ${l} is closed:`,X):(I||(te(jt,`Opening RPC '${e}' stream ${l} transport.`),C.open(),I=!0),te(jt,`RPC '${e}' stream ${l} sending:`,X),C.send(X))},Xo:()=>C.close()}),J=(X,se,ee)=>{X.listen(se,ie=>{try{ee(ie)}catch(Se){setTimeout(()=>{throw Se},0)}})};return J(C,ol.EventType.OPEN,()=>{B||(te(jt,`RPC '${e}' stream ${l} transport opened.`),Y.__())}),J(C,ol.EventType.CLOSE,()=>{B||(B=!0,te(jt,`RPC '${e}' stream ${l} transport closed`),Y.u_())}),J(C,ol.EventType.ERROR,X=>{B||(B=!0,Ua(jt,`RPC '${e}' stream ${l} transport errored. Name:`,X.name,"Message:",X.message),Y.u_(new le($.UNAVAILABLE,"The operation could not be completed")))}),J(C,ol.EventType.MESSAGE,X=>{var se;if(!B){const ee=X.data[0];Me(!!ee,16349);const ie=ee,Se=ie?.error||((se=ie[0])===null||se===void 0?void 0:se.error);if(Se){te(jt,`RPC '${e}' stream ${l} received error:`,Se);const Ke=Se.status;let Ce=function(x){const D=ft[x];if(D!==void 0)return vT(D)}(Ke),O=Se.message;Ce===void 0&&(Ce=$.INTERNAL,O="Unknown error status: "+Ke+" with message "+Se.message),B=!0,Y.u_(new le(Ce,O)),C.close()}else te(jt,`RPC '${e}' stream ${l} received:`,ee),Y.c_(ee)}}),J(g,P_.STAT_EVENT,X=>{X.stat===Vd.PROXY?te(jt,`RPC '${e}' stream ${l} detected buffering proxy`):X.stat===Vd.NOPROXY&&te(jt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Y.a_()},0),Y}}function bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r){return new sR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,a=1e3,l=1.5,c=6e4){this.xi=e,this.timerId=n,this.I_=a,this.E_=l,this.d_=c,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),l=Math.max(0,n-a);l>0&&te("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="PersistentStream";class kT{constructor(e,n,a,l,c,d,g,y){this.xi=e,this.y_=a,this.w_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new OT(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(zi(n.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.S_===n&&this.K_(a,l)},a=>{e(()=>{const l=new le($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(l)})})}K_(e,n){const a=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{a(()=>this.W_(l))}),this.stream.onMessage(l=>{a(()=>++this.v_==1?this.z_(l):this.onNext(l))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return te(Tv,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(te(Tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n2 extends kT{constructor(e,n,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,d),this.serializer=c}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=lR(this.serializer,e),a=function(c){if(!("targetChange"in c))return ge.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ge.min():d.readTime?ni(d.readTime):ge.min()}(e);return this.listener.j_(n,a)}H_(e){const n={};n.database=Gd(this.serializer),n.addTarget=function(c,d){let g;const y=d.target;if(g=zd(y)?{documents:hR(c,y)}:{query:fR(c,y).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=ET(c,d.resumeToken);const _=qd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(ge.min())>0){g.readTime=zc(c,d.snapshotVersion.toTimestamp());const _=qd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const a=mR(this.serializer,e);a&&(n.labels=a),this.L_(n)}J_(e){const n={};n.database=Gd(this.serializer),n.removeTarget=e,this.L_(n)}}class i2 extends kT{constructor(e,n,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,d),this.serializer=c}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=cR(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.ea(a,n)}ta(){const e={};e.database=Gd(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>uR(this.serializer,a))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{}class s2 extends r2{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.na=!1}ra(){if(this.na)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(e,Hd(n,a),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le($.UNKNOWN,c.toString())})}Yo(e,n,a,l,c){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,Hd(n,a),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le($.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class a2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(zi(n),this.oa=!1):te("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class o2{constructor(e,n,a,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=c,this.Ea.No(d=>{a.enqueueAndForget(async()=>{Os(this)&&(te(Is,"Restarting streams for network reachability change."),await async function(y){const _=pe(y);_.Ta.add(4),await Pl(_),_.da.set("Unknown"),_.Ta.delete(4),await sh(_)}(this))})}),this.da=new a2(a,l)}}async function sh(r){if(Os(r))for(const e of r.Ia)await e(!0)}async function Pl(r){for(const e of r.Ia)await e(!1)}function MT(r,e){const n=pe(r);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Om(n)?Dm(n):Xa(n).M_()&&Nm(n,e))}function Cm(r,e){const n=pe(r),a=Xa(n);n.Pa.delete(e),a.M_()&&VT(n,e),n.Pa.size===0&&(a.M_()?a.N_():Os(n)&&n.da.set("Unknown"))}function Nm(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xa(r).H_(e)}function VT(r,e){r.Aa.Ke(e),Xa(r).J_(e)}function Dm(r){r.Aa=new tR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Xa(r).start(),r.da._a()}function Om(r){return Os(r)&&!Xa(r).F_()&&r.Pa.size>0}function Os(r){return pe(r).Ta.size===0}function PT(r){r.Aa=void 0}async function l2(r){r.da.set("Online")}async function u2(r){r.Pa.forEach((e,n)=>{Nm(r,e)})}async function c2(r,e){PT(r),Om(r)?(r.da.ca(e),Dm(r)):r.da.set("Unknown")}async function h2(r,e,n){if(r.da.set("Online"),e instanceof TT&&e.state===2&&e.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Pa.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Pa.delete(g),l.Aa.removeTarget(g))}(r,e)}catch(a){te(Is,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await qc(r,a)}else if(e instanceof Sc?r.Aa.Xe(e):e instanceof _T?r.Aa.ot(e):r.Aa.nt(e),!n.isEqual(ge.min()))try{const a=await DT(r.localStore);n.compareTo(a)>=0&&await function(c,d){const g=c.Aa.It(d);return g.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Pa.get(_);A&&c.Pa.set(_,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,_)=>{const A=c.Pa.get(y);if(!A)return;c.Pa.set(y,A.withResumeToken(Vt.EMPTY_BYTE_STRING,A.snapshotVersion)),VT(c,y);const C=new xr(A.target,y,_,A.sequenceNumber);Nm(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(a){te(Is,"Failed to raise snapshot:",a),await qc(r,a)}}async function qc(r,e,n){if(!Ya(e))throw e;r.Ta.add(1),await Pl(r),r.da.set("Offline"),n||(n=()=>DT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{te(Is,"Retrying IndexedDB access"),await n(),r.Ta.delete(1),await sh(r)})}function UT(r,e){return e().catch(n=>qc(r,n,e))}async function ah(r){const e=pe(r),n=Pr(e);let a=e.ha.length>0?e.ha[e.ha.length-1].batchId:gm;for(;f2(e);)try{const l=await KR(e.localStore,a);if(l===null){e.ha.length===0&&n.N_();break}a=l.batchId,d2(e,l)}catch(l){await qc(e,l)}LT(e)&&jT(e)}function f2(r){return Os(r)&&r.ha.length<10}function d2(r,e){r.ha.push(e);const n=Pr(r);n.M_()&&n.Y_&&n.Z_(e.mutations)}function LT(r){return Os(r)&&!Pr(r).F_()&&r.ha.length>0}function jT(r){Pr(r).start()}async function m2(r){Pr(r).ta()}async function g2(r){const e=Pr(r);for(const n of r.ha)e.Z_(n.mutations)}async function p2(r,e,n){const a=r.ha.shift(),l=bm.from(a,e,n);await UT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await ah(r)}async function y2(r,e){e&&Pr(r).Y_&&await async function(a,l){if(function(d){return Wx(d)&&d!==$.ABORTED}(l.code)){const c=a.ha.shift();Pr(a).O_(),await UT(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await ah(a)}}(r,e),LT(r)&&jT(r)}async function Ev(r,e){const n=pe(r);n.asyncQueue.verifyOperationInProgress(),te(Is,"RemoteStore received new credentials");const a=Os(n);n.Ta.add(3),await Pl(n),a&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await sh(n)}async function v2(r,e){const n=pe(r);e?(n.Ta.delete(2),await sh(n)):e||(n.Ta.add(2),await Pl(n),n.da.set("Unknown"))}function Xa(r){return r.Ra||(r.Ra=function(n,a,l){const c=pe(n);return c.ra(),new n2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:l2.bind(null,r),n_:u2.bind(null,r),i_:c2.bind(null,r),j_:h2.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),Om(r)?Dm(r):r.da.set("Unknown")):(await r.Ra.stop(),PT(r))})),r.Ra}function Pr(r){return r.Va||(r.Va=function(n,a,l){const c=pe(n);return c.ra(),new i2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:m2.bind(null,r),i_:y2.bind(null,r),X_:g2.bind(null,r),ea:p2.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await ah(r)):(await r.Va.stop(),r.ha.length>0&&(te(Is,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,a,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,c){const d=Date.now()+a,g=new km(e,n,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(r,e){if(zi("AsyncQueue",`${e}: ${r}`),Ya(r))return new le($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{static emptySet(e){return new Va(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ue.comparator(n.key,a.key):(n,a)=>ue.comparator(n.key,a.key),this.keyedMap=ll(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Va;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.ma=new Je(ue.comparator)}track(e){const n=e.doc.key,a=this.ma.get(n);a?e.type!==0&&a.type===3?this.ma=this.ma.insert(n,e):e.type===3&&a.type!==1?this.ma=this.ma.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ma=this.ma.remove(n):e.type===1&&a.type===2?this.ma=this.ma.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):fe(63341,{Vt:e,fa:a}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,a)=>{e.push(a)}),e}}class qa{constructor(e,n,a,l,c,d,g,y,_){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,a,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new qa(e,n,Va.emptySet(n),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class T2{constructor(){this.queries=Av(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,a){const l=pe(n),c=l.queries;l.queries=Av(),c.forEach((d,g)=>{for(const y of g.ya)y.onError(a)})})(this,new le($.ABORTED,"Firestore shutting down"))}}function Av(){return new Ns(r=>sT(r),Wc)}async function E2(r,e){const n=pe(r);let a=3;const l=e.query;let c=n.queries.get(l);c?!c.wa()&&e.Sa()&&(a=2):(c=new _2,a=e.Sa()?0:1);try{switch(a){case 0:c.pa=await n.onListen(l,!0);break;case 1:c.pa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Mm(d,`Initialization of query '${Ia(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.ya.push(e),e.Da(n.onlineState),c.pa&&e.va(c.pa)&&Vm(n)}async function b2(r,e){const n=pe(r),a=e.query;let l=3;const c=n.queries.get(a);if(c){const d=c.ya.indexOf(e);d>=0&&(c.ya.splice(d,1),c.ya.length===0?l=e.Sa()?0:1:!c.wa()&&e.Sa()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function A2(r,e){const n=pe(r);let a=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.ya)g.va(l)&&(a=!0);d.pa=l}}a&&Vm(n)}function S2(r,e,n){const a=pe(r),l=a.queries.get(e);if(l)for(const c of l.ya)c.onError(n);a.queries.delete(e)}function Vm(r){r.ba.forEach(e=>{e.next()})}var Yd,Sv;(Sv=Yd||(Yd={})).Ca="default",Sv.Cache="cache";class w2{constructor(e,n,a){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=a||{}}va(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new qa(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const a=n!=="Offline";return(!this.options.La||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.key=e}}class BT{constructor(e){this.key=e}}class x2{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ae(),this.mutatedKeys=Ae(),this.Ha=aT(e),this.Ja=new Va(this.Ha)}get Ya(){return this.Ga}Za(e,n){const a=n?n.Xa:new bv,l=n?n.Ja:this.Ja;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((A,C)=>{const I=l.get(A),B=eh(this.query,C)?C:null,Y=!!I&&this.mutatedKeys.has(I.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let X=!1;I&&B?I.data.isEqual(B.data)?Y!==J&&(a.track({type:3,doc:B}),X=!0):this.eu(I,B)||(a.track({type:2,doc:B}),X=!0,(y&&this.Ha(B,y)>0||_&&this.Ha(B,_)<0)&&(g=!0)):!I&&B?(a.track({type:0,doc:B}),X=!0):I&&!B&&(a.track({type:1,doc:I}),X=!0,(y||_)&&(g=!0)),X&&(B?(d=d.add(B),c=J?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{Ja:d,Xa:a,Cs:g,mutatedKeys:c}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const c=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,C)=>function(B,Y){const J=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Vt:X})}};return J(B)-J(Y)}(A.type,C.type)||this.Ha(A.doc,C.doc)),this.tu(a),l=l!=null&&l;const g=n&&!l?this.nu():[],y=this.ja.size===0&&this.current&&!l?1:0,_=y!==this.za;return this.za=y,d.length!==0||_?{snapshot:new qa(this.query,e.Ja,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new bv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ae(),this.Ja.forEach(a=>{this.iu(a.key)&&(this.ja=this.ja.add(a.key))});const n=[];return e.forEach(a=>{this.ja.has(a)||n.push(new BT(a))}),this.ja.forEach(a=>{e.has(a)||n.push(new zT(a))}),n}su(e){this.Ga=e.$s,this.ja=Ae();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return qa.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Pm="SyncEngine";class R2{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class I2{constructor(e){this.key=e,this._u=!1}}class C2{constructor(e,n,a,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new Ns(g=>sT(g),Wc),this.cu=new Map,this.lu=new Set,this.hu=new Je(ue.comparator),this.Pu=new Map,this.Tu=new wm,this.Iu={},this.Eu=new Map,this.du=Ba.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function N2(r,e,n=!0){const a=KT(r);let l;const c=a.uu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.ou()):l=await qT(a,e,n,!0),l}async function D2(r,e){const n=KT(r);await qT(n,e,!0,!1)}async function qT(r,e,n,a){const l=await YR(r.localStore,ti(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return a&&(g=await O2(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&MT(r.remoteStore,l),g}async function O2(r,e,n,a,l){r.Ru=(C,I,B)=>async function(J,X,se,ee){let ie=X.view.Za(se);ie.Cs&&(ie=await pv(J.localStore,X.query,!1).then(({documents:O})=>X.view.Za(O,ie)));const Se=ee&&ee.targetChanges.get(X.targetId),Ke=ee&&ee.targetMismatches.get(X.targetId)!=null,Ce=X.view.applyChanges(ie,J.isPrimaryClient,Se,Ke);return xv(J,X.targetId,Ce.ru),Ce.snapshot}(r,C,I,B);const c=await pv(r.localStore,e,!0),d=new x2(e,c.$s),g=d.Za(c.documents),y=Vl.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);xv(r,n,_.ru);const A=new R2(e,n,d);return r.uu.set(e,A),r.cu.has(n)?r.cu.get(n).push(e):r.cu.set(n,[e]),_.snapshot}async function k2(r,e,n){const a=pe(r),l=a.uu.get(e),c=a.cu.get(l.targetId);if(c.length>1)return a.cu.set(l.targetId,c.filter(d=>!Wc(d,e))),void a.uu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Qd(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Cm(a.remoteStore,l.targetId),Xd(a,l.targetId)}).catch(Ka)):(Xd(a,l.targetId),await Qd(a.localStore,l.targetId,!0))}async function M2(r,e){const n=pe(r),a=n.uu.get(e),l=n.cu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Cm(n.remoteStore,a.targetId))}async function V2(r,e,n){const a=q2(r);try{const l=await function(d,g){const y=pe(d),_=_t.now(),A=g.reduce((B,Y)=>B.add(Y.key),Ae());let C,I;return y.persistence.runTransaction("Locally write mutations","readwrite",B=>{let Y=Bi(),J=Ae();return y.Bs.getEntries(B,A).next(X=>{Y=X,Y.forEach((se,ee)=>{ee.isValidDocument()||(J=J.add(se))})}).next(()=>y.localDocuments.getOverlayedDocuments(B,Y)).next(X=>{C=X;const se=[];for(const ee of g){const ie=Yx(ee,C.get(ee.key).overlayedDocument);ie!=null&&se.push(new Ds(ee.key,ie,J_(ie.value.mapValue),Vi.exists(!0)))}return y.mutationQueue.addMutationBatch(B,_,se,g)}).next(X=>{I=X;const se=X.applyToLocalDocumentSet(C,J);return y.documentOverlayCache.saveOverlays(B,X.batchId,se)})}).then(()=>({batchId:I.batchId,changes:lT(C)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(d,g,y){let _=d.Iu[d.currentUser.toKey()];_||(_=new Je(ve)),_=_.insert(g,y),d.Iu[d.currentUser.toKey()]=_}(a,l.batchId,n),await Ul(a,l.changes),await ah(a.remoteStore)}catch(l){const c=Mm(l,"Failed to persist write");n.reject(c)}}async function HT(r,e){const n=pe(r);try{const a=await GR(n.localStore,e);e.targetChanges.forEach((l,c)=>{const d=n.Pu.get(c);d&&(Me(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d._u=!0:l.modifiedDocuments.size>0?Me(d._u,14607):l.removedDocuments.size>0&&(Me(d._u,42227),d._u=!1))}),await Ul(n,a,e)}catch(a){await Ka(a)}}function wv(r,e,n){const a=pe(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.uu.forEach((c,d)=>{const g=d.view.Da(e);g.snapshot&&l.push(g.snapshot)}),function(d,g){const y=pe(d);y.onlineState=g;let _=!1;y.queries.forEach((A,C)=>{for(const I of C.ya)I.Da(g)&&(_=!0)}),_&&Vm(y)}(a.eventManager,e),l.length&&a.au.j_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function P2(r,e,n){const a=pe(r);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Pu.get(e),c=l&&l.key;if(c){let d=new Je(ue.comparator);d=d.insert(c,Bt.newNoDocument(c,ge.min()));const g=Ae().add(c),y=new ih(ge.min(),new Map,new Je(ve),d,g);await HT(a,y),a.hu=a.hu.remove(c),a.Pu.delete(e),Um(a)}else await Qd(a.localStore,e,!1).then(()=>Xd(a,e,n)).catch(Ka)}async function U2(r,e){const n=pe(r),a=e.batch.batchId;try{const l=await FR(n.localStore,e);GT(n,a,null),FT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Ul(n,l)}catch(l){await Ka(l)}}async function L2(r,e,n){const a=pe(r);try{const l=await function(d,g){const y=pe(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next(C=>(Me(C!==null,37113),A=C.keys(),y.mutationQueue.removeMutationBatch(_,C))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>y.localDocuments.getDocuments(_,A))})}(a.localStore,e);GT(a,e,n),FT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Ul(a,l)}catch(l){await Ka(l)}}function FT(r,e){(r.Eu.get(e)||[]).forEach(n=>{n.resolve()}),r.Eu.delete(e)}function GT(r,e,n){const a=pe(r);let l=a.Iu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),a.Iu[a.currentUser.toKey()]=l}}function Xd(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.cu.get(e))r.uu.delete(a),n&&r.au.Vu(a,n);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(a=>{r.Tu.containsKey(a)||QT(r,a)})}function QT(r,e){r.lu.delete(e.path.canonicalString());const n=r.hu.get(e);n!==null&&(Cm(r.remoteStore,n),r.hu=r.hu.remove(e),r.Pu.delete(n),Um(r))}function xv(r,e,n){for(const a of n)a instanceof zT?(r.Tu.addReference(a.key,e),j2(r,a)):a instanceof BT?(te(Pm,"Document no longer in limbo: "+a.key),r.Tu.removeReference(a.key,e),r.Tu.containsKey(a.key)||QT(r,a.key)):fe(19791,{mu:a})}function j2(r,e){const n=e.key,a=n.path.canonicalString();r.hu.get(n)||r.lu.has(a)||(te(Pm,"New document in limbo: "+n),r.lu.add(a),Um(r))}function Um(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const n=new ue(nt.fromString(e)),a=r.du.next();r.Pu.set(a,new I2(n)),r.hu=r.hu.insert(n,a),MT(r.remoteStore,new xr(ti(Tm(n.path)),a,"TargetPurposeLimboResolution",Xc.le))}}async function Ul(r,e,n){const a=pe(r),l=[],c=[],d=[];a.uu.isEmpty()||(a.uu.forEach((g,y)=>{d.push(a.Ru(y,e,n).then(_=>{var A;if((_||n)&&a.isPrimaryClient){const C=_?!_.fromCache:(A=n?.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(y.targetId,C?"current":"not-current")}if(_){l.push(_);const C=Rm.Rs(y.targetId,_);c.push(C)}}))}),await Promise.all(d),a.au.j_(l),await async function(y,_){const A=pe(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>K.forEach(_,I=>K.forEach(I.ds,B=>A.persistence.referenceDelegate.addReference(C,I.targetId,B)).next(()=>K.forEach(I.As,B=>A.persistence.referenceDelegate.removeReference(C,I.targetId,B)))))}catch(C){if(!Ya(C))throw C;te(Im,"Failed to update sequence numbers: "+C)}for(const C of _){const I=C.targetId;if(!C.fromCache){const B=A.xs.get(I),Y=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion(Y);A.xs=A.xs.insert(I,J)}}}(a.localStore,c))}async function z2(r,e){const n=pe(r);if(!n.currentUser.isEqual(e)){te(Pm,"User change. New user:",e.toKey());const a=await NT(n.localStore,e);n.currentUser=e,function(c,d){c.Eu.forEach(g=>{g.forEach(y=>{y.reject(new le($.CANCELLED,d))})}),c.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Ul(n,a.ks)}}function B2(r,e){const n=pe(r),a=n.Pu.get(e);if(a&&a._u)return Ae().add(a.key);{let l=Ae();const c=n.cu.get(e);if(!c)return l;for(const d of c){const g=n.uu.get(d);l=l.unionWith(g.view.Ya)}return l}}function KT(r){const e=pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=HT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P2.bind(null,e),e.au.j_=A2.bind(null,e.eventManager),e.au.Vu=S2.bind(null,e.eventManager),e}function q2(r){const e=pe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L2.bind(null,e),e}class Hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return HR(this.persistence,new zR,e.initialUser,this.serializer)}yu(e){return new CT(xm.fi,this.serializer)}pu(e){return new $R}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hc.provider={build:()=>new Hc};class H2 extends Hc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Me(this.persistence.referenceDelegate instanceof Bc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new wR(a,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new CT(a=>Bc.fi(a,n),this.serializer)}}class $d{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>wv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=z2.bind(null,this.syncEngine),await v2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T2}()}createDatastore(e){const n=rh(e.databaseInfo.databaseId),a=function(c){return new t2(c)}(e.databaseInfo);return function(c,d,g,y){return new s2(c,d,g,y)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,l,c,d,g){return new o2(a,l,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,n=>wv(this.syncEngine,n,0),function(){return _v.C()?new _v:new ZR}())}createSyncEngine(e,n){return function(l,c,d,g,y,_,A){const C=new C2(l,c,d,g,y,_);return A&&(C.Au=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const c=pe(l);te(Is,"RemoteStore shutting down."),c.Ta.add(5),await Pl(c),c.Ea.shutdown(),c.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$d.provider={build:()=>new $d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="FirestoreClient";class G2{constructor(e,n,a,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=zt.UNAUTHENTICATED,this.clientId=q_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{te(Ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(te(Ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Mm(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Ad(r,e){r.asyncQueue.verifyOperationInProgress(),te(Ur,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async l=>{a.isEqual(l)||(await NT(e.localStore,l),a=l)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Rv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Q2(r);te(Ur,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>Ev(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>Ev(e.remoteStore,l)),r._onlineComponents=e}async function Q2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){te(Ur,"Using user provided OfflineComponentProvider");try{await Ad(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ua("Error using user provided cache. Falling back to memory cache: "+n),await Ad(r,new Hc)}}else te(Ur,"Using default OfflineComponentProvider"),await Ad(r,new H2(void 0));return r._offlineComponents}async function YT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(te(Ur,"Using user provided OnlineComponentProvider"),await Rv(r,r._uninitializedComponentsProvider._online)):(te(Ur,"Using default OnlineComponentProvider"),await Rv(r,new $d))),r._onlineComponents}function K2(r){return YT(r).then(e=>e.syncEngine)}async function Y2(r){const e=await YT(r),n=e.eventManager;return n.onListen=N2.bind(null,e.syncEngine),n.onUnlisten=k2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M2.bind(null,e.syncEngine),n}function X2(r,e,n={}){const a=new Dr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,y,_){const A=new F2({next:I=>{A.Cu(),d.enqueueAndForget(()=>b2(c,C));const B=I.docs.has(g);!B&&I.fromCache?_.reject(new le($.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&I.fromCache&&y&&y.source==="server"?_.reject(new le($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),C=new w2(Tm(g.path),A,{includeMetadataChanges:!0,La:!0});return E2(c,C)}(await Y2(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(r,e,n){if(!n)throw new le($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Z2(r,e,n,a){if(e===!0&&a===!0)throw new le($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Cv(r){if(!ue.isDocumentKey(r))throw new le($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Lm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":fe(12329,{type:typeof r})}function Sl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lm(r);throw new le($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firestore.googleapis.com",Nv=!0;class Dv{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new le($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$T,this.ssl=Nv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Nv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AR)throw new le($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jm{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new Ww;switch(a.type){case"firstParty":return new ix(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=Iv.get(n);a&&(te("ComponentProvider","Removing Datastore"),Iv.delete(n),a.terminate())}(this),Promise.resolve()}}function J2(r,e,n,a={}){var l;r=Sl(r,jm);const c=xl(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),y=`${e}:${n}`;c&&(Yv(`https://${y}`),Xv("Firestore",!0)),d.host!==$T&&d.host!==y&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:y,ssl:c,emulatorOptions:a});if(!Ss(_,g)&&(r._setSettings(_),a.mockUserToken)){let A,C;if(typeof a.mockUserToken=="string")A=a.mockUserToken,C=zt.MOCK_USER;else{A=A1(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new le($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new zt(I)}r._authCredentials=new ex(new z_(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new zm(this.firestore,e,this._query)}}class wn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class wl extends zm{constructor(e,n,a){super(e,n,Tm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ue(e))}withConverter(e){return new wl(this.firestore,e,this._path)}}function Ov(r,e,...n){if(r=Mn(r),arguments.length===1&&(e=q_.newId()),$2("doc","path",e),r instanceof jm){const a=nt.fromString(e,...n);return Cv(a),new wn(r,null,new ue(a))}{if(!(r instanceof wn||r instanceof wl))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(nt.fromString(e,...n));return Cv(a),new wn(r.firestore,r instanceof wl?r.converter:null,new ue(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="AsyncQueue";class Mv{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new OT(this,"async_queue_retry"),this.ec=()=>{const a=bd();a&&te(kv,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=e;const n=bd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Dr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ya(e))throw e;te(kv,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(a=>{throw this.Ju=a,this.Yu=!1,zi("INTERNAL UNHANDLED ERROR: ",Vv(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=n,n}enqueueAfterDelay(e,n,a){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const l=km.createAndSchedule(this,e,n,a,c=>this.oc(c));return this.Hu.push(l),l}nc(){this.Ju&&fe(47125,{_c:Vv(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function Vv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Bm extends jm{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new Mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mv(e),this._firestoreClient=void 0,await e}}}function W2(r,e){const n=typeof r=="object"?r:Wv(),a=typeof r=="string"?r:Mc,l=rm(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=E1("firestore");c&&J2(l,...c)}return l}function ZT(r){if(r._terminated)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eI(r),r._firestoreClient}function eI(r){var e,n,a;const l=r._freezeSettings(),c=function(g,y,_,A){return new vx(g,y,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,XT(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new G2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const y=g?._online.build();return{_offline:g?._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ha(Vt.fromBase64String(e))}catch(n){throw new le($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ha(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=/^__.*__$/;class nI{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ml(e,this.data,n,this.fieldTransforms)}}function WT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{hc:r})}}class Gm{constructor(e,n,a,l,c,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Pc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Gm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.Tc({path:a,Ec:!1});return l.dc(e),l}Ac(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.Tc({path:a,Ec:!1});return l.Pc(),l}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Fc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(WT(this.hc)&&tI.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class iI{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||rh(e)}gc(e,n,a,l=!1){return new Gm({hc:e,methodName:n,fc:a,path:Mt.emptyPath(),Ec:!1,mc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rI(r){const e=r._freezeSettings(),n=rh(r._databaseId);return new iI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function sI(r,e,n,a,l,c={}){const d=r.gc(c.merge||c.mergeFields?2:0,e,n,l);iE("Data must be an object, but it was:",d,a);const g=tE(a,d);let y,_;if(c.merge)y=new kn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const C of c.mergeFields){const I=aI(e,C,n);if(!d.contains(I))throw new le($.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);lI(A,I)||A.push(I)}y=new kn(A),_=d.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,_=d.fieldTransforms;return new nI(new Sn(g),y,_)}function eE(r,e){if(nE(r=Mn(r)))return iE("Unsupported field value:",e,r),tE(r,e);if(r instanceof JT)return function(a,l){if(!WT(l.hc))throw l.Vc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Vc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(a,l){const c=[];let d=0;for(const g of a){let y=eE(g,l.Rc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(r,e)}return function(a,l){if((a=Mn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return qx(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=_t.fromDate(a);return{timestampValue:zc(l.serializer,c)}}if(a instanceof _t){const c=new _t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:zc(l.serializer,c)}}if(a instanceof Hm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ha)return{bytesValue:ET(l.serializer,a._byteString)};if(a instanceof wn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Sm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Fm)return function(d,g){return{mapValue:{fields:{[$_]:{stringValue:Z_},[Vc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Vc("VectorValues must only contain numeric values.");return Em(g.serializer,_)})}}}}}}(a,l);throw l.Vc(`Unsupported field value: ${Lm(a)}`)}(r,e)}function tE(r,e){const n={};return F_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(r,(a,l)=>{const c=eE(l,e.Ic(a));c!=null&&(n[a]=c)}),{mapValue:{fields:n}}}function nE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _t||r instanceof Hm||r instanceof Ha||r instanceof wn||r instanceof JT||r instanceof Fm)}function iE(r,e,n){if(!nE(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const a=Lm(n);throw a==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+a)}}function aI(r,e,n){if((e=Mn(e))instanceof qm)return e._internalPath;if(typeof e=="string")return rE(r,e);throw Fc("Field path arguments must be of type string or ",r,!1,void 0,n)}const oI=new RegExp("[~\\*/\\[\\]]");function rE(r,e,n){if(e.search(oI)>=0)throw Fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new qm(...e.split("."))._internalPath}catch{throw Fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Fc(r,e,n,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new le($.INVALID_ARGUMENT,g+r+y)}function lI(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n,a,l,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uI extends sE{data(){return super.data()}}function aE(r,e){return typeof e=="string"?rE(r,e):e instanceof qm?e._internalPath:e._delegate._internalPath}class cI{convertValue(e,n="none"){switch(Vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Cs(e,(l,c)=>{a[l]=this.convertValue(c,n)}),a}convertVectorValue(e){var n,a,l;const c=(l=(a=(n=e.fields)===null||n===void 0?void 0:n[Vc].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(d=>at(d.doubleValue));return new Fm(c)}convertGeoPoint(e){return new Hm(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Zc(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const n=kr(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=nt.fromString(e);Me(RT(a),9688,{name:e});const l=new Tl(a.get(1),a.get(3)),c=new ue(a.popFirst(5));return l.isEqual(n)||zi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oE extends sE{constructor(e,n,a,l,c,d){super(e,n,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(aE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class dI extends oE{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(r){r=Sl(r,wn);const e=Sl(r.firestore,Bm);return X2(ZT(e),r._key).then(n=>vI(e,r,n))}class gI extends cI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ha(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function pI(r,e,n){r=Sl(r,wn);const a=Sl(r.firestore,Bm),l=hI(r.converter,e,n);return yI(a,[sI(rI(a),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Vi.none())])}function yI(r,e){return function(a,l){const c=new Dr;return a.asyncQueue.enqueueAndForget(async()=>V2(await K2(a),l,c)),c.promise}(ZT(r),e)}function vI(r,e,n){const a=n.docs.get(e._key),l=new gI(r);return new oE(r,l,e._key,a,new fI(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Qa=l})(Fa),Pa(new ws("firestore",(a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Bm(new tx(a.getProvider("auth-internal")),new rx(d,a.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new le($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(_.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Cr(z0,B0,e),Cr(z0,B0,"esm2017")})();var Zd=new Map,gc=new WeakMap,Pv=0,_I=void 0;function TI(r){return r?(gc.has(r)||(Pv+=1,gc.set(r,Pv.toString())),gc.get(r)):"0"}function EI(r){return Object.keys(r).sort().filter(e=>r[e]!==void 0).map(e=>`${e}_${e==="root"?TI(r.root):r[e]}`).toString()}function bI(r){const e=EI(r);let n=Zd.get(e);if(!n){const a=new Map;let l;const c=new IntersectionObserver(d=>{d.forEach(g=>{var y;const _=g.isIntersecting&&l.some(A=>g.intersectionRatio>=A);r.trackVisibility&&typeof g.isVisible>"u"&&(g.isVisible=_),(y=a.get(g.target))==null||y.forEach(A=>{A(_,g)})})},r);l=c.thresholds||(Array.isArray(r.threshold)?r.threshold:[r.threshold||0]),n={id:e,observer:c,elements:a},Zd.set(e,n)}return n}function AI(r,e,n={},a=_I){if(typeof window.IntersectionObserver>"u"&&a!==void 0){const y=r.getBoundingClientRect();return e(a,{isIntersecting:a,target:r,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:y,intersectionRect:y,rootBounds:y}),()=>{}}const{id:l,observer:c,elements:d}=bI(n),g=d.get(r)||[];return d.has(r)||d.set(r,g),g.push(e),c.observe(r),function(){g.splice(g.indexOf(e),1),g.length===0&&(d.delete(r),c.unobserve(r)),d.size===0&&(c.disconnect(),Zd.delete(l))}}function SI({threshold:r,delay:e,trackVisibility:n,rootMargin:a,root:l,triggerOnce:c,skip:d,initialInView:g,fallbackInView:y,onChange:_}={}){var A;const[C,I]=Qe.useState(null),B=Qe.useRef(_),[Y,J]=Qe.useState({inView:!!g,entry:void 0});B.current=_,Qe.useEffect(()=>{if(d||!C)return;let ie;return ie=AI(C,(Se,Ke)=>{J({inView:Se,entry:Ke}),B.current&&B.current(Se,Ke),Ke.isIntersecting&&c&&ie&&(ie(),ie=void 0)},{root:l,rootMargin:a,threshold:r,trackVisibility:n,delay:e},y),()=>{ie&&ie()}},[Array.isArray(r)?r.toString():r,C,l,a,c,d,n,y,e]);const X=(A=Y.entry)==null?void 0:A.target,se=Qe.useRef(void 0);!C&&X&&!c&&!d&&se.current!==X&&(se.current=X,J({inView:!!g,entry:void 0}));const ee=[I,Y.inView,Y.entry];return ee.ref=ee[0],ee.inView=ee[1],ee.entry=ee[2],ee}const wI={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},Xt=({children:r,className:e="",id:n,variants:a=wI,delay:l=0,threshold:c=.1,reduceMotion:d=!1,ariaLabel:g})=>{const y=Mb(),[_,A]=SI({triggerOnce:!0,threshold:c}),C=typeof window<"u"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;return Qe.useEffect(()=>{A&&(C||d?y.start({opacity:1,x:0,y:0}):y.start("visible"))},[y,A,C,d]),b.jsx($e.div,{ref:_,id:n,className:e,initial:C||d?{opacity:1,x:0,y:0}:"hidden",animate:y,variants:a,transition:{duration:C||d?0:.6,delay:C||d?0:l},"aria-label":g,role:g?"region":void 0,children:r})},lE="/assets/captainbroccoli-B9xlqfjA.png",uE="/assets/captainbroccoli-C2aKNn83.webp",Gc=({src:r,webpSrc:e,alt:n,className:a="",loading:l="lazy",onClick:c,onError:d,sizes:g="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:y=!1,..._})=>{const[A,C]=Qe.useState(!1),[I,B]=Qe.useState(!1),Y=ee=>{if(e)return e;const ie=ee.lastIndexOf(".");return ie!==-1?ee.substring(0,ie)+".webp":ee},J=()=>{C(!0),d&&d()},X=()=>{B(!0)},se=y?"eager":l;return b.jsxs("div",{className:"relative",children:[!I&&b.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-slate-700 dark:via-slate-600 dark:to-slate-700 animate-pulse rounded ${a}`,"aria-hidden":"true"}),b.jsxs("picture",{children:[b.jsx("source",{srcSet:Y(r),type:"image/webp",sizes:g}),b.jsx("img",{src:r,alt:n,className:`${a} ${I?"opacity-100":"opacity-0"} transition-opacity duration-300`,loading:se,onClick:c,onError:J,onLoad:X,sizes:g,..._})]}),A&&b.jsx("div",{className:`absolute inset-0 bg-gray-100 dark:bg-slate-800 flex items-center justify-center ${a}`,role:"img","aria-label":`Failed to load image: ${n}`,children:b.jsx("span",{className:"text-gray-400 dark:text-slate-500 text-sm text-center px-2",children:"Image unavailable"})})]})},xI=({setActiveSection:r,toggleDarkMode:e,isDarkMode:n})=>{const[a,l]=Qe.useState(!1),c=[{id:"home",label:"Home"},{id:"about",label:"About"},{id:"skills",label:"Skills"},{id:"teaching",label:"Teaching"},{id:"scientist",label:"Career & Education"},{id:"publications",label:"Publications"},{id:"blender",label:"Blender Art"},{id:"cli",label:"CLI Tools"},{id:"contact",label:"Contact"}],d={rotate:[0,-1.5,1.5,-1.5,1.5,0],scale:1.03,transition:{duration:.35,ease:"easeInOut"}},g={scale:[1,1.02,1,1.02,1],color:n?["#e2e8f0","#6ee7b7","#e2e8f0"]:["#FFFFFF","#A7F3D0","#FFFFFF"],transition:{duration:.5,ease:"easeInOut"}};return b.jsxs("nav",{className:"bg-emerald-600 dark:bg-slate-800 text-white sticky top-0 z-50 shadow-lg dark:shadow-black/30","aria-label":"Main navigation",children:[b.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex items-center justify-between h-16",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx($e.div,{whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},className:"mr-3",children:b.jsx(Gc,{src:lE,webpSrc:uE,alt:"Filipe L. Q. Junqueira - Profile Picture",className:"w-10 h-10 rounded-full object-cover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-300 dark:focus:ring-emerald-500 focus:ring-offset-emerald-600 dark:focus:ring-offset-slate-800",priority:!0,sizes:"40px"})}),b.jsx($e.a,{href:"#home",onClick:()=>r("home"),className:"flex-shrink-0 text-xl md:text-2xl font-medium focus:outline-none focus:ring-2 focus:ring-emerald-300 dark:focus:ring-emerald-500 rounded-sm",whileHover:g,children:"Filipe L. Q. Junqueira"})]}),b.jsxs("div",{className:"hidden md:flex items-center",children:[b.jsx("div",{className:"ml-10 flex items-baseline space-x-1",children:c.map(y=>b.jsx($e.a,{href:`#${y.id}`,onClick:()=>{r(y.id),l(!1)},className:"hover:bg-emerald-700/50 dark:hover:bg-slate-700 px-3 py-2 rounded-md text-sm font-medium tracking-wide focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-300 dark:focus:ring-emerald-500 focus:ring-offset-emerald-600 dark:focus:ring-offset-slate-800",whileHover:d,children:y.label},y.id))}),b.jsx($e.button,{onClick:e,className:"ml-6 p-2 rounded-full hover:bg-emerald-700/50 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white dark:focus:ring-slate-300 focus:ring-offset-emerald-600 dark:focus:ring-offset-slate-800 transition-colors duration-200","aria-label":n?"Switch to light mode":"Switch to dark mode",whileHover:{scale:1.15,rotate:n?-15:15},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:15},children:n?b.jsx(n0,{size:20,className:"text-yellow-400","aria-hidden":"true"}):b.jsx(i0,{size:20,className:"text-slate-300","aria-hidden":"true"})})]}),b.jsxs("div",{className:"-mr-2 flex md:hidden items-center",children:[b.jsx($e.button,{onClick:e,className:"p-2 rounded-full text-emerald-100 dark:text-slate-300 hover:text-white dark:hover:text-white hover:bg-emerald-700/50 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white dark:focus:ring-slate-300 focus:ring-offset-emerald-600 dark:focus:ring-offset-slate-800 mr-2","aria-label":n?"Switch to light mode":"Switch to dark mode",whileHover:{scale:1.15,rotate:n?-15:15},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:15},children:n?b.jsx(n0,{size:22,className:"text-yellow-400","aria-hidden":"true"}):b.jsx(i0,{size:22,"aria-hidden":"true"})}),b.jsxs("button",{onClick:()=>l(!a),type:"button",className:"bg-emerald-700 dark:bg-slate-700/50 inline-flex items-center justify-center p-2 rounded-md text-emerald-100 hover:text-white hover:bg-emerald-600 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-emerald-700 dark:focus:ring-offset-slate-800 focus:ring-white","aria-controls":"mobile-menu","aria-expanded":a,children:[b.jsx("span",{className:"sr-only",children:"Open main menu"}),a?b.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):b.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})]})]})}),a&&b.jsx("div",{className:"md:hidden",id:"mobile-menu",children:b.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:c.map(y=>b.jsx($e.a,{href:`#${y.id}`,onClick:()=>{r(y.id),l(!1)},className:"hover:bg-emerald-700/50 dark:hover:bg-slate-700 block px-3 py-2 rounded-md text-base font-medium tracking-wide focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-300 dark:focus:ring-emerald-500 focus:ring-offset-emerald-600 dark:focus:ring-offset-slate-800",whileHover:d,children:y.label},y.id))})})]})},RI="/assets/filipecv-BGijzAEg.pdf",II=()=>b.jsx("header",{id:"home",className:"bg-gradient-to-br from-emerald-500 to-teal-600 dark:from-slate-800 dark:to-slate-900 text-white py-24 md:py-32","aria-labelledby":"main-heading",children:b.jsxs("div",{className:"container mx-auto text-center px-6 flex flex-col items-center",children:[b.jsx($e.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2,type:"spring",stiffness:120},className:"mb-8",children:b.jsx(Gc,{src:lE,webpSrc:uE,alt:"Filipe L. Q. Junqueira - Main Profile Picture",className:"w-36 h-36 md:w-44 md:h-44 rounded-full object-cover shadow-2xl border-4 border-white/80 dark:border-slate-400/50",priority:!0,sizes:"(max-width: 768px) 144px, 176px"})}),b.jsx($e.h1,{id:"main-heading",className:"text-4xl sm:text-5xl md:text-6xl font-light mb-6 dark:text-slate-100",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:"Filipe L. Q. Junqueira"}),b.jsx($e.p,{className:"text-lg sm:text-xl md:text-2xl font-normal mb-4 text-emerald-100 dark:text-slate-300 opacity-95",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:"Research Associate, School of Physics and Astronomy, University of Nottingham"}),b.jsx($e.p,{className:"text-base sm:text-lg md:text-xl mb-10 text-emerald-200 dark:text-slate-400 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:"Density Functional Theory, 3D printing with atoms, NC-AFM & STM, and Machine Learning in nanoscience."}),b.jsx($e.a,{href:RI,target:"_blank",rel:"noopener noreferrer",className:"bg-white text-emerald-600 dark:bg-emerald-500 dark:text-white font-medium py-3 px-8 rounded-md text-base uppercase tracking-wider hover:bg-emerald-50 dark:hover:bg-emerald-600 transition-colors duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 dark:focus:ring-emerald-300 focus:ring-offset-white dark:focus:ring-offset-emerald-500",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},whileHover:{scale:1.05,rotate:[0,-1,1,-1,1,0],boxShadow:"0px 4px 20px rgba(0,0,0,0.1)",transition:{rotate:{duration:.3,ease:"easeInOut"}}},children:"View Full CV"})]})}),Lr=({title:r,icon:e,children:n,id:a,titleClassName:l="text-3xl sm:text-4xl"})=>b.jsx("section",{id:a,className:"py-16 md:py-20 bg-white dark:bg-slate-800/80 rounded-xl shadow-xl dark:shadow-black/30 mb-12 md:mb-16 px-6 md:px-10","aria-labelledby":`${a}-title`,children:b.jsxs("div",{className:"container mx-auto",children:[" ",b.jsxs("h2",{id:`${a}-title`,className:`${l} font-medium text-emerald-700 dark:text-emerald-400 mb-10 md:mb-14 text-center flex items-center justify-center`,children:[e&&b.jsx(e,{className:"w-8 h-8 sm:w-10 sm:h-10 mr-3 text-emerald-500 dark:text-emerald-400",strokeWidth:2,"aria-hidden":"true"}),r]}),n]})}),CI=()=>{const r=["Driven by an insatiable curiosity for the quantum realm and a passion for computational problem-solving, I thrive at the intersection of nanoscience, data science, and creative technology.","My journey has taken me from fundamental physics research and complex simulations to crafting intuitive command-line tools and exploring the artistic potential of 3D visualization.","I'm dedicated to leveraging cutting-edge techniques, including machine learning and advanced microscopy, to push the boundaries of what's possible at the atomic scale and to communicate these complex ideas effectively.","I'm always eager to connect with fellow innovators and explore opportunities where my diverse skill set can contribute to impactful projects and new discoveries."];return b.jsx(Lr,{title:"About Me",icon:qb,id:"about",titleClassName:"text-3xl sm:text-4xl md:text-5xl",children:b.jsx("div",{className:"max-w-3xl mx-auto space-y-5",children:r.map((e,n)=>b.jsx($e.p,{className:"text-base md:text-lg text-gray-700 dark:text-slate-300 leading-relaxed text-center md:text-left",initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+n*.1},children:e},n))})})},Sd=({name:r,icon:e,proficiency:n})=>b.jsxs($e.li,{className:"bg-emerald-50 dark:bg-slate-700/50 p-3 rounded-lg shadow-sm flex items-center space-x-3 hover:shadow-md transition-shadow",whileHover:{y:-3},children:[e&&b.jsx(e,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400 flex-shrink-0",strokeWidth:2,"aria-hidden":"true"}),b.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-slate-200",children:r}),n&&b.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400 ml-auto",children:["(",n,")"]})]}),NI=()=>{const r={computerSkills:[{name:"C",icon:Tr},{name:"Python",icon:Tr},{name:"Fortran",icon:Tr},{name:"Lua",icon:Tr},{name:"Bash/Shell Scripting",icon:Lv},{name:"JavaScript (React, Node.js)",icon:Tr},{name:"C++(Basic)",icon:Tr},{name:"Tailwind CSS",icon:Tr},{name:"Git & GitHub",icon:Jd},{name:"SQL",icon:lc},{name:"Docker (Basic)",icon:lc},{name:"Linux",icon:lc}],scientificTools:[{name:"DFT (VASP, CP2K, Tetr, Lev00)",icon:ld},{name:"SPM (AFM/STM) Analysis",icon:wd},{name:"Pymatgen",icon:jv},{name:"ASE (Atomic Simulation Environment)",icon:ld},{name:"Machine Learning (Scikit-learn, TensorFlow/Keras Basics, PyTorch Basics)",icon:xd},{name:"Data Visualization (Matplotlib, Seaborn, Plotly etc)",icon:wd},{name:"Blender (3D Modeling & Visualization)",icon:Wd}],languages:[{name:"English",proficiency:"Fluent"},{name:"Portuguese",proficiency:"Native"},{name:"Spanish",proficiency:"Conversational"},{name:"French",proficiency:"Beginner"},{name:"Italian",proficiency:"Beginner"}]};return b.jsx(Lr,{title:"Core Competencies & Skills",icon:Hb,id:"skills",children:b.jsxs("div",{className:"grid md:grid-cols-3 gap-10",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-semibold text-emerald-700 dark:text-emerald-300 mb-4 flex items-center",children:[b.jsx(lc,{className:"w-6 h-6 mr-2 text-emerald-500 dark:text-emerald-400","aria-hidden":"true"}),"Computer Skills"]}),b.jsx("ul",{className:"space-y-3",children:r.computerSkills.map((e,n)=>b.jsx(Xt,{delay:n*.05,threshold:.1,children:b.jsx(Sd,{name:e.name,icon:e.icon})},n))})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-semibold text-emerald-700 dark:text-emerald-300 mb-4 flex items-center",children:[b.jsx(ld,{className:"w-6 h-6 mr-2 text-emerald-500 dark:text-emerald-400","aria-hidden":"true"}),"Scientific Software & Tools"]}),b.jsx("ul",{className:"space-y-3",children:r.scientificTools.map((e,n)=>b.jsx(Xt,{delay:n*.05,threshold:.1,children:b.jsx(Sd,{name:e.name,icon:e.icon})},n))})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-semibold text-emerald-700 dark:text-emerald-300 mb-4 flex items-center",children:[b.jsx(Fb,{className:"w-6 h-6 mr-2 text-emerald-500 dark:text-emerald-400","aria-hidden":"true"}),"Languages"]}),b.jsx("ul",{className:"space-y-3",children:r.languages.map((e,n)=>b.jsx(Xt,{delay:n*.05,threshold:.1,children:b.jsx(Sd,{name:e.name,proficiency:e.proficiency,icon:Gb})},n))})]})]})})},DI=()=>{const r=["Extensive experience tutoring students for Mathematics Olympiads (including IMO), focusing on advanced problem-solving techniques in Number Theory, Combinatorics, Algebra, and Geometry.","Provided tailored coaching for IB (International Baccalaureate) Mathematics (HL/SL) and Physics (HL/SL), helping students achieve top grades and develop a deep understanding of core concepts.","Developed custom learning materials and practice sets to address individual student needs and learning styles.","Passionate about fostering critical thinking and a love for mathematics and physics in young minds."];return b.jsx(Lr,{title:"Teaching & Tutoring",icon:Qb,id:"teaching",children:b.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[b.jsx($e.p,{className:"text-center text-base md:text-lg text-gray-700 dark:text-slate-300 leading-relaxed",initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:"Beyond my research and creative projects, I am deeply committed to education and mentorship. I have a rewarding side-venture in tutoring, primarily focused on preparing students for high-level mathematics competitions and rigorous academic programs."}),b.jsx("ul",{className:"space-y-3 list-disc list-inside text-gray-700 dark:text-slate-300 text-base md:text-lg",children:r.map((e,n)=>b.jsx($e.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2+n*.1},className:"ml-4",children:e},n))}),b.jsx($e.div,{className:"text-center mt-8",initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3+r.length*.1},children:b.jsxs("a",{href:"http://filipej.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-emerald-500 dark:bg-emerald-600 text-white font-medium py-2.5 px-6 rounded-md hover:bg-emerald-600 dark:hover:bg-emerald-700 transition-colors duration-300 shadow-sm hover:shadow-md text-sm uppercase tracking-wider focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-400 dark:focus:ring-emerald-500 focus:ring-offset-white dark:focus:ring-offset-slate-800",children:["Visit My Tutoring Site ",b.jsx(em,{size:18,"aria-hidden":"true"})]})})]})})},OI=()=>{const[r,e]=Qe.useState(null),n=[{id:1,role:"Post-doctoral Researcher",institution:"University of Nottingham, UK",duration:"September 2021 - Present",description:"Research associate with Prof. Philip Moriarty's nanoscience group, focusing on atomic manipulation, DFT and machine learning applications in SPM.",icon:Kb,moreDetails:`Key responsibilities and achievements:
      - Designed and executed advanced NC-AFM/STM experiments for single-atom manipulation.
      - Developed Python/bash-based analysis scripts, improving data processing efficiency.
      - Contributed to pre and post analysis DFT software (Tetr, writen in Fortran).
      - Investigating novel paths for creating 3D atomic structures.
      - Applied deep learning models for real-time image recognition in microscopy, enhancing feature identification speed.`},{id:2,role:"Physics PhD Researcher",institution:"University of Nottingham & King's College London, UK",duration:"2016-2019, 2022-Present (Expected Submission: Late 2025)",description:"Thesis: 'Towards 3D printing with atoms: Integrating machine learning with scanning probe microscopy for automated atomic assembly.'",icon:s0,moreDetails:`Research focus and key contributions:
      - Explored the intersection of nanoscience, DFT, and AI for atomic-scale fabrication.
      - Operated and maintained complex UHV SPM systems.
      - Performed DFT simulations (VASP) to model atomic interactions and guide experimental design.
      - Developed bespoke machine learning algorithms (Python, TensorFlow) for several tasks, including image classification.
      - Experience with cyclotron in particular, x-ray standing waves at Diamond Light Source, UK.`},{id:3,role:"Intelligence Analyst",institution:"Cortex-Intelligence, São Paulo, Brazil",duration:"Feb 2015 - Jul 2015",description:"Analysed big data for clients in various sectors, providing actionable insights through statistical modeling and data visualization.",icon:xd,moreDetails:`Key projects and responsibilities:
      - Data mining, statistical analysis, and predictive modeling.
      - Designed and implemented custom dashboards (e.g., using Plotly/Dash) along with proprietary tools for clients to monitor KPIs and identify trends.
      - Delivered market analysis and BI for Globo (Largest broadcaster in Brazil), Votorantim and BASF among others.
      - Developed prediction models that identified customer sentiment.
      - Collaborated directly with clients to understand their data needs. Was the first to implement Machine Learning models in the company, in particular Support Vector Machines.`},{id:4,role:"Partner - Real Estate Project",institution:"Family Business, São Paulo, Brazil",duration:"Jun 2013 - Dec 2014",description:"Responsible for financial analysis, project viability assessment, negotiations and due diligence for a closed residential development in Anapolis, Brazil.",icon:Yb,moreDetails:`Contributions and outcomes:
      - Managed project budgets and cash flow projections.
      - Conducted thorough market research and competitor analysis to inform pricing and development strategies.
      - Conducted Negotiations and due diligence.
      - Successfully contributed to securing the deal which later became Nature Home Resort at Anapolis Brazil`},{id:5,role:"Investment and Intelligence Analyst",institution:"BR Properties S.A., São Paulo, Brazil",duration:"Feb 2011 - May 2013",description:"Investment and finantiall viability analysis for commercial real estate acquisitions and development. Created the intelligence department.",icon:r0,moreDetails:`Key responsibilities and achievements:
      - Developed and refined complex financial models (DCF, IRR, sensitivity analysis) for valuing commercial properties, exceeding $20 million.
      - Conducted in-depth due diligence on potential acquisitions, identifying key risks and opportunities.
      - Negotiated deals, both investment and development, and collaborated with the merge with BTG Pactual, the leading investment bank in Brazil. 
      - Played an instrumental role in establishing data collection methodologies and market analysis protocols for the new intelligence department. This includes the creation (from scratch) of databases and analysis tools.`},{id:6,role:"Engineering Degree - Civil/Electrical Emphasis",institution:"POLI (Polytechnic School of Engineering, University of São Paulo), Brazil",duration:"Jan 2006 - Jun 2012",description:"Comprehensive 5-7 year engineering course with a strong foundation in mathematics, physics, and specialized engineering disciplines.",icon:s0,moreDetails:`Relevant coursework and projects:
      - Key Modules: Structural Analysis, Electromagnetism, Control Systems, Signal Processing, Thermodynamics, Fluid Mechanics.
      - Graduated in the top 10% (as per professors evaluations).`},{id:7,role:"Science Internship - Naval Engineering",institution:"POLI-USP, São Paulo, Brazil",duration:"Jan 2009 - Jan 2010",description:"Supervisor: Prof. Bernardo Luis Rodrigues de Andrade. Research on hydrofoil design and hydrodynamic efficiency.",icon:Xb,moreDetails:`Project details and contributions:
      - Utilized computational fluid dynamics (CFD) software to simulate and optimize hydrofoil shapes for reduced drag and improved lift characteristics.
      - Assisted in the setup and execution of experimental tests in a water tunnel facility, collecting and analyzing performance data.`},{id:8,role:"Science Internship - Mathematics",institution:"Math Department - USP, São Paulo, Brazil",duration:"Jan 2007 - Jul 2009",description:"Supervisor: Prof. Elói Medina Galego. Studied advanced topics in abstract algebra and number theory.",icon:xd,moreDetails:`Areas of study and engagement:
      - Focused on Group Theory, Ring Theory, and Galois Theory.
      - Actively participated in weekly advanced seminars and problem-solving sessions.
      - Developed a deeper understanding of mathematical proofs, abstract structures`}],a=l=>e(c=>c===l?null:l);return b.jsxs(Lr,{title:"Career & Education",icon:r0,id:"scientist",children:[b.jsx("p",{className:"text-center text-base md:text-lg text-gray-700 dark:text-slate-300 mb-12 md:mb-16 max-w-2xl mx-auto leading-relaxed",children:"A journey through academia and industry, driven by a passion for physics, data, and problem-solving. Each step has been a building block towards new discoveries and innovations."}),b.jsx("div",{className:"space-y-8",children:n.map((l,c)=>{const d=l.icon,g=r===l.id;return b.jsx(Xt,{delay:c*.1,threshold:.05,children:b.jsxs("article",{className:"bg-emerald-50 dark:bg-slate-800 p-6 rounded-lg shadow-lg dark:shadow-slate-700/60 dark:border dark:border-slate-700","aria-labelledby":`career-title-${l.id}`,children:[b.jsxs("div",{className:"flex flex-col sm:flex-row items-start",children:[b.jsx("div",{className:"flex-shrink-0 mb-4 sm:mb-0 sm:mr-6 pt-1",children:d&&b.jsx(d,{className:"w-10 h-10 md:w-12 md:h-12 text-emerald-500 dark:text-emerald-400 strokeWidth={1.5}","aria-hidden":"true"})}),b.jsxs("div",{className:"flex-grow",children:[b.jsx("h3",{id:`career-title-${l.id}`,className:"text-xl md:text-2xl font-medium text-emerald-800 dark:text-emerald-300",children:l.role}),b.jsx("p",{className:"text-base text-emerald-700 dark:text-emerald-400 font-normal mt-1",children:l.institution}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-2 mt-0.5",children:l.duration}),b.jsx("p",{className:"text-gray-700 dark:text-slate-300 leading-relaxed text-base",children:l.description}),l.moreDetails&&b.jsxs("button",{onClick:()=>a(l.id),className:"mt-4 text-sm text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-300 font-medium inline-flex items-center uppercase tracking-wider focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:ring-offset-emerald-50 dark:focus:ring-offset-slate-800 rounded-sm","aria-expanded":g,"aria-controls":`career-details-${l.id}`,children:[g?"Show Less":"View More",g?b.jsx(tm,{size:18,className:"ml-1","aria-hidden":"true"}):b.jsx(zv,{size:18,className:"ml-1","aria-hidden":"true"})]})]})]}),g&&l.moreDetails&&b.jsx($e.div,{id:`career-details-${l.id}`,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 pt-4 border-t border-emerald-200 dark:border-slate-700",children:b.jsx("p",{className:"text-gray-700 dark:text-slate-300 leading-relaxed text-sm whitespace-pre-line",children:l.moreDetails})})]})},l.id)})})]})},kI=({pub:r})=>b.jsxs("article",{className:"bg-emerald-50 dark:bg-slate-800 p-5 rounded-lg shadow-md hover:shadow-lg dark:shadow-slate-700/60 dark:hover:shadow-slate-600/70 dark:border dark:border-slate-700 transition-shadow duration-300","aria-labelledby":`pub-title-${r.id}`,children:[b.jsx("h3",{id:`pub-title-${r.id}`,className:"text-lg md:text-xl font-medium text-emerald-800 dark:text-emerald-300 mb-1.5",children:r.title}),b.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-400 italic mb-1 truncate-authors",children:r.authors}),b.jsxs("p",{className:"text-sm text-emerald-700 dark:text-emerald-400 mb-1",children:[r.journal," (",r.year,")"]}),r.note&&b.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-500 mb-3",children:r.note}),b.jsx("div",{className:"flex flex-wrap items-center mt-3",children:b.jsxs("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-300 font-medium inline-flex items-center uppercase tracking-wider focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:ring-offset-emerald-50 dark:focus:ring-offset-slate-800 rounded-sm",children:["View Publication"," ",b.jsx(em,{size:16,className:"ml-1.5","aria-hidden":"true"})]})})]}),MI=()=>{const r=[{id:1,title:"Embedding human heuristics in machine-learning-enabled probe microscopy",authors:"Oliver M Gordon and Filipe LQ Junqueira and Philip J Moriarty.",journal:"MACHINE LEARNING: SCIENCE AND TECHNOLOGY-IOP PUBLISHING",year:"2020",doi:"10.1088/2632-2153/AB42EC",link:"https://doi.org/10.1088/2632-2153/AB42EC"},{id:2,title:"Scanning tunneling state recognition with multi-class neural network ensembles",authors:"O. Gordon and P. D'Hondt and L. Knijff and S. E. Freeney and F. Junqueira and P. Moriarty and I. Swart.",journal:"REVIEW OF SCIENTIFIC INSTRUMENTS - AIP PUBLISHING",year:"2019",doi:"10.1063/1.5099590",link:"https://doi.org/10.1063/1.5099590"},{id:3,title:"Chemical shielding of H2O and HF encapsulated inside a C60 cage",authors:"Samuel P. Jarvis, Filipe Junqueira, Alex Saywell, Philipp Rahe, Salvatore Mamone, Simon Taylor, Adam Sweetman, Jeremy Leaf, Hongqian Sang, Lev Kantorovich, David Duncan, Tien-Lin Lee, Pardeep Kumar, Richard Whitby, Philip Moriarty, and Robert G Jones.",journal:"NATURE COMMUNICATIONS CHEMISTRY",year:"2021",doi:"10.1038/s42004-021-00569-0",link:"https://doi.org/10.1038/s42004-021-00569-0",note:"An STM and XWS study. XWS performed at 109 hut at Diamond Light Source."},{id:4,title:"Atomic cranes for cyclic single vertical atom manipulations",authors:"David Abbasi-Pérez, Hongqian Sang, Filipe Junqueira, Adam Sweetman, J. Manuel Recio, Philip Moriarty and Lev Kantorovich.",journal:"THE JOURNAL OF PHYSICAL CHEMISTRY LETTERS",year:"2021",doi:"10.1021/acs.jpclett.1c02271",link:"https://doi.org/10.1021/acs.jpclett.1c02271",note:"A DFT study. Cyclical single atom manipulations on GaAs(110). "}];return b.jsxs(Lr,{title:"Selected Publications",icon:$b,id:"publications",children:[b.jsx("p",{className:"text-center text-base md:text-lg text-gray-700 dark:text-slate-300 mb-12 md:mb-16 max-w-2xl mx-auto leading-relaxed",children:"Contributing to the body of scientific knowledge through peer-reviewed research. These works explore topics from machine learning in microscopy to fundamental studies of molecular interactions."}),b.jsx("div",{className:"space-y-6",children:r.map((e,n)=>b.jsx(Xt,{delay:n*.1,threshold:.05,children:b.jsx(kI,{pub:e})},e.id))})]})},VI=({title:r,description:e,artisticStatement:n,mainImage:a,galleryImages:l,imagePlaceholderColor:c,link:d,type:g,isGalleryOpen:y,onImageClick:_})=>{const[A,C]=Qe.useState(!1),[I,B]=Qe.useState(0),Y=()=>C(!A),J=ee=>{ee.stopPropagation(),l&&l.length>0&&B(ie=>(ie+1)%l.length)},X=ee=>{ee.stopPropagation(),l&&l.length>0&&B(ie=>(ie-1+l.length)%l.length)};Qe.useEffect(()=>{g==="blender"&&!y&&B(0)},[y,g]);const se=ee=>{ee.target.onerror=null,ee.target.src="https://placehold.co/600x400/E0E0E0/BDBDBD?text=Image+Not+Found"};return b.jsxs("article",{className:"bg-emerald-50 dark:bg-slate-800 p-6 rounded-lg shadow-md hover:shadow-xl dark:shadow-slate-700/60 dark:hover:shadow-slate-600/70 dark:border dark:border-slate-700 transition-all duration-300 flex flex-col h-full",children:[g==="blender"&&a?b.jsx("div",{className:"overflow-hidden rounded-md mb-5 shadow-sm",children:b.jsx(Gc,{src:a,alt:`Main image for ${r} - ${g} project`,className:"w-full h-52 md:h-60 object-cover transition-transform duration-300 ease-in-out hover:scale-105 cursor-pointer",onError:se,onClick:()=>_(a),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}):b.jsx("div",{className:`w-full h-52 md:h-60 rounded-md flex items-center justify-center text-white dark:text-slate-300 text-xl font-semibold mb-5 ${c||"bg-gray-300 dark:bg-slate-700"}`,role:"img","aria-label":`${r} project placeholder image`,children:g==="blender"?b.jsx(Wd,{size:52,strokeWidth:1.5,"aria-hidden":"true"}):b.jsx(Tr,{size:52,strokeWidth:1.5,"aria-hidden":"true"})}),b.jsx("h3",{className:"text-xl md:text-2xl font-medium text-emerald-800 dark:text-emerald-300 mb-3",children:r}),b.jsxs("div",{className:"flex-grow",children:[b.jsx("p",{className:`text-gray-700 dark:text-slate-300 text-sm md:text-base mb-2 ${A||!n?"":"line-clamp-3"}`,children:e}),n&&b.jsx("p",{className:`text-emerald-700/80 dark:text-emerald-400/80 text-xs italic mt-1 mb-4 ${A?"":"line-clamp-2"}`,children:n})]}),(e.length>100||n&&n.length>50)&&b.jsxs("button",{onClick:Y,className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-300 flex items-center mb-4 text-sm font-medium self-start uppercase tracking-wider focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:ring-offset-emerald-50 dark:focus:ring-offset-slate-800 rounded-sm","aria-expanded":A,children:[A?"Show Less":"Show More",A?b.jsx(tm,{size:18,className:"ml-1","aria-hidden":"true"}):b.jsx(zv,{size:18,className:"ml-1","aria-hidden":"true"})]}),b.jsx("div",{className:"mt-auto",children:d&&b.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-300 font-medium transition-colors duration-300 self-start text-sm uppercase tracking-wider focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:ring-offset-emerald-50 dark:focus:ring-offset-slate-800 rounded-sm",children:["View Project ",b.jsx(em,{size:16,className:"ml-1.5"})]})}),g==="blender"&&y&&l&&l.length>0&&b.jsxs("div",{id:`${r.replace(/\s+/g,"-").toLowerCase()}-gallery`,className:"mt-4 pt-4 border-t border-emerald-200 dark:border-slate-700",children:[b.jsxs("div",{className:"relative mb-2",children:[b.jsx("div",{className:"overflow-hidden rounded-md",children:b.jsx(Gc,{src:l[I],alt:`${r} - Gallery Image ${I+1} of ${l.length}`,className:"w-full h-60 md:h-72 object-cover shadow-inner bg-gray-100 dark:bg-slate-700 transition-transform duration-300 ease-in-out hover:scale-105 cursor-pointer",onError:se,onClick:()=>_(l[I]),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),l.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:X,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-opacity focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-offset-black/50 focus:ring-white","aria-label":"Previous Image",children:b.jsx(Zb,{size:22,"aria-hidden":"true"})}),b.jsx("button",{onClick:J,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-opacity focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-offset-black/50 focus:ring-white","aria-label":"Next Image",children:b.jsx(Jb,{size:22,"aria-hidden":"true"})})]})]}),l.length>1&&b.jsxs("p",{className:"text-center text-xs text-gray-600 dark:text-slate-400",children:["Image ",I+1," of ",l.length]})]})]})},PI="/assets/blenderA-DvwdreyM.png",UI="/assets/blenderA-DvwdreyM.png",LI="/assets/blenderA-DvwdreyM.png",jI="/assets/blenderA-DvwdreyM.png",zI="/assets/blenderA-DvwdreyM.png",BI="/assets/blenderA-DvwdreyM.png",qI="/assets/blenderA-DvwdreyM.png",HI="/assets/blenderA-DvwdreyM.png",FI="/assets/blenderA-DvwdreyM.png",GI="/assets/blenderA-DvwdreyM.png",QI="/assets/blenderA-DvwdreyM.png",KI="/assets/blenderA-DvwdreyM.png",YI="/assets/blenderA-DvwdreyM.png",XI="/assets/blenderA-DvwdreyM.png",$I=()=>{const[r,e]=Qe.useState(!1),[n,a]=Qe.useState(null),l=[{id:1,title:"Abstract 3D Art",description:"Exploring forms, textures, and lighting...",artisticStatement:"Focus: Procedural generation...",mainImage:PI,galleryImages:[UI,LI,jI]},{id:2,title:"Scientific Visualization",description:"Using Blender to create visualizations...",artisticStatement:"Goal: To accurately and beautifully convey...",mainImage:zI,galleryImages:[BI,qI,HI,FI,GI]},{id:3,title:"Character/Concept Design",description:"Developing unique characters and concepts...",artisticStatement:"Exploration: Character storytelling...",mainImage:QI,galleryImages:[KI,YI,XI]}],c=()=>{e(d=>!d)};return b.jsxs(b.Fragment,{children:[b.jsxs(Lr,{title:"Blender Art & 3D Visualization",icon:Wd,id:"blender",children:[b.jsx("p",{className:"text-center text-base md:text-lg text-gray-700 dark:text-slate-300 mb-12 md:mb-16 max-w-2xl mx-auto leading-relaxed",children:"Leveraging Blender for creative 3D projects, scientific visualization, and concept art. Each piece is a journey into form, light, and narrative, aiming to bridge the gap between the technical and the aesthetic."}),b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10",children:l.map((d,g)=>b.jsx(Xt,{delay:g*.15,threshold:.1,children:b.jsx(VI,{...d,type:"blender",isGalleryOpen:r,onImageClick:a})},d.id))}),b.jsx("div",{className:"text-center mt-12 md:mt-16",children:b.jsxs("button",{onClick:c,className:"inline-flex items-center gap-2 bg-emerald-500 dark:bg-emerald-600 text-white font-medium py-2.5 px-6 rounded-md hover:bg-emerald-600 dark:hover:bg-emerald-700 transition-all duration-300 shadow-sm hover:shadow-md text-sm uppercase tracking-wider focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-400 dark:focus:ring-emerald-500 focus:ring-offset-white dark:focus:ring-offset-slate-800","aria-expanded":r,children:[r?"Hide All Images":"View All Images",r?b.jsx(tm,{size:18,"aria-hidden":"true"}):b.jsx(Wb,{size:18,"aria-hidden":"true"})]})}),b.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-slate-400 mt-8",children:"More creations and visualizations coming soon! Stay tuned for updates on new projects and explorations."})]}),b.jsx(Vb,{children:n&&b.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(null),className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4","aria-modal":"true",role:"dialog",children:[b.jsx($e.button,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},exit:{scale:0,rotate:-90},transition:{type:"spring",stiffness:300,damping:20},onClick:()=>a(null),className:"absolute top-5 right-5 text-white bg-black/40 rounded-full p-2 hover:bg-black/60 transition-colors","aria-label":"Close image view",children:b.jsx(e1,{size:30})}),b.jsx($e.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},transition:{type:"spring",stiffness:250,damping:25},onClick:d=>d.stopPropagation(),className:"relative max-w-[90vw] max-h-[90vh]",children:b.jsx("img",{src:n,alt:"Enlarged view of Blender render",className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl"})})]})})]})},ZI=()=>{const r=[{id:1,title:"DFT Automation Suite",description:"A Python-based CLI tool to streamline Density Functional Theory (DFT) calculations, manage input/output files for software like VASP or Quantum Espresso, and automate job submissions to HPC clusters using SLURM or PBS.",problemSolved:"Reduces manual intervention and potential for errors in complex DFT workflows, significantly speeding up research cycles for materials simulation.",icon:jv,codeExample:b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"> "}),b.jsx("span",{className:"text-emerald-500 dark:text-sky-400",children:"dft-suite run"}),b.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400",children:[" ","--job_type relax"]}),b.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400",children:[" ","--struct Si.vasp"]}),b.jsx("br",{}),b.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Initializing calculation for Si.vasp..."}),b.jsx("br",{}),b.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Input files generated."}),b.jsx("br",{}),b.jsxs("span",{className:"text-gray-500 dark:text-slate-500",children:["Submitting job to SLURM ID:"," "]}),b.jsx("span",{className:"text-green-500 dark:text-green-400",children:"12345"}),b.jsx("br",{}),b.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Monitoring status... Job completed successfully."}),b.jsx("br",{}),b.jsxs("span",{className:"text-gray-500 dark:text-slate-500",children:["Final energy:"," "]}),b.jsx("span",{className:"text-green-500 dark:text-green-400",children:"-5.42 eV/atom"})]}),tags:["Python","CLI","DFT","VASP","HPC","Automation","SLURM"],githubLink:"https://github.com/filipejunqueira/dft-suite"},{id:2,title:"SPM Data Analyzer",description:"Command-line utilities for processing and analyzing Scanning Probe Microscopy (SPM) data (AFM/STM). Features include drift correction, plane fitting, noise filtering, tip deconvolution, and basic statistical analysis of surface features.",problemSolved:"Provides a consistent and scriptable way to perform common SPM data processing tasks, ensuring reproducibility and enabling batch processing of large datasets.",icon:wd,codeExample:b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"> "}),b.jsx("span",{className:"text-emerald-500 dark:text-sky-400",children:"spm-analyzer process"}),b.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400",children:[" ","--file afm_scan.xyz"]}),b.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400",children:[" ","--drift_correct --plane_fit"]}),b.jsx("br",{}),b.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Processing scan data: afm_scan.xyz"}),b.jsx("br",{}),b.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Applying 2D polynomial drift correction..."}),b.jsx("br",{}),b.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Performing plane fitting (order 1)..."}),b.jsx("br",{}),b.jsx("span",{className:"text-green-500 dark:text-green-400",children:"Drift corrected. RMS roughness: 0.15 nm"}),b.jsx("br",{}),b.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Saving processed_afm_scan.dat"})]}),tags:["Python","CLI","SPM","AFM","STM","Data Analysis","Nanoscience"],githubLink:"https://github.com/filipejunqueira/spm-analyzer"},{id:3,title:"Quick Plotter CLI",description:"A rapid plotting tool for generating publication-quality graphs from CSV or text files directly from the terminal. Supports various plot types, custom labels, legends, and output formats, powered by Matplotlib.",problemSolved:"Eliminates the need to write repetitive plotting scripts for common data visualization tasks, allowing for quick insights and figure generation from the command line.",icon:t1,codeExample:b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"> "}),b.jsx("span",{className:"text-emerald-500 dark:text-sky-400",children:"quickplot"}),b.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400",children:[" ","--file results.csv"]}),b.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400",children:[" ",'--x_col "Voltage"']}),b.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400",children:[" ",'--y_col "Current"']}),b.jsx("span",{children:" \\"}),b.jsx("br",{}),b.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400",children:[" ",'-t "I-V Curve for Device X"']}),b.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400",children:[" ",'--xlabel "Voltage (V)"']}),b.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400",children:[" ",'--ylabel "Current (nA)"']}),b.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400",children:[" ","--save plot.png"]}),b.jsx("br",{}),b.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Generating plot 'I-V Curve for Device X'..."}),b.jsx("br",{}),b.jsx("span",{className:"text-green-500 dark:text-green-400",children:"Saved to plot_Voltage_vs_Current.png"})]}),tags:["Python","CLI","Plotting","Matplotlib","Data Viz","Automation"],githubLink:"https://github.com/filipejunqueira/quickplot"}],e={hidden:{opacity:0,y:30},visible:n=>({opacity:1,y:0,transition:{delay:n*.12,duration:.5,ease:"easeInOut"}}),hover:{y:-6,scale:1.02,boxShadow:"0px 8px 20px rgba(16, 185, 129, 0.12)"}};return b.jsxs(Lr,{title:"CLI Tools & Scripts",icon:Lv,id:"cli",children:[b.jsx("p",{className:"text-center text-base md:text-lg text-gray-700 dark:text-slate-300 mb-12 md:mb-16 max-w-2xl mx-auto leading-relaxed",children:"Crafting efficient command-line interfaces to accelerate research and automate complex tasks in nanoscience and data analysis. These tools are designed for robustness and ease of use."}),b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10",children:r.map((n,a)=>{const l=n.icon;return b.jsxs($e.article,{className:"bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-xl shadow-lg hover:shadow-xl dark:shadow-slate-700/60 dark:hover:shadow-slate-600/70 dark:border dark:border-slate-700 transition-all duration-300 flex flex-col cursor-default",variants:e,initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,amount:.1},custom:a,"aria-labelledby":`cli-tool-title-${n.id}`,children:[b.jsxs("div",{className:"flex items-center text-emerald-600 dark:text-emerald-400 mb-4",children:[b.jsx(l,{className:"h-9 w-9 mr-3.5 stroke-[1.75] flex-shrink-0","aria-hidden":"true"}),b.jsx("h3",{id:`cli-tool-title-${n.id}`,className:"text-lg lg:text-xl font-medium text-emerald-800 dark:text-emerald-300",children:n.title})]}),b.jsx("p",{className:"text-gray-700 dark:text-slate-300 text-sm mb-3 leading-relaxed",children:n.description}),n.problemSolved&&b.jsxs("p",{className:"text-emerald-700/80 dark:text-emerald-400/80 text-xs italic mt-1 mb-4",children:[b.jsx("span",{className:"font-semibold",children:"Impact: "}),n.problemSolved]}),b.jsx("div",{className:"mb-5 flex flex-wrap gap-2",children:n.tags.map(c=>b.jsx("span",{className:"text-xs bg-emerald-100 dark:bg-slate-700 text-emerald-800 dark:text-emerald-300 px-3 py-1 rounded-full font-medium",children:c},c))}),n.codeExample&&b.jsx("div",{className:"bg-gray-800 dark:bg-slate-900/80 p-4 rounded-lg font-mono text-xs mb-5 overflow-x-auto shadow-inner",children:b.jsx("pre",{className:"whitespace-pre-wrap leading-relaxed text-sm",children:n.codeExample})}),b.jsxs($e.a,{href:n.githubLink||"https://github.com/filipejunqueira",target:"_blank",rel:"noopener noreferrer",className:"mt-auto inline-flex items-center justify-center gap-2 bg-emerald-500 dark:bg-emerald-600 text-white font-medium py-2.5 px-5 rounded-md hover:bg-emerald-600 dark:hover:bg-emerald-700 transition-colors duration-300 shadow-sm hover:shadow-md text-sm uppercase tracking-wider focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-400 dark:focus:ring-emerald-500 focus:ring-offset-white dark:focus:ring-offset-slate-800",whileHover:{scale:1.03,transition:{type:"spring",stiffness:300,damping:10}},whileTap:{scale:.97},children:[b.jsx(Jd,{size:18,"aria-hidden":"true"})," View on GitHub"]})]},n.id)})})]})},JI=({href:r,IconInitial:e,textInitial:n,textHover:a,bgColorInitial:l,bgColorHover:c,isExternal:d=!0,ariaLabel:g})=>{const[y,_]=Qe.useState(!1);return b.jsx("a",{href:r,target:d?"_blank":"_self",rel:d?"noopener noreferrer":"",className:`flex items-center justify-center font-medium py-2.5 px-5 rounded-md text-white transition-all duration-300 ease-in-out shadow-md hover:shadow-lg transform hover:scale-105 w-full sm:w-auto min-h-[48px] text-sm uppercase tracking-wider focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white/80 ${l} ${c}`,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),"aria-label":g||n,children:b.jsxs("div",{className:"relative w-full text-center overflow-hidden h-5",children:[b.jsxs("span",{className:`absolute inset-0 flex items-center justify-center transition-all duration-300 ease-in-out ${y?"opacity-0 -translate-y-full":"opacity-100 translate-y-0"}`,"aria-hidden":y,children:[e&&b.jsx(e,{size:18,className:"mr-2 flex-shrink-0","aria-hidden":"true"})," ",b.jsx("span",{className:"truncate",children:n})]}),b.jsx("span",{className:`absolute inset-0 flex items-center justify-center transition-all duration-300 ease-in-out ${y?"opacity-100 translate-y-0":"opacity-0 translate-y-full"}`,"aria-hidden":!y,children:b.jsx("span",{className:"truncate",children:a})})]})})},WI=()=>{const[r,e]=a1("xwpbkqew"),n=[{href:"https://linkedin.com/in/filipejunqueira",IconInitial:r1,textInitial:"LinkedIn",textHover:"View Profile",bgColorInitial:"bg-sky-600 dark:bg-sky-700",bgColorHover:"hover:bg-sky-700 dark:hover:bg-sky-800",ariaLabel:"Filipe Junqueira on LinkedIn"},{href:"https://github.com/filipejunqueira",IconInitial:Jd,textInitial:"GitHub",textHover:"View Repos",bgColorInitial:"bg-gray-700 dark:bg-slate-700",bgColorHover:"hover:bg-gray-800 dark:hover:bg-slate-600",ariaLabel:"Filipe Junqueira on GitHub"},{href:"https://x.com/CaptBroccoli",IconInitial:s1,textInitial:"Twitter / X",textHover:"@CaptBroccoli",bgColorInitial:"bg-sky-500 dark:bg-sky-600",bgColorHover:"hover:bg-sky-600 dark:hover:bg-sky-700",ariaLabel:"Filipe Junqueira (Captain Broccoli) on Twitter/X"}];return b.jsxs(Lr,{title:"Get In Touch",icon:n1,id:"contact",children:[b.jsx("p",{className:"text-center text-base md:text-lg text-gray-700 dark:text-slate-300 mb-10 md:mb-12 max-w-xl mx-auto leading-relaxed",children:"I'm always open to discussing new projects, collaborations, or just connecting with like-minded individuals. Send me a message using the form below, or connect via social media!"}),b.jsx($e.div,{className:"max-w-xl mx-auto bg-white dark:bg-slate-800/50 p-6 sm:p-8 rounded-lg shadow-lg dark:shadow-slate-700/70 mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:r.succeeded?b.jsx("p",{className:"text-center text-lg font-medium text-green-600 dark:text-green-400 py-10",children:"Thanks for your message! I'll get back to you soon. 😊"}):b.jsxs("form",{onSubmit:e,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Full Name"}),b.jsx("input",{id:"name",type:"text",name:"name",required:!0,className:"block w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 dark:bg-slate-700 dark:text-slate-100 sm:text-sm transition-colors",placeholder:"Your Name"}),b.jsx(ud,{prefix:"Name",field:"name",errors:r.errors,className:"text-red-500 dark:text-red-400 text-xs mt-1"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Email Address"}),b.jsx("input",{id:"email",type:"email",name:"email",required:!0,className:"block w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 dark:bg-slate-700 dark:text-slate-100 sm:text-sm transition-colors",placeholder:"you@example.com"}),b.jsx(ud,{prefix:"Email",field:"email",errors:r.errors,className:"text-red-500 dark:text-red-400 text-xs mt-1"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Message"}),b.jsx("textarea",{id:"message",name:"message",rows:"4",required:!0,className:"block w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 dark:bg-slate-700 dark:text-slate-100 sm:text-sm transition-colors",placeholder:"Your message..."}),b.jsx(ud,{prefix:"Message",field:"message",errors:r.errors,className:"text-red-500 dark:text-red-400 text-xs mt-1"})]}),b.jsxs("div",{children:[b.jsx("button",{type:"submit",disabled:r.submitting,className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-emerald-600 hover:bg-emerald-700 dark:bg-emerald-500 dark:hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 dark:focus:ring-offset-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.submitting?b.jsxs(b.Fragment,{children:[b.jsx(Bv,{size:20,className:"animate-spin mr-2"}),"Sending..."]}):b.jsxs(b.Fragment,{children:[b.jsx(i1,{size:18,className:"mr-2"}),"Send Message"]})}),r.errors&&!r.errors.getAllerrors&&r.errors.getFormErrors().length>0&&b.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-2 text-center",children:"Oops! There was a problem submitting your form. Please try again."})]})]})}),b.jsx("p",{className:"text-center text-base text-gray-700 dark:text-slate-300 mb-6 md:mb-8",children:"Or connect with me on social media:"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 md:gap-6 max-w-3xl mx-auto",children:n.map((a,l)=>b.jsx(Xt,{delay:l*.1,threshold:.1,children:b.jsx(JI,{...a})},l))})]})},eC=()=>b.jsx("footer",{className:"bg-emerald-700 dark:bg-slate-800 text-emerald-100 dark:text-slate-300 py-10 text-center",children:b.jsxs("div",{className:"container mx-auto",children:[b.jsxs("p",{className:"text-sm",children:["© ",new Date().getFullYear()," Filipe L. Q. Junqueira. All rights reserved."]}),b.jsx("p",{className:"text-xs mt-2 opacity-80 dark:opacity-70",children:"Crafted with React, Tailwind CSS, Framer Motion & Love :-)"})]})}),tC=typeof __firebase_config<"u"?__firebase_config:"{}";let wr={};try{wr=JSON.parse(tC),Object.keys(wr).length}catch{wr={}}const xa=typeof __app_id<"u"?__app_id:"default-app-id",al={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},Uv={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:50,damping:15}}},nC={hidden:{opacity:0,x:50},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:50,damping:15}}};function iC(){const[r,e]=Qe.useState(!1),[n,a]=Qe.useState(null),[l,c]=Qe.useState(null),[d,g]=Qe.useState(!1),y={"@context":"https://schema.org","@type":"Person",name:"Filipe L. Q. Junqueira",url:"https://filipej.dev",image:"https://filipej.dev/og-image.png",jobTitle:"Research Associate",worksFor:{"@type":"Organization",name:"University of Nottingham",sameAs:"https://www.nottingham.ac.uk/physics/"},alumniOf:[{"@type":"CollegeOrUniversity",name:"University of Nottingham"},{"@type":"CollegeOrUniversity",name:"King's College London"},{"@type":"CollegeOrUniversity",name:"Polytechnic School of Engineering, University of São Paulo"}],knowsAbout:["Nanoscience","3D printing with atoms","NC-AFM","STM","DFT","Machine Learning","Blender 3D Art","Python","Scientific Visualization","Physics","Computational Physics"],sameAs:["https://www.linkedin.com/in/filipejunqueira/","https://github.com/filipejunqueira","https://x.com/CaptBroccoli"],description:"Portfolio of Filipe L. Q. Junqueira, showcasing research in nanoscience, 3D atomic printing, advanced microscopy (NC-AFM/STM), Density Functional Theory (DFT), machine learning applications, Blender 3D art, and custom CLI tool development for scientific workflows.",nationality:{"@type":"Country",name:"Brazilian"}};Qe.useEffect(()=>{if(wr&&Object.keys(wr).length>0&&xa)try{const I=Jv(wr),B=W2(I),Y=Zw(I);a(B);const J=zS(Y,async X=>{if(X)c(X.uid);else if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await US(Y,__initial_auth_token)}catch{try{await C0(Y)}catch{c(localStorage.getItem("portfolio-fallback-uid")||crypto.randomUUID())}}else try{await C0(Y)}catch{let ee=localStorage.getItem("portfolio-fallback-uid");ee||(ee=crypto.randomUUID(),localStorage.setItem("portfolio-fallback-uid",ee)),c(ee)}g(!0)});return()=>J()}catch{g(!0);let B=localStorage.getItem("portfolio-fallback-uid");B||(B=crypto.randomUUID(),localStorage.setItem("portfolio-fallback-uid",B)),c(B)}else{g(!0);let I=localStorage.getItem("portfolio-fallback-uid");I||(I=crypto.randomUUID(),localStorage.setItem("portfolio-fallback-uid",I)),c(I)}},[]),Qe.useEffect(()=>{if(!d||!l)return;(async()=>{let B=!1;const Y=localStorage.getItem(`darkMode-${l}`);if(Y!==null&&(B=JSON.parse(Y)),n){const J=Ov(n,"artifacts",xa,"users",l,"preferences","darkMode");try{const X=await mI(J);if(X.exists()){const se=X.data();typeof se.enabled=="boolean"&&(B=se.enabled)}}catch{}}e(B)})()},[d,n,l,xa]),Qe.useEffect(()=>{if(r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),d&&l&&(localStorage.setItem(`darkMode-${l}`,JSON.stringify(r)),n)){const I=Ov(n,"artifacts",xa,"users",l,"preferences","darkMode");pI(I,{enabled:r},{merge:!0}).catch(B=>{})}},[r,d,n,l,xa]);const _=()=>e(I=>!I),[A,C]=Qe.useState("home");return Qe.useEffect(()=>{const I=window.location.hash.substring(1),B=I||(A!=="home"?A:null);if(B){const Y=document.getElementById(B);if(Y){const J=document.querySelector("nav")?.offsetHeight||0,se=Y.getBoundingClientRect().top+window.pageYOffset-J-24;window.scrollTo({top:se,behavior:"smooth"}),I&&I!==A&&C(I)}}else A==="home"&&!I&&window.scrollTo({top:0,behavior:"smooth"})},[A,typeof window<"u"?window.location.hash:""]),!d&&wr&&Object.keys(wr).length>0&&xa?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-emerald-50 dark:bg-slate-900",children:b.jsx(Bv,{className:"w-12 h-12 text-emerald-500 dark:text-emerald-400 animate-spin","aria-label":"Loading content"})}):b.jsxs("div",{className:"font-sans bg-emerald-50/50 dark:bg-slate-900 text-gray-800 dark:text-slate-200 min-h-screen transition-colors duration-300",children:[b.jsxs(jb,{children:[b.jsx("script",{type:"application/ld+json",children:JSON.stringify(y)}),b.jsx("title",{children:"Filipe L. Q. Junqueira - Portfolio | Nanoscience & Development"}),b.jsx("meta",{name:"description",content:y.description})]}),b.jsx(xI,{setActiveSection:C,toggleDarkMode:_,isDarkMode:r}),b.jsx(II,{}),b.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[b.jsx(Xt,{id:"about-animated-wrapper",variants:al,delay:.1,children:b.jsx(CI,{})}),b.jsx(Xt,{id:"skills-animated-wrapper",variants:al,delay:.15,children:b.jsx(NI,{})}),b.jsx(Xt,{id:"teaching-animated-wrapper",variants:al,delay:.18,children:b.jsx(DI,{})}),b.jsx(Xt,{id:"scientist-animated-wrapper",variants:Uv,delay:.2,children:b.jsx(OI,{})}),b.jsx(Xt,{id:"publications-animated-wrapper",variants:al,delay:.25,children:b.jsx(MI,{})}),b.jsx(Xt,{id:"blender-animated-wrapper",variants:nC,delay:.2,children:b.jsx($I,{})}),b.jsx(Xt,{id:"cli-animated-wrapper",variants:al,delay:.25,children:b.jsx(ZI,{})}),b.jsx(Xt,{id:"contact-animated-wrapper",variants:Uv,delay:.2,children:b.jsx(WI,{})})]}),b.jsx(eC,{})]})}f1.createRoot(document.getElementById("root")).render(b.jsx(zb.StrictMode,{children:b.jsx(Bb,{children:b.jsx(iC,{})})}));
